(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function If(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pc={exports:{}},Dl={},mc={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=Symbol.for("react.element"),Df=Symbol.for("react.portal"),Ff=Symbol.for("react.fragment"),Af=Symbol.for("react.strict_mode"),zf=Symbol.for("react.profiler"),Of=Symbol.for("react.provider"),Uf=Symbol.for("react.context"),$f=Symbol.for("react.forward_ref"),Vf=Symbol.for("react.suspense"),Bf=Symbol.for("react.memo"),Hf=Symbol.for("react.lazy"),Da=Symbol.iterator;function Wf(e){return e===null||typeof e!="object"?null:(e=Da&&e[Da]||e["@@iterator"],typeof e=="function"?e:null)}var hc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gc=Object.assign,xc={};function vr(e,t,n){this.props=e,this.context=t,this.refs=xc,this.updater=n||hc}vr.prototype.isReactComponent={};vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vc(){}vc.prototype=vr.prototype;function Fi(e,t,n){this.props=e,this.context=t,this.refs=xc,this.updater=n||hc}var Ai=Fi.prototype=new vc;Ai.constructor=Fi;gc(Ai,vr.prototype);Ai.isPureReactComponent=!0;var Fa=Array.isArray,yc=Object.prototype.hasOwnProperty,zi={current:null},wc={key:!0,ref:!0,__self:!0,__source:!0};function Sc(e,t,n){var r,s={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)yc.call(t,r)&&!wc.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:hs,type:e,key:l,ref:i,props:s,_owner:zi.current}}function Gf(e,t){return{$$typeof:hs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Oi(e){return typeof e=="object"&&e!==null&&e.$$typeof===hs}function Xf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Aa=/\/+/g;function io(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xf(""+e.key):t.toString(36)}function Gs(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case hs:case Df:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+io(i,0):r,Fa(s)?(n="",e!=null&&(n=e.replace(Aa,"$&/")+"/"),Gs(s,t,n,"",function(c){return c})):s!=null&&(Oi(s)&&(s=Gf(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Aa,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Fa(e))for(var a=0;a<e.length;a++){l=e[a];var u=r+io(l,a);i+=Gs(l,t,n,u,s)}else if(u=Wf(e),typeof u=="function")for(e=u.call(e),a=0;!(l=e.next()).done;)l=l.value,u=r+io(l,a++),i+=Gs(l,t,n,u,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ns(e,t,n){if(e==null)return e;var r=[],s=0;return Gs(e,r,"","",function(l){return t.call(n,l,s++)}),r}function Kf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},Xs={transition:null},Qf={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:Xs,ReactCurrentOwner:zi};function kc(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Ns,forEach:function(e,t,n){Ns(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ns(e,function(){t++}),t},toArray:function(e){return Ns(e,function(t){return t})||[]},only:function(e){if(!Oi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=vr;G.Fragment=Ff;G.Profiler=zf;G.PureComponent=Fi;G.StrictMode=Af;G.Suspense=Vf;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qf;G.act=kc;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gc({},e.props),s=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=zi.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)yc.call(t,u)&&!wc.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:hs,type:e.type,key:s,ref:l,props:r,_owner:i}};G.createContext=function(e){return e={$$typeof:Uf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Of,_context:e},e.Consumer=e};G.createElement=Sc;G.createFactory=function(e){var t=Sc.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:$f,render:e}};G.isValidElement=Oi;G.lazy=function(e){return{$$typeof:Hf,_payload:{_status:-1,_result:e},_init:Kf}};G.memo=function(e,t){return{$$typeof:Bf,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Xs.transition;Xs.transition={};try{e()}finally{Xs.transition=t}};G.unstable_act=kc;G.useCallback=function(e,t){return Ae.current.useCallback(e,t)};G.useContext=function(e){return Ae.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};G.useEffect=function(e,t){return Ae.current.useEffect(e,t)};G.useId=function(){return Ae.current.useId()};G.useImperativeHandle=function(e,t,n){return Ae.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Ae.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Ae.current.useReducer(e,t,n)};G.useRef=function(e){return Ae.current.useRef(e)};G.useState=function(e){return Ae.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Ae.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Ae.current.useTransition()};G.version="18.3.1";mc.exports=G;var p=mc.exports;const $r=If(p);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=p,Zf=Symbol.for("react.element"),qf=Symbol.for("react.fragment"),Jf=Object.prototype.hasOwnProperty,ep=Yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tp={key:!0,ref:!0,__self:!0,__source:!0};function Nc(e,t,n){var r,s={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Jf.call(t,r)&&!tp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Zf,type:e,key:l,ref:i,props:s,_owner:ep.current}}Dl.Fragment=qf;Dl.jsx=Nc;Dl.jsxs=Nc;pc.exports=Dl;var o=pc.exports,Vo={},jc={exports:{}},Je={},Ec={exports:{}},Pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,F){var I=_.length;_.push(F);e:for(;0<I;){var U=I-1>>>1,H=_[U];if(0<s(H,F))_[U]=F,_[I]=H,I=U;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var F=_[0],I=_.pop();if(I!==F){_[0]=I;e:for(var U=0,H=_.length,ne=H>>>1;U<ne;){var ae=2*(U+1)-1,Ne=_[ae],Y=ae+1,ge=_[Y];if(0>s(Ne,I))Y<H&&0>s(ge,Ne)?(_[U]=ge,_[Y]=I,U=Y):(_[U]=Ne,_[ae]=I,U=ae);else if(Y<H&&0>s(ge,I))_[U]=ge,_[Y]=I,U=Y;else break e}}return F}function s(_,F){var I=_.sortIndex-F.sortIndex;return I!==0?I:_.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var u=[],c=[],m=1,x=null,h=3,y=!1,k=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(_){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=_)r(c),F.sortIndex=F.expirationTime,t(u,F);else break;F=n(c)}}function v(_){if(w=!1,g(_),!k)if(n(u)!==null)k=!0,C(E);else{var F=n(c);F!==null&&O(v,F.startTime-_)}}function E(_,F){k=!1,w&&(w=!1,f(M),M=-1),y=!0;var I=h;try{for(g(F),x=n(u);x!==null&&(!(x.expirationTime>F)||_&&!S());){var U=x.callback;if(typeof U=="function"){x.callback=null,h=x.priorityLevel;var H=U(x.expirationTime<=F);F=e.unstable_now(),typeof H=="function"?x.callback=H:x===n(u)&&r(u),g(F)}else r(u);x=n(u)}if(x!==null)var ne=!0;else{var ae=n(c);ae!==null&&O(v,ae.startTime-F),ne=!1}return ne}finally{x=null,h=I,y=!1}}var R=!1,j=null,M=-1,b=5,P=-1;function S(){return!(e.unstable_now()-P<b)}function T(){if(j!==null){var _=e.unstable_now();P=_;var F=!0;try{F=j(!0,_)}finally{F?A():(R=!1,j=null)}}else R=!1}var A;if(typeof d=="function")A=function(){d(T)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,V=z.port2;z.port1.onmessage=T,A=function(){V.postMessage(null)}}else A=function(){N(T,0)};function C(_){j=_,R||(R=!0,A())}function O(_,F){M=N(function(){_(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){k||y||(k=!0,C(E))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(_){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var I=h;h=F;try{return _()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,F){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var I=h;h=_;try{return F()}finally{h=I}},e.unstable_scheduleCallback=function(_,F,I){var U=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?U+I:U):I=U,_){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=I+H,_={id:m++,callback:F,priorityLevel:_,startTime:I,expirationTime:H,sortIndex:-1},I>U?(_.sortIndex=I,t(c,_),n(u)===null&&_===n(c)&&(w?(f(M),M=-1):w=!0,O(v,I-U))):(_.sortIndex=H,t(u,_),k||y||(k=!0,C(E))),_},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(_){var F=h;return function(){var I=h;h=F;try{return _.apply(this,arguments)}finally{h=I}}}})(Pc);Ec.exports=Pc;var np=Ec.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=p,qe=np;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cc=new Set,Zr={};function Dn(e,t){dr(e,t),dr(e+"Capture",t)}function dr(e,t){for(Zr[e]=t,e=0;e<t.length;e++)Cc.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bo=Object.prototype.hasOwnProperty,sp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,za={},Oa={};function lp(e){return Bo.call(Oa,e)?!0:Bo.call(za,e)?!1:sp.test(e)?Oa[e]=!0:(za[e]=!0,!1)}function op(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ip(e,t,n,r){if(t===null||typeof t>"u"||op(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,n,r,s,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ui=/[\-:]([a-z])/g;function $i(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ui,$i);Ce[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ui,$i);Ce[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ui,$i);Ce[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vi(e,t,n,r){var s=Ce.hasOwnProperty(t)?Ce[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ip(t,n,s,r)&&(n=null),r||s===null?lp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ht=rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,js=Symbol.for("react.element"),Gn=Symbol.for("react.portal"),Xn=Symbol.for("react.fragment"),Bi=Symbol.for("react.strict_mode"),Ho=Symbol.for("react.profiler"),Mc=Symbol.for("react.provider"),bc=Symbol.for("react.context"),Hi=Symbol.for("react.forward_ref"),Wo=Symbol.for("react.suspense"),Go=Symbol.for("react.suspense_list"),Wi=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),_c=Symbol.for("react.offscreen"),Ua=Symbol.iterator;function Er(e){return e===null||typeof e!="object"?null:(e=Ua&&e[Ua]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,ao;function Ar(e){if(ao===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ao=t&&t[1]||""}return`
`+ao+e}var uo=!1;function co(e,t){if(!e||uo)return"";uo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),l=r.stack.split(`
`),i=s.length-1,a=l.length-1;1<=i&&0<=a&&s[i]!==l[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==l[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==l[a]){var u=`
`+s[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=a);break}}}finally{uo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ar(e):""}function ap(e){switch(e.tag){case 5:return Ar(e.type);case 16:return Ar("Lazy");case 13:return Ar("Suspense");case 19:return Ar("SuspenseList");case 0:case 2:case 15:return e=co(e.type,!1),e;case 11:return e=co(e.type.render,!1),e;case 1:return e=co(e.type,!0),e;default:return""}}function Xo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xn:return"Fragment";case Gn:return"Portal";case Ho:return"Profiler";case Bi:return"StrictMode";case Wo:return"Suspense";case Go:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bc:return(e.displayName||"Context")+".Consumer";case Mc:return(e._context.displayName||"Context")+".Provider";case Hi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wi:return t=e.displayName||null,t!==null?t:Xo(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return Xo(e(t))}catch{}}return null}function up(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xo(t);case 8:return t===Bi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cp(e){var t=Rc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Es(e){e._valueTracker||(e._valueTracker=cp(e))}function Tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ll(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ko(e,t){var n=t.checked;return ie({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $a(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Lc(e,t){t=t.checked,t!=null&&Vi(e,"checked",t,!1)}function Qo(e,t){Lc(e,t);var n=cn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yo(e,t.type,n):t.hasOwnProperty("defaultValue")&&Yo(e,t.type,cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Va(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yo(e,t,n){(t!=="number"||ll(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zr=Array.isArray;function lr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Zo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ie({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ba(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(zr(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cn(n)}}function Ic(e,t){var n=cn(t.value),r=cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ha(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ps,Fc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dp=["Webkit","ms","Moz","O"];Object.keys(Vr).forEach(function(e){dp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vr[t]=Vr[e]})});function Ac(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Vr.hasOwnProperty(e)&&Vr[e]?(""+t).trim():t+"px"}function zc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ac(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var fp=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jo(e,t){if(t){if(fp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function ei(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ti=null;function Gi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ni=null,or=null,ir=null;function Wa(e){if(e=vs(e)){if(typeof ni!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Ul(t),ni(e.stateNode,e.type,t))}}function Oc(e){or?ir?ir.push(e):ir=[e]:or=e}function Uc(){if(or){var e=or,t=ir;if(ir=or=null,Wa(e),t)for(e=0;e<t.length;e++)Wa(t[e])}}function $c(e,t){return e(t)}function Vc(){}var fo=!1;function Bc(e,t,n){if(fo)return e(t,n);fo=!0;try{return $c(e,t,n)}finally{fo=!1,(or!==null||ir!==null)&&(Vc(),Uc())}}function Jr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ul(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var ri=!1;if(Ut)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){ri=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{ri=!1}function pp(e,t,n,r,s,l,i,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var Br=!1,ol=null,il=!1,si=null,mp={onError:function(e){Br=!0,ol=e}};function hp(e,t,n,r,s,l,i,a,u){Br=!1,ol=null,pp.apply(mp,arguments)}function gp(e,t,n,r,s,l,i,a,u){if(hp.apply(this,arguments),Br){if(Br){var c=ol;Br=!1,ol=null}else throw Error(L(198));il||(il=!0,si=c)}}function Fn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ga(e){if(Fn(e)!==e)throw Error(L(188))}function xp(e){var t=e.alternate;if(!t){if(t=Fn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Ga(s),e;if(l===r)return Ga(s),t;l=l.sibling}throw Error(L(188))}if(n.return!==r.return)n=s,r=l;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=l;break}if(a===r){i=!0,r=s,n=l;break}a=a.sibling}if(!i){for(a=l.child;a;){if(a===n){i=!0,n=l,r=s;break}if(a===r){i=!0,r=l,n=s;break}a=a.sibling}if(!i)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Wc(e){return e=xp(e),e!==null?Gc(e):null}function Gc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gc(e);if(t!==null)return t;e=e.sibling}return null}var Xc=qe.unstable_scheduleCallback,Xa=qe.unstable_cancelCallback,vp=qe.unstable_shouldYield,yp=qe.unstable_requestPaint,me=qe.unstable_now,wp=qe.unstable_getCurrentPriorityLevel,Xi=qe.unstable_ImmediatePriority,Kc=qe.unstable_UserBlockingPriority,al=qe.unstable_NormalPriority,Sp=qe.unstable_LowPriority,Qc=qe.unstable_IdlePriority,Fl=null,Rt=null;function kp(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Fl,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Ep,Np=Math.log,jp=Math.LN2;function Ep(e){return e>>>=0,e===0?32:31-(Np(e)/jp|0)|0}var Cs=64,Ms=4194304;function Or(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ul(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Or(a):(l&=i,l!==0&&(r=Or(l)))}else i=n&~s,i!==0?r=Or(i):l!==0&&(r=Or(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kt(t),s=1<<n,r|=e[n],t&=~s;return r}function Pp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-kt(l),a=1<<i,u=s[i];u===-1?(!(a&n)||a&r)&&(s[i]=Pp(a,t)):u<=t&&(e.expiredLanes|=a),l&=~a}}function li(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yc(){var e=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),e}function po(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=n}function Mp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-kt(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Ki(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Q=0;function Zc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qc,Qi,Jc,ed,td,oi=!1,bs=[],tn=null,nn=null,rn=null,es=new Map,ts=new Map,Zt=[],bp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ka(e,t){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ts.delete(t.pointerId)}}function Cr(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=vs(t),t!==null&&Qi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _p(e,t,n,r,s){switch(t){case"focusin":return tn=Cr(tn,e,t,n,r,s),!0;case"dragenter":return nn=Cr(nn,e,t,n,r,s),!0;case"mouseover":return rn=Cr(rn,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return es.set(l,Cr(es.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,ts.set(l,Cr(ts.get(l)||null,e,t,n,r,s)),!0}return!1}function nd(e){var t=jn(e.target);if(t!==null){var n=Fn(t);if(n!==null){if(t=n.tag,t===13){if(t=Hc(n),t!==null){e.blockedOn=t,td(e.priority,function(){Jc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ks(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ii(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ti=r,n.target.dispatchEvent(r),ti=null}else return t=vs(n),t!==null&&Qi(t),e.blockedOn=n,!1;t.shift()}return!0}function Qa(e,t,n){Ks(e)&&n.delete(t)}function Rp(){oi=!1,tn!==null&&Ks(tn)&&(tn=null),nn!==null&&Ks(nn)&&(nn=null),rn!==null&&Ks(rn)&&(rn=null),es.forEach(Qa),ts.forEach(Qa)}function Mr(e,t){e.blockedOn===t&&(e.blockedOn=null,oi||(oi=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,Rp)))}function ns(e){function t(s){return Mr(s,e)}if(0<bs.length){Mr(bs[0],e);for(var n=1;n<bs.length;n++){var r=bs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tn!==null&&Mr(tn,e),nn!==null&&Mr(nn,e),rn!==null&&Mr(rn,e),es.forEach(t),ts.forEach(t),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)nd(n),n.blockedOn===null&&Zt.shift()}var ar=Ht.ReactCurrentBatchConfig,cl=!0;function Tp(e,t,n,r){var s=Q,l=ar.transition;ar.transition=null;try{Q=1,Yi(e,t,n,r)}finally{Q=s,ar.transition=l}}function Lp(e,t,n,r){var s=Q,l=ar.transition;ar.transition=null;try{Q=4,Yi(e,t,n,r)}finally{Q=s,ar.transition=l}}function Yi(e,t,n,r){if(cl){var s=ii(e,t,n,r);if(s===null)No(e,t,r,dl,n),Ka(e,r);else if(_p(s,e,t,n,r))r.stopPropagation();else if(Ka(e,r),t&4&&-1<bp.indexOf(e)){for(;s!==null;){var l=vs(s);if(l!==null&&qc(l),l=ii(e,t,n,r),l===null&&No(e,t,r,dl,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else No(e,t,r,null,n)}}var dl=null;function ii(e,t,n,r){if(dl=null,e=Gi(r),e=jn(e),e!==null)if(t=Fn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dl=e,null}function rd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wp()){case Xi:return 1;case Kc:return 4;case al:case Sp:return 16;case Qc:return 536870912;default:return 16}default:return 16}}var Jt=null,Zi=null,Qs=null;function sd(){if(Qs)return Qs;var e,t=Zi,n=t.length,r,s="value"in Jt?Jt.value:Jt.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[l-r];r++);return Qs=s.slice(e,1<r?1-r:void 0)}function Ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function Ya(){return!1}function et(e){function t(n,r,s,l,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?_s:Ya,this.isPropagationStopped=Ya,this}return ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),t}var yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=et(yr),xs=ie({},yr,{view:0,detail:0}),Ip=et(xs),mo,ho,br,Al=ie({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(mo=e.screenX-br.screenX,ho=e.screenY-br.screenY):ho=mo=0,br=e),mo)},movementY:function(e){return"movementY"in e?e.movementY:ho}}),Za=et(Al),Dp=ie({},Al,{dataTransfer:0}),Fp=et(Dp),Ap=ie({},xs,{relatedTarget:0}),go=et(Ap),zp=ie({},yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Op=et(zp),Up=ie({},yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$p=et(Up),Vp=ie({},yr,{data:0}),qa=et(Vp),Bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wp[e])?!!t[e]:!1}function Ji(){return Gp}var Xp=ie({},xs,{key:function(e){if(e.key){var t=Bp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(e){return e.type==="keypress"?Ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kp=et(Xp),Qp=ie({},Al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ja=et(Qp),Yp=ie({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),Zp=et(Yp),qp=ie({},yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jp=et(qp),em=ie({},Al,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tm=et(em),nm=[9,13,27,32],ea=Ut&&"CompositionEvent"in window,Hr=null;Ut&&"documentMode"in document&&(Hr=document.documentMode);var rm=Ut&&"TextEvent"in window&&!Hr,ld=Ut&&(!ea||Hr&&8<Hr&&11>=Hr),eu=" ",tu=!1;function od(e,t){switch(e){case"keyup":return nm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function sm(e,t){switch(e){case"compositionend":return id(t);case"keypress":return t.which!==32?null:(tu=!0,eu);case"textInput":return e=t.data,e===eu&&tu?null:e;default:return null}}function lm(e,t){if(Kn)return e==="compositionend"||!ea&&od(e,t)?(e=sd(),Qs=Zi=Jt=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ld&&t.locale!=="ko"?null:t.data;default:return null}}var om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!om[e.type]:t==="textarea"}function ad(e,t,n,r){Oc(r),t=fl(t,"onChange"),0<t.length&&(n=new qi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wr=null,rs=null;function im(e){yd(e,0)}function zl(e){var t=Zn(e);if(Tc(t))return e}function am(e,t){if(e==="change")return t}var ud=!1;if(Ut){var xo;if(Ut){var vo="oninput"in document;if(!vo){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),vo=typeof ru.oninput=="function"}xo=vo}else xo=!1;ud=xo&&(!document.documentMode||9<document.documentMode)}function su(){Wr&&(Wr.detachEvent("onpropertychange",cd),rs=Wr=null)}function cd(e){if(e.propertyName==="value"&&zl(rs)){var t=[];ad(t,rs,e,Gi(e)),Bc(im,t)}}function um(e,t,n){e==="focusin"?(su(),Wr=t,rs=n,Wr.attachEvent("onpropertychange",cd)):e==="focusout"&&su()}function cm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zl(rs)}function dm(e,t){if(e==="click")return zl(t)}function fm(e,t){if(e==="input"||e==="change")return zl(t)}function pm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:pm;function ss(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Bo.call(t,s)||!jt(e[s],t[s]))return!1}return!0}function lu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ou(e,t){var n=lu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lu(n)}}function dd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fd(){for(var e=window,t=ll();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ll(e.document)}return t}function ta(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mm(e){var t=fd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dd(n.ownerDocument.documentElement,n)){if(r!==null&&ta(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=ou(n,l);var i=ou(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hm=Ut&&"documentMode"in document&&11>=document.documentMode,Qn=null,ai=null,Gr=null,ui=!1;function iu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ui||Qn==null||Qn!==ll(r)||(r=Qn,"selectionStart"in r&&ta(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gr&&ss(Gr,r)||(Gr=r,r=fl(ai,"onSelect"),0<r.length&&(t=new qi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qn)))}function Rs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yn={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},yo={},pd={};Ut&&(pd=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function Ol(e){if(yo[e])return yo[e];if(!Yn[e])return e;var t=Yn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pd)return yo[e]=t[n];return e}var md=Ol("animationend"),hd=Ol("animationiteration"),gd=Ol("animationstart"),xd=Ol("transitionend"),vd=new Map,au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(e,t){vd.set(e,t),Dn(t,[e])}for(var wo=0;wo<au.length;wo++){var So=au[wo],gm=So.toLowerCase(),xm=So[0].toUpperCase()+So.slice(1);fn(gm,"on"+xm)}fn(md,"onAnimationEnd");fn(hd,"onAnimationIteration");fn(gd,"onAnimationStart");fn("dblclick","onDoubleClick");fn("focusin","onFocus");fn("focusout","onBlur");fn(xd,"onTransitionEnd");dr("onMouseEnter",["mouseout","mouseover"]);dr("onMouseLeave",["mouseout","mouseover"]);dr("onPointerEnter",["pointerout","pointerover"]);dr("onPointerLeave",["pointerout","pointerover"]);Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function uu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gp(r,t,void 0,e),e.currentTarget=null}function yd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==l&&s.isPropagationStopped())break e;uu(s,a,c),l=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,c=a.currentTarget,a=a.listener,u!==l&&s.isPropagationStopped())break e;uu(s,a,c),l=u}}}if(il)throw e=si,il=!1,si=null,e}function ee(e,t){var n=t[mi];n===void 0&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(wd(t,e,2,!1),n.add(r))}function ko(e,t,n){var r=0;t&&(r|=4),wd(n,e,r,t)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function ls(e){if(!e[Ts]){e[Ts]=!0,Cc.forEach(function(n){n!=="selectionchange"&&(vm.has(n)||ko(n,!1,e),ko(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ts]||(t[Ts]=!0,ko("selectionchange",!1,t))}}function wd(e,t,n,r){switch(rd(t)){case 1:var s=Tp;break;case 4:s=Lp;break;default:s=Yi}n=s.bind(null,t,n,e),s=void 0,!ri||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function No(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;i=i.return}for(;a!==null;){if(i=jn(a),i===null)return;if(u=i.tag,u===5||u===6){r=l=i;continue e}a=a.parentNode}}r=r.return}Bc(function(){var c=l,m=Gi(n),x=[];e:{var h=vd.get(e);if(h!==void 0){var y=qi,k=e;switch(e){case"keypress":if(Ys(n)===0)break e;case"keydown":case"keyup":y=Kp;break;case"focusin":k="focus",y=go;break;case"focusout":k="blur",y=go;break;case"beforeblur":case"afterblur":y=go;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Fp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Zp;break;case md:case hd:case gd:y=Op;break;case xd:y=Jp;break;case"scroll":y=Ip;break;case"wheel":y=tm;break;case"copy":case"cut":case"paste":y=$p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ja}var w=(t&4)!==0,N=!w&&e==="scroll",f=w?h!==null?h+"Capture":null:h;w=[];for(var d=c,g;d!==null;){g=d;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,f!==null&&(v=Jr(d,f),v!=null&&w.push(os(d,v,g)))),N)break;d=d.return}0<w.length&&(h=new y(h,k,null,n,m),x.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==ti&&(k=n.relatedTarget||n.fromElement)&&(jn(k)||k[$t]))break e;if((y||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,y?(k=n.relatedTarget||n.toElement,y=c,k=k?jn(k):null,k!==null&&(N=Fn(k),k!==N||k.tag!==5&&k.tag!==6)&&(k=null)):(y=null,k=c),y!==k)){if(w=Za,v="onMouseLeave",f="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ja,v="onPointerLeave",f="onPointerEnter",d="pointer"),N=y==null?h:Zn(y),g=k==null?h:Zn(k),h=new w(v,d+"leave",y,n,m),h.target=N,h.relatedTarget=g,v=null,jn(m)===c&&(w=new w(f,d+"enter",k,n,m),w.target=g,w.relatedTarget=N,v=w),N=v,y&&k)t:{for(w=y,f=k,d=0,g=w;g;g=Vn(g))d++;for(g=0,v=f;v;v=Vn(v))g++;for(;0<d-g;)w=Vn(w),d--;for(;0<g-d;)f=Vn(f),g--;for(;d--;){if(w===f||f!==null&&w===f.alternate)break t;w=Vn(w),f=Vn(f)}w=null}else w=null;y!==null&&cu(x,h,y,w,!1),k!==null&&N!==null&&cu(x,N,k,w,!0)}}e:{if(h=c?Zn(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var E=am;else if(nu(h))if(ud)E=fm;else{E=cm;var R=um}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=dm);if(E&&(E=E(e,c))){ad(x,E,n,m);break e}R&&R(e,h,c),e==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&Yo(h,"number",h.value)}switch(R=c?Zn(c):window,e){case"focusin":(nu(R)||R.contentEditable==="true")&&(Qn=R,ai=c,Gr=null);break;case"focusout":Gr=ai=Qn=null;break;case"mousedown":ui=!0;break;case"contextmenu":case"mouseup":case"dragend":ui=!1,iu(x,n,m);break;case"selectionchange":if(hm)break;case"keydown":case"keyup":iu(x,n,m)}var j;if(ea)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Kn?od(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(ld&&n.locale!=="ko"&&(Kn||M!=="onCompositionStart"?M==="onCompositionEnd"&&Kn&&(j=sd()):(Jt=m,Zi="value"in Jt?Jt.value:Jt.textContent,Kn=!0)),R=fl(c,M),0<R.length&&(M=new qa(M,e,null,n,m),x.push({event:M,listeners:R}),j?M.data=j:(j=id(n),j!==null&&(M.data=j)))),(j=rm?sm(e,n):lm(e,n))&&(c=fl(c,"onBeforeInput"),0<c.length&&(m=new qa("onBeforeInput","beforeinput",null,n,m),x.push({event:m,listeners:c}),m.data=j))}yd(x,t)})}function os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Jr(e,n),l!=null&&r.unshift(os(e,l,s)),l=Jr(e,t),l!=null&&r.push(os(e,l,s))),e=e.return}return r}function Vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cu(e,t,n,r,s){for(var l=t._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Jr(n,l),u!=null&&i.unshift(os(n,u,a))):s||(u=Jr(n,l),u!=null&&i.push(os(n,u,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var ym=/\r\n?/g,wm=/\u0000|\uFFFD/g;function du(e){return(typeof e=="string"?e:""+e).replace(ym,`
`).replace(wm,"")}function Ls(e,t,n){if(t=du(t),du(e)!==t&&n)throw Error(L(425))}function pl(){}var ci=null,di=null;function fi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pi=typeof setTimeout=="function"?setTimeout:void 0,Sm=typeof clearTimeout=="function"?clearTimeout:void 0,fu=typeof Promise=="function"?Promise:void 0,km=typeof queueMicrotask=="function"?queueMicrotask:typeof fu<"u"?function(e){return fu.resolve(null).then(e).catch(Nm)}:pi;function Nm(e){setTimeout(function(){throw e})}function jo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ns(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ns(t)}function sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wr=Math.random().toString(36).slice(2),_t="__reactFiber$"+wr,is="__reactProps$"+wr,$t="__reactContainer$"+wr,mi="__reactEvents$"+wr,jm="__reactListeners$"+wr,Em="__reactHandles$"+wr;function jn(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$t]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pu(e);e!==null;){if(n=e[_t])return n;e=pu(e)}return t}e=n,n=e.parentNode}return null}function vs(e){return e=e[_t]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Ul(e){return e[is]||null}var hi=[],qn=-1;function pn(e){return{current:e}}function te(e){0>qn||(e.current=hi[qn],hi[qn]=null,qn--)}function q(e,t){qn++,hi[qn]=e.current,e.current=t}var dn={},Te=pn(dn),We=pn(!1),_n=dn;function fr(e,t){var n=e.type.contextTypes;if(!n)return dn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ge(e){return e=e.childContextTypes,e!=null}function ml(){te(We),te(Te)}function mu(e,t,n){if(Te.current!==dn)throw Error(L(168));q(Te,t),q(We,n)}function Sd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(L(108,up(e)||"Unknown",s));return ie({},n,r)}function hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,_n=Te.current,q(Te,e),q(We,We.current),!0}function hu(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=Sd(e,t,_n),r.__reactInternalMemoizedMergedChildContext=e,te(We),te(Te),q(Te,e)):te(We),q(We,n)}var Ft=null,$l=!1,Eo=!1;function kd(e){Ft===null?Ft=[e]:Ft.push(e)}function Pm(e){$l=!0,kd(e)}function mn(){if(!Eo&&Ft!==null){Eo=!0;var e=0,t=Q;try{var n=Ft;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ft=null,$l=!1}catch(s){throw Ft!==null&&(Ft=Ft.slice(e+1)),Xc(Xi,mn),s}finally{Q=t,Eo=!1}}return null}var Jn=[],er=0,gl=null,xl=0,lt=[],ot=0,Rn=null,At=1,zt="";function wn(e,t){Jn[er++]=xl,Jn[er++]=gl,gl=e,xl=t}function Nd(e,t,n){lt[ot++]=At,lt[ot++]=zt,lt[ot++]=Rn,Rn=e;var r=At;e=zt;var s=32-kt(r)-1;r&=~(1<<s),n+=1;var l=32-kt(t)+s;if(30<l){var i=s-s%5;l=(r&(1<<i)-1).toString(32),r>>=i,s-=i,At=1<<32-kt(t)+s|n<<s|r,zt=l+e}else At=1<<l|n<<s|r,zt=e}function na(e){e.return!==null&&(wn(e,1),Nd(e,1,0))}function ra(e){for(;e===gl;)gl=Jn[--er],Jn[er]=null,xl=Jn[--er],Jn[er]=null;for(;e===Rn;)Rn=lt[--ot],lt[ot]=null,zt=lt[--ot],lt[ot]=null,At=lt[--ot],lt[ot]=null}var Ze=null,Ye=null,re=!1,St=null;function jd(e,t){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Ye=sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Ye=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rn!==null?{id:At,overflow:zt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,Ye=null,!0):!1;default:return!1}}function gi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xi(e){if(re){var t=Ye;if(t){var n=t;if(!gu(e,t)){if(gi(e))throw Error(L(418));t=sn(n.nextSibling);var r=Ze;t&&gu(e,t)?jd(r,n):(e.flags=e.flags&-4097|2,re=!1,Ze=e)}}else{if(gi(e))throw Error(L(418));e.flags=e.flags&-4097|2,re=!1,Ze=e}}}function xu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Is(e){if(e!==Ze)return!1;if(!re)return xu(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fi(e.type,e.memoizedProps)),t&&(t=Ye)){if(gi(e))throw Ed(),Error(L(418));for(;t;)jd(e,t),t=sn(t.nextSibling)}if(xu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ye=sn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ye=null}}else Ye=Ze?sn(e.stateNode.nextSibling):null;return!0}function Ed(){for(var e=Ye;e;)e=sn(e.nextSibling)}function pr(){Ye=Ze=null,re=!1}function sa(e){St===null?St=[e]:St.push(e)}var Cm=Ht.ReactCurrentBatchConfig;function _r(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var a=s.refs;i===null?delete a[l]:a[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function Ds(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vu(e){var t=e._init;return t(e._payload)}function Pd(e){function t(f,d){if(e){var g=f.deletions;g===null?(f.deletions=[d],f.flags|=16):g.push(d)}}function n(f,d){if(!e)return null;for(;d!==null;)t(f,d),d=d.sibling;return null}function r(f,d){for(f=new Map;d!==null;)d.key!==null?f.set(d.key,d):f.set(d.index,d),d=d.sibling;return f}function s(f,d){return f=un(f,d),f.index=0,f.sibling=null,f}function l(f,d,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<d?(f.flags|=2,d):g):(f.flags|=2,d)):(f.flags|=1048576,d)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function a(f,d,g,v){return d===null||d.tag!==6?(d=To(g,f.mode,v),d.return=f,d):(d=s(d,g),d.return=f,d)}function u(f,d,g,v){var E=g.type;return E===Xn?m(f,d,g.props.children,v,g.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qt&&vu(E)===d.type)?(v=s(d,g.props),v.ref=_r(f,d,g),v.return=f,v):(v=rl(g.type,g.key,g.props,null,f.mode,v),v.ref=_r(f,d,g),v.return=f,v)}function c(f,d,g,v){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=Lo(g,f.mode,v),d.return=f,d):(d=s(d,g.children||[]),d.return=f,d)}function m(f,d,g,v,E){return d===null||d.tag!==7?(d=Mn(g,f.mode,v,E),d.return=f,d):(d=s(d,g),d.return=f,d)}function x(f,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=To(""+d,f.mode,g),d.return=f,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case js:return g=rl(d.type,d.key,d.props,null,f.mode,g),g.ref=_r(f,null,d),g.return=f,g;case Gn:return d=Lo(d,f.mode,g),d.return=f,d;case Qt:var v=d._init;return x(f,v(d._payload),g)}if(zr(d)||Er(d))return d=Mn(d,f.mode,g,null),d.return=f,d;Ds(f,d)}return null}function h(f,d,g,v){var E=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:a(f,d,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case js:return g.key===E?u(f,d,g,v):null;case Gn:return g.key===E?c(f,d,g,v):null;case Qt:return E=g._init,h(f,d,E(g._payload),v)}if(zr(g)||Er(g))return E!==null?null:m(f,d,g,v,null);Ds(f,g)}return null}function y(f,d,g,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return f=f.get(g)||null,a(d,f,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case js:return f=f.get(v.key===null?g:v.key)||null,u(d,f,v,E);case Gn:return f=f.get(v.key===null?g:v.key)||null,c(d,f,v,E);case Qt:var R=v._init;return y(f,d,g,R(v._payload),E)}if(zr(v)||Er(v))return f=f.get(g)||null,m(d,f,v,E,null);Ds(d,v)}return null}function k(f,d,g,v){for(var E=null,R=null,j=d,M=d=0,b=null;j!==null&&M<g.length;M++){j.index>M?(b=j,j=null):b=j.sibling;var P=h(f,j,g[M],v);if(P===null){j===null&&(j=b);break}e&&j&&P.alternate===null&&t(f,j),d=l(P,d,M),R===null?E=P:R.sibling=P,R=P,j=b}if(M===g.length)return n(f,j),re&&wn(f,M),E;if(j===null){for(;M<g.length;M++)j=x(f,g[M],v),j!==null&&(d=l(j,d,M),R===null?E=j:R.sibling=j,R=j);return re&&wn(f,M),E}for(j=r(f,j);M<g.length;M++)b=y(j,f,M,g[M],v),b!==null&&(e&&b.alternate!==null&&j.delete(b.key===null?M:b.key),d=l(b,d,M),R===null?E=b:R.sibling=b,R=b);return e&&j.forEach(function(S){return t(f,S)}),re&&wn(f,M),E}function w(f,d,g,v){var E=Er(g);if(typeof E!="function")throw Error(L(150));if(g=E.call(g),g==null)throw Error(L(151));for(var R=E=null,j=d,M=d=0,b=null,P=g.next();j!==null&&!P.done;M++,P=g.next()){j.index>M?(b=j,j=null):b=j.sibling;var S=h(f,j,P.value,v);if(S===null){j===null&&(j=b);break}e&&j&&S.alternate===null&&t(f,j),d=l(S,d,M),R===null?E=S:R.sibling=S,R=S,j=b}if(P.done)return n(f,j),re&&wn(f,M),E;if(j===null){for(;!P.done;M++,P=g.next())P=x(f,P.value,v),P!==null&&(d=l(P,d,M),R===null?E=P:R.sibling=P,R=P);return re&&wn(f,M),E}for(j=r(f,j);!P.done;M++,P=g.next())P=y(j,f,M,P.value,v),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?M:P.key),d=l(P,d,M),R===null?E=P:R.sibling=P,R=P);return e&&j.forEach(function(T){return t(f,T)}),re&&wn(f,M),E}function N(f,d,g,v){if(typeof g=="object"&&g!==null&&g.type===Xn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case js:e:{for(var E=g.key,R=d;R!==null;){if(R.key===E){if(E=g.type,E===Xn){if(R.tag===7){n(f,R.sibling),d=s(R,g.props.children),d.return=f,f=d;break e}}else if(R.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Qt&&vu(E)===R.type){n(f,R.sibling),d=s(R,g.props),d.ref=_r(f,R,g),d.return=f,f=d;break e}n(f,R);break}else t(f,R);R=R.sibling}g.type===Xn?(d=Mn(g.props.children,f.mode,v,g.key),d.return=f,f=d):(v=rl(g.type,g.key,g.props,null,f.mode,v),v.ref=_r(f,d,g),v.return=f,f=v)}return i(f);case Gn:e:{for(R=g.key;d!==null;){if(d.key===R)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(f,d.sibling),d=s(d,g.children||[]),d.return=f,f=d;break e}else{n(f,d);break}else t(f,d);d=d.sibling}d=Lo(g,f.mode,v),d.return=f,f=d}return i(f);case Qt:return R=g._init,N(f,d,R(g._payload),v)}if(zr(g))return k(f,d,g,v);if(Er(g))return w(f,d,g,v);Ds(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(f,d.sibling),d=s(d,g),d.return=f,f=d):(n(f,d),d=To(g,f.mode,v),d.return=f,f=d),i(f)):n(f,d)}return N}var mr=Pd(!0),Cd=Pd(!1),vl=pn(null),yl=null,tr=null,la=null;function oa(){la=tr=yl=null}function ia(e){var t=vl.current;te(vl),e._currentValue=t}function vi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ur(e,t){yl=e,la=tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(He=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(la!==e)if(e={context:e,memoizedValue:t,next:null},tr===null){if(yl===null)throw Error(L(308));tr=e,yl.dependencies={lanes:0,firstContext:e}}else tr=tr.next=e;return t}var En=null;function aa(e){En===null?En=[e]:En.push(e)}function Md(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,aa(t)):(n.next=s.next,s.next=n),t.interleaved=n,Vt(e,r)}function Vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yt=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Vt(e,n)}return s=r.interleaved,s===null?(t.next=t,aa(r)):(t.next=s.next,s.next=t),r.interleaved=t,Vt(e,n)}function Zs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ki(e,n)}}function yu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wl(e,t,n,r){var s=e.updateQueue;Yt=!1;var l=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,i===null?l=c:i.next=c,i=u;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==i&&(a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=u))}if(l!==null){var x=s.baseState;i=0,m=c=u=null,a=l;do{var h=a.lane,y=a.eventTime;if((r&h)===h){m!==null&&(m=m.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var k=e,w=a;switch(h=t,y=n,w.tag){case 1:if(k=w.payload,typeof k=="function"){x=k.call(y,x,h);break e}x=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=w.payload,h=typeof k=="function"?k.call(y,x,h):k,h==null)break e;x=ie({},x,h);break e;case 2:Yt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(c=m=y,u=x):m=m.next=y,i|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(m===null&&(u=x),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Ln|=i,e.lanes=i,e.memoizedState=x}}function wu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(L(191,s));s.call(r)}}}var ys={},Tt=pn(ys),as=pn(ys),us=pn(ys);function Pn(e){if(e===ys)throw Error(L(174));return e}function ca(e,t){switch(q(us,t),q(as,e),q(Tt,ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qo(t,e)}te(Tt),q(Tt,t)}function hr(){te(Tt),te(as),te(us)}function _d(e){Pn(us.current);var t=Pn(Tt.current),n=qo(t,e.type);t!==n&&(q(as,e),q(Tt,n))}function da(e){as.current===e&&(te(Tt),te(as))}var le=pn(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Po=[];function fa(){for(var e=0;e<Po.length;e++)Po[e]._workInProgressVersionPrimary=null;Po.length=0}var qs=Ht.ReactCurrentDispatcher,Co=Ht.ReactCurrentBatchConfig,Tn=0,oe=null,ve=null,Se=null,kl=!1,Xr=!1,cs=0,Mm=0;function be(){throw Error(L(321))}function pa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,s,l){if(Tn=l,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qs.current=e===null||e.memoizedState===null?Tm:Lm,e=n(r,s),Xr){l=0;do{if(Xr=!1,cs=0,25<=l)throw Error(L(301));l+=1,Se=ve=null,t.updateQueue=null,qs.current=Im,e=n(r,s)}while(Xr)}if(qs.current=Nl,t=ve!==null&&ve.next!==null,Tn=0,Se=ve=oe=null,kl=!1,t)throw Error(L(300));return e}function ha(){var e=cs!==0;return cs=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?oe.memoizedState=Se=e:Se=Se.next=e,Se}function ct(){if(ve===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=ve.next;var t=Se===null?oe.memoizedState:Se.next;if(t!==null)Se=t,ve=e;else{if(e===null)throw Error(L(310));ve=e,e={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Se===null?oe.memoizedState=Se=e:Se=Se.next=e}return Se}function ds(e,t){return typeof t=="function"?t(e):t}function Mo(e){var t=ct(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=ve,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var i=s.next;s.next=l.next,l.next=i}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var a=i=null,u=null,c=l;do{var m=c.lane;if((Tn&m)===m)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var x={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=x,i=r):u=u.next=x,oe.lanes|=m,Ln|=m}c=c.next}while(c!==null&&c!==l);u===null?i=r:u.next=a,jt(r,t.memoizedState)||(He=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,oe.lanes|=l,Ln|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bo(e){var t=ct(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do l=e(l,i.action),i=i.next;while(i!==s);jt(l,t.memoizedState)||(He=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Rd(){}function Td(e,t){var n=oe,r=ct(),s=t(),l=!jt(r.memoizedState,s);if(l&&(r.memoizedState=s,He=!0),r=r.queue,ga(Dd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,fs(9,Id.bind(null,n,r,s,t),void 0,null),ke===null)throw Error(L(349));Tn&30||Ld(n,t,s)}return s}function Ld(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Id(e,t,n,r){t.value=n,t.getSnapshot=r,Fd(t)&&Ad(e)}function Dd(e,t,n){return n(function(){Fd(t)&&Ad(e)})}function Fd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function Ad(e){var t=Vt(e,1);t!==null&&Nt(t,e,1,-1)}function Su(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t.queue=e,e=e.dispatch=Rm.bind(null,oe,e),[t.memoizedState,e]}function fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zd(){return ct().memoizedState}function Js(e,t,n,r){var s=bt();oe.flags|=e,s.memoizedState=fs(1|t,n,void 0,r===void 0?null:r)}function Vl(e,t,n,r){var s=ct();r=r===void 0?null:r;var l=void 0;if(ve!==null){var i=ve.memoizedState;if(l=i.destroy,r!==null&&pa(r,i.deps)){s.memoizedState=fs(t,n,l,r);return}}oe.flags|=e,s.memoizedState=fs(1|t,n,l,r)}function ku(e,t){return Js(8390656,8,e,t)}function ga(e,t){return Vl(2048,8,e,t)}function Od(e,t){return Vl(4,2,e,t)}function Ud(e,t){return Vl(4,4,e,t)}function $d(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vd(e,t,n){return n=n!=null?n.concat([e]):null,Vl(4,4,$d.bind(null,t,e),n)}function xa(){}function Bd(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hd(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wd(e,t,n){return Tn&21?(jt(n,t)||(n=Yc(),oe.lanes|=n,Ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,He=!0),e.memoizedState=n)}function bm(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=Co.transition;Co.transition={};try{e(!1),t()}finally{Q=n,Co.transition=r}}function Gd(){return ct().memoizedState}function _m(e,t,n){var r=an(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xd(e))Kd(t,n);else if(n=Md(e,t,n,r),n!==null){var s=Fe();Nt(n,e,r,s),Qd(n,t,r)}}function Rm(e,t,n){var r=an(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xd(e))Kd(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,a=l(i,n);if(s.hasEagerState=!0,s.eagerState=a,jt(a,i)){var u=t.interleaved;u===null?(s.next=s,aa(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Md(e,t,s,r),n!==null&&(s=Fe(),Nt(n,e,r,s),Qd(n,t,r))}}function Xd(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function Kd(e,t){Xr=kl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ki(e,n)}}var Nl={readContext:ut,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Tm={readContext:ut,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:ku,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Js(4194308,4,$d.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Js(4194308,4,e,t)},useInsertionEffect:function(e,t){return Js(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_m.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:Su,useDebugValue:xa,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=Su(!1),t=e[0];return e=bm.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,s=bt();if(re){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),ke===null)throw Error(L(349));Tn&30||Ld(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,ku(Dd.bind(null,r,l,e),[e]),r.flags|=2048,fs(9,Id.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=bt(),t=ke.identifierPrefix;if(re){var n=zt,r=At;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=cs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Mm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lm={readContext:ut,useCallback:Bd,useContext:ut,useEffect:ga,useImperativeHandle:Vd,useInsertionEffect:Od,useLayoutEffect:Ud,useMemo:Hd,useReducer:Mo,useRef:zd,useState:function(){return Mo(ds)},useDebugValue:xa,useDeferredValue:function(e){var t=ct();return Wd(t,ve.memoizedState,e)},useTransition:function(){var e=Mo(ds)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Rd,useSyncExternalStore:Td,useId:Gd,unstable_isNewReconciler:!1},Im={readContext:ut,useCallback:Bd,useContext:ut,useEffect:ga,useImperativeHandle:Vd,useInsertionEffect:Od,useLayoutEffect:Ud,useMemo:Hd,useReducer:bo,useRef:zd,useState:function(){return bo(ds)},useDebugValue:xa,useDeferredValue:function(e){var t=ct();return ve===null?t.memoizedState=e:Wd(t,ve.memoizedState,e)},useTransition:function(){var e=bo(ds)[0],t=ct().memoizedState;return[e,t]},useMutableSource:Rd,useSyncExternalStore:Td,useId:Gd,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=ie({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ie({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bl={isMounted:function(e){return(e=e._reactInternals)?Fn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fe(),s=an(e),l=Ot(r,s);l.payload=t,n!=null&&(l.callback=n),t=ln(e,l,s),t!==null&&(Nt(t,e,s,r),Zs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fe(),s=an(e),l=Ot(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=ln(e,l,s),t!==null&&(Nt(t,e,s,r),Zs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),r=an(e),s=Ot(n,r);s.tag=2,t!=null&&(s.callback=t),t=ln(e,s,r),t!==null&&(Nt(t,e,r,n),Zs(t,e,r))}};function Nu(e,t,n,r,s,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!ss(n,r)||!ss(s,l):!0}function Yd(e,t,n){var r=!1,s=dn,l=t.contextType;return typeof l=="object"&&l!==null?l=ut(l):(s=Ge(t)?_n:Te.current,r=t.contextTypes,l=(r=r!=null)?fr(e,s):dn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function ju(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bl.enqueueReplaceState(t,t.state,null)}function wi(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ua(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=ut(l):(l=Ge(t)?_n:Te.current,s.context=fr(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(yi(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bl.enqueueReplaceState(s,s.state,null),wl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function gr(e,t){try{var n="",r=t;do n+=ap(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function _o(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Si(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dm=typeof WeakMap=="function"?WeakMap:Map;function Zd(e,t,n){n=Ot(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){El||(El=!0,Ri=r),Si(e,t)},n}function qd(e,t,n){n=Ot(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Si(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Si(e,t),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Eu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Qm.bind(null,e,t,n),t.then(e,e))}function Pu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ot(-1,1),t.tag=2,ln(n,t,1))),n.lanes|=1),e)}var Fm=Ht.ReactCurrentOwner,He=!1;function De(e,t,n,r){t.child=e===null?Cd(t,null,n,r):mr(t,e.child,n,r)}function Mu(e,t,n,r,s){n=n.render;var l=t.ref;return ur(t,s),r=ma(e,t,n,r,l,s),n=ha(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bt(e,t,s)):(re&&n&&na(t),t.flags|=1,De(e,t,r,s),t.child)}function bu(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!Ea(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Jd(e,t,l,r,s)):(e=rl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:ss,n(i,r)&&e.ref===t.ref)return Bt(e,t,s)}return t.flags|=1,e=un(l,r),e.ref=t.ref,e.return=t,t.child=e}function Jd(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(ss(l,r)&&e.ref===t.ref)if(He=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(He=!0);else return t.lanes=e.lanes,Bt(e,t,s)}return ki(e,t,n,r,s)}function ef(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(rr,Qe),Qe|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(rr,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,q(rr,Qe),Qe|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,q(rr,Qe),Qe|=r;return De(e,t,s,n),t.child}function tf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ki(e,t,n,r,s){var l=Ge(n)?_n:Te.current;return l=fr(t,l),ur(t,s),n=ma(e,t,n,r,l,s),r=ha(),e!==null&&!He?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bt(e,t,s)):(re&&r&&na(t),t.flags|=1,De(e,t,n,s),t.child)}function _u(e,t,n,r,s){if(Ge(n)){var l=!0;hl(t)}else l=!1;if(ur(t,s),t.stateNode===null)el(e,t),Yd(t,n,r),wi(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=ut(c):(c=Ge(n)?_n:Te.current,c=fr(t,c));var m=n.getDerivedStateFromProps,x=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==c)&&ju(t,i,r,c),Yt=!1;var h=t.memoizedState;i.state=h,wl(t,r,i,s),u=t.memoizedState,a!==r||h!==u||We.current||Yt?(typeof m=="function"&&(yi(t,n,m,r),u=t.memoizedState),(a=Yt||Nu(t,n,a,r,h,u,c))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,bd(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:yt(t.type,a),i.props=c,x=t.pendingProps,h=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=ut(u):(u=Ge(n)?_n:Te.current,u=fr(t,u));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==x||h!==u)&&ju(t,i,r,u),Yt=!1,h=t.memoizedState,i.state=h,wl(t,r,i,s);var k=t.memoizedState;a!==x||h!==k||We.current||Yt?(typeof y=="function"&&(yi(t,n,y,r),k=t.memoizedState),(c=Yt||Nu(t,n,c,r,h,k,u)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,k,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,k,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),i.props=r,i.state=k,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ni(e,t,n,r,l,s)}function Ni(e,t,n,r,s,l){tf(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&hu(t,n,!1),Bt(e,t,l);r=t.stateNode,Fm.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=mr(t,e.child,null,l),t.child=mr(t,null,a,l)):De(e,t,a,l),t.memoizedState=r.state,s&&hu(t,n,!0),t.child}function nf(e){var t=e.stateNode;t.pendingContext?mu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mu(e,t.context,!1),ca(e,t.containerInfo)}function Ru(e,t,n,r,s){return pr(),sa(s),t.flags|=256,De(e,t,n,r),t.child}var ji={dehydrated:null,treeContext:null,retryLane:0};function Ei(e){return{baseLanes:e,cachePool:null,transitions:null}}function rf(e,t,n){var r=t.pendingProps,s=le.current,l=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),q(le,s&1),e===null)return xi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Gl(i,r,0,null),e=Mn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ei(n),t.memoizedState=ji,e):va(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Am(e,t,i,r,a,s,n);if(l){l=r.fallback,i=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=un(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?l=un(a,l):(l=Mn(l,i,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?Ei(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=ji,r}return l=e.child,e=l.sibling,r=un(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function va(e,t){return t=Gl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fs(e,t,n,r){return r!==null&&sa(r),mr(t,e.child,null,n),e=va(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Am(e,t,n,r,s,l,i){if(n)return t.flags&256?(t.flags&=-257,r=_o(Error(L(422))),Fs(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=Gl({mode:"visible",children:r.children},s,0,null),l=Mn(l,s,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&mr(t,e.child,null,i),t.child.memoizedState=Ei(i),t.memoizedState=ji,l);if(!(t.mode&1))return Fs(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,l=Error(L(419)),r=_o(l,r,void 0),Fs(e,t,i,r)}if(a=(i&e.childLanes)!==0,He||a){if(r=ke,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Vt(e,s),Nt(r,e,s,-1))}return ja(),r=_o(Error(L(421))),Fs(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ym.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Ye=sn(s.nextSibling),Ze=t,re=!0,St=null,e!==null&&(lt[ot++]=At,lt[ot++]=zt,lt[ot++]=Rn,At=e.id,zt=e.overflow,Rn=t),t=va(t,r.children),t.flags|=4096,t)}function Tu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vi(e.return,t,n)}function Ro(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function sf(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(De(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tu(e,n,t);else if(e.tag===19)Tu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(le,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Sl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ro(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Sl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ro(t,!0,n,null,l);break;case"together":Ro(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zm(e,t,n){switch(t.tag){case 3:nf(t),pr();break;case 5:_d(t);break;case 1:Ge(t.type)&&hl(t);break;case 4:ca(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;q(vl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?rf(e,t,n):(q(le,le.current&1),e=Bt(e,t,n),e!==null?e.sibling:null);q(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,ef(e,t,n)}return Bt(e,t,n)}var lf,Pi,of,af;lf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pi=function(){};of=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Pn(Tt.current);var l=null;switch(n){case"input":s=Ko(e,s),r=Ko(e,r),l=[];break;case"select":s=ie({},s,{value:void 0}),r=ie({},r,{value:void 0}),l=[];break;case"textarea":s=Zo(e,s),r=Zo(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pl)}Jo(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zr.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(l||(l=[]),l.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(l=l||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ee("scroll",e),l||a===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};af=function(e,t,n,r){n!==r&&(t.flags|=4)};function Rr(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Om(e,t,n){var r=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Ge(t.type)&&ml(),_e(t),null;case 3:return r=t.stateNode,hr(),te(We),te(Te),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(Ii(St),St=null))),Pi(e,t),_e(t),null;case 5:da(t);var s=Pn(us.current);if(n=t.type,e!==null&&t.stateNode!=null)of(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return _e(t),null}if(e=Pn(Tt.current),Is(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[_t]=t,r[is]=l,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(s=0;s<Ur.length;s++)ee(Ur[s],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":$a(r,l),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ee("invalid",r);break;case"textarea":Ba(r,l),ee("invalid",r)}Jo(n,l),s=null;for(var i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="children"?typeof a=="string"?r.textContent!==a&&(l.suppressHydrationWarning!==!0&&Ls(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(l.suppressHydrationWarning!==!0&&Ls(r.textContent,a,e),s=["children",""+a]):Zr.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&ee("scroll",r)}switch(n){case"input":Es(r),Va(r,l,!0);break;case"textarea":Es(r),Ha(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=pl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[_t]=t,e[is]=r,lf(e,t,!1,!1),t.stateNode=e;e:{switch(i=ei(n,r),n){case"dialog":ee("cancel",e),ee("close",e),s=r;break;case"iframe":case"object":case"embed":ee("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ur.length;s++)ee(Ur[s],e);s=r;break;case"source":ee("error",e),s=r;break;case"img":case"image":case"link":ee("error",e),ee("load",e),s=r;break;case"details":ee("toggle",e),s=r;break;case"input":$a(e,r),s=Ko(e,r),ee("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ie({},r,{value:void 0}),ee("invalid",e);break;case"textarea":Ba(e,r),s=Zo(e,r),ee("invalid",e);break;default:s=r}Jo(n,s),a=s;for(l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="style"?zc(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Fc(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&qr(e,u):typeof u=="number"&&qr(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Zr.hasOwnProperty(l)?u!=null&&l==="onScroll"&&ee("scroll",e):u!=null&&Vi(e,l,u,i))}switch(n){case"input":Es(e),Va(e,r,!1);break;case"textarea":Es(e),Ha(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?lr(e,!!r.multiple,l,!1):r.defaultValue!=null&&lr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=pl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)af(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=Pn(us.current),Pn(Tt.current),Is(t)){if(r=t.stateNode,n=t.memoizedProps,r[_t]=t,(l=r.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:Ls(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ls(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_t]=t,t.stateNode=r}return _e(t),null;case 13:if(te(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&Ye!==null&&t.mode&1&&!(t.flags&128))Ed(),pr(),t.flags|=98560,l=!1;else if(l=Is(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(L(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(L(317));l[_t]=t}else pr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),l=!1}else St!==null&&(Ii(St),St=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?ye===0&&(ye=3):ja())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return hr(),Pi(e,t),e===null&&ls(t.stateNode.containerInfo),_e(t),null;case 10:return ia(t.type._context),_e(t),null;case 17:return Ge(t.type)&&ml(),_e(t),null;case 19:if(te(le),l=t.memoizedState,l===null)return _e(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)Rr(l,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Sl(e),i!==null){for(t.flags|=128,Rr(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(le,le.current&1|2),t.child}e=e.sibling}l.tail!==null&&me()>xr&&(t.flags|=128,r=!0,Rr(l,!1),t.lanes=4194304)}else{if(!r)if(e=Sl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Rr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!re)return _e(t),null}else 2*me()-l.renderingStartTime>xr&&n!==1073741824&&(t.flags|=128,r=!0,Rr(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=me(),t.sibling=null,n=le.current,q(le,r?n&1|2:n&1),t):(_e(t),null);case 22:case 23:return Na(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qe&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Um(e,t){switch(ra(t),t.tag){case 1:return Ge(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hr(),te(We),te(Te),fa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return da(t),null;case 13:if(te(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));pr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(le),null;case 4:return hr(),null;case 10:return ia(t.type._context),null;case 22:case 23:return Na(),null;case 24:return null;default:return null}}var As=!1,Re=!1,$m=typeof WeakSet=="function"?WeakSet:Set,$=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(e,t,r)}else n.current=null}function Ci(e,t,n){try{n()}catch(r){ce(e,t,r)}}var Lu=!1;function Vm(e,t){if(ci=cl,e=fd(),ta(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,c=0,m=0,x=e,h=null;t:for(;;){for(var y;x!==n||s!==0&&x.nodeType!==3||(a=i+s),x!==l||r!==0&&x.nodeType!==3||(u=i+r),x.nodeType===3&&(i+=x.nodeValue.length),(y=x.firstChild)!==null;)h=x,x=y;for(;;){if(x===e)break t;if(h===n&&++c===s&&(a=i),h===l&&++m===r&&(u=i),(y=x.nextSibling)!==null)break;x=h,h=x.parentNode}x=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(di={focusedElem:e,selectionRange:n},cl=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var w=k.memoizedProps,N=k.memoizedState,f=t.stateNode,d=f.getSnapshotBeforeUpdate(t.elementType===t.type?w:yt(t.type,w),N);f.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(v){ce(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return k=Lu,Lu=!1,k}function Kr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Ci(t,n,l)}s=s.next}while(s!==r)}}function Hl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Mi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uf(e){var t=e.alternate;t!==null&&(e.alternate=null,uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_t],delete t[is],delete t[mi],delete t[jm],delete t[Em])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cf(e){return e.tag===5||e.tag===3||e.tag===4}function Iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pl));else if(r!==4&&(e=e.child,e!==null))for(bi(e,t,n),e=e.sibling;e!==null;)bi(e,t,n),e=e.sibling}function _i(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_i(e,t,n),e=e.sibling;e!==null;)_i(e,t,n),e=e.sibling}var Ee=null,wt=!1;function Kt(e,t,n){for(n=n.child;n!==null;)df(e,t,n),n=n.sibling}function df(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Fl,n)}catch{}switch(n.tag){case 5:Re||nr(n,t);case 6:var r=Ee,s=wt;Ee=null,Kt(e,t,n),Ee=r,wt=s,Ee!==null&&(wt?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(wt?(e=Ee,n=n.stateNode,e.nodeType===8?jo(e.parentNode,n):e.nodeType===1&&jo(e,n),ns(e)):jo(Ee,n.stateNode));break;case 4:r=Ee,s=wt,Ee=n.stateNode.containerInfo,wt=!0,Kt(e,t,n),Ee=r,wt=s;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Ci(n,t,i),s=s.next}while(s!==r)}Kt(e,t,n);break;case 1:if(!Re&&(nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ce(n,t,a)}Kt(e,t,n);break;case 21:Kt(e,t,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,Kt(e,t,n),Re=r):Kt(e,t,n);break;default:Kt(e,t,n)}}function Du(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $m),t.forEach(function(r){var s=Zm.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ee=a.stateNode,wt=!1;break e;case 3:Ee=a.stateNode.containerInfo,wt=!0;break e;case 4:Ee=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(Ee===null)throw Error(L(160));df(l,i,s),Ee=null,wt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ce(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ff(t,e),t=t.sibling}function ff(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),Mt(e),r&4){try{Kr(3,e,e.return),Hl(3,e)}catch(w){ce(e,e.return,w)}try{Kr(5,e,e.return)}catch(w){ce(e,e.return,w)}}break;case 1:vt(t,e),Mt(e),r&512&&n!==null&&nr(n,n.return);break;case 5:if(vt(t,e),Mt(e),r&512&&n!==null&&nr(n,n.return),e.flags&32){var s=e.stateNode;try{qr(s,"")}catch(w){ce(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&l.type==="radio"&&l.name!=null&&Lc(s,l),ei(a,i);var c=ei(a,l);for(i=0;i<u.length;i+=2){var m=u[i],x=u[i+1];m==="style"?zc(s,x):m==="dangerouslySetInnerHTML"?Fc(s,x):m==="children"?qr(s,x):Vi(s,m,x,c)}switch(a){case"input":Qo(s,l);break;case"textarea":Ic(s,l);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var y=l.value;y!=null?lr(s,!!l.multiple,y,!1):h!==!!l.multiple&&(l.defaultValue!=null?lr(s,!!l.multiple,l.defaultValue,!0):lr(s,!!l.multiple,l.multiple?[]:"",!1))}s[is]=l}catch(w){ce(e,e.return,w)}}break;case 6:if(vt(t,e),Mt(e),r&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(w){ce(e,e.return,w)}}break;case 3:if(vt(t,e),Mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ns(t.containerInfo)}catch(w){ce(e,e.return,w)}break;case 4:vt(t,e),Mt(e);break;case 13:vt(t,e),Mt(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Sa=me())),r&4&&Du(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Re=(c=Re)||m,vt(t,e),Re=c):vt(t,e),Mt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for($=e,m=e.child;m!==null;){for(x=$=m;$!==null;){switch(h=$,y=h.child,h.tag){case 0:case 11:case 14:case 15:Kr(4,h,h.return);break;case 1:nr(h,h.return);var k=h.stateNode;if(typeof k.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(w){ce(r,n,w)}}break;case 5:nr(h,h.return);break;case 22:if(h.memoizedState!==null){Au(x);continue}}y!==null?(y.return=h,$=y):Au(x)}m=m.sibling}e:for(m=null,x=e;;){if(x.tag===5){if(m===null){m=x;try{s=x.stateNode,c?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(a=x.stateNode,u=x.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Ac("display",i))}catch(w){ce(e,e.return,w)}}}else if(x.tag===6){if(m===null)try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(w){ce(e,e.return,w)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;m===x&&(m=null),x=x.return}m===x&&(m=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:vt(t,e),Mt(e),r&4&&Du(e);break;case 21:break;default:vt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cf(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qr(s,""),r.flags&=-33);var l=Iu(e);_i(e,l,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Iu(e);bi(e,a,i);break;default:throw Error(L(161))}}catch(u){ce(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Bm(e,t,n){$=e,pf(e)}function pf(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var s=$,l=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||As;if(!i){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Re;a=As;var c=Re;if(As=i,(Re=u)&&!c)for($=s;$!==null;)i=$,u=i.child,i.tag===22&&i.memoizedState!==null?zu(s):u!==null?(u.return=i,$=u):zu(s);for(;l!==null;)$=l,pf(l),l=l.sibling;$=s,As=a,Re=c}Fu(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,$=l):Fu(e)}}function Fu(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Re||Hl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Re)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&wu(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wu(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var x=m.dehydrated;x!==null&&ns(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Re||t.flags&512&&Mi(t)}catch(h){ce(t,t.return,h)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Au(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function zu(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hl(4,t)}catch(u){ce(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){ce(t,s,u)}}var l=t.return;try{Mi(t)}catch(u){ce(t,l,u)}break;case 5:var i=t.return;try{Mi(t)}catch(u){ce(t,i,u)}}}catch(u){ce(t,t.return,u)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var Hm=Math.ceil,jl=Ht.ReactCurrentDispatcher,ya=Ht.ReactCurrentOwner,at=Ht.ReactCurrentBatchConfig,X=0,ke=null,he=null,Pe=0,Qe=0,rr=pn(0),ye=0,ps=null,Ln=0,Wl=0,wa=0,Qr=null,Be=null,Sa=0,xr=1/0,Dt=null,El=!1,Ri=null,on=null,zs=!1,en=null,Pl=0,Yr=0,Ti=null,tl=-1,nl=0;function Fe(){return X&6?me():tl!==-1?tl:tl=me()}function an(e){return e.mode&1?X&2&&Pe!==0?Pe&-Pe:Cm.transition!==null?(nl===0&&(nl=Yc()),nl):(e=Q,e!==0||(e=window.event,e=e===void 0?16:rd(e.type)),e):1}function Nt(e,t,n,r){if(50<Yr)throw Yr=0,Ti=null,Error(L(185));gs(e,n,r),(!(X&2)||e!==ke)&&(e===ke&&(!(X&2)&&(Wl|=n),ye===4&&qt(e,Pe)),Xe(e,r),n===1&&X===0&&!(t.mode&1)&&(xr=me()+500,$l&&mn()))}function Xe(e,t){var n=e.callbackNode;Cp(e,t);var r=ul(e,e===ke?Pe:0);if(r===0)n!==null&&Xa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xa(n),t===1)e.tag===0?Pm(Ou.bind(null,e)):kd(Ou.bind(null,e)),km(function(){!(X&6)&&mn()}),n=null;else{switch(Zc(r)){case 1:n=Xi;break;case 4:n=Kc;break;case 16:n=al;break;case 536870912:n=Qc;break;default:n=al}n=Sf(n,mf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mf(e,t){if(tl=-1,nl=0,X&6)throw Error(L(327));var n=e.callbackNode;if(cr()&&e.callbackNode!==n)return null;var r=ul(e,e===ke?Pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cl(e,r);else{t=r;var s=X;X|=2;var l=gf();(ke!==e||Pe!==t)&&(Dt=null,xr=me()+500,Cn(e,t));do try{Xm();break}catch(a){hf(e,a)}while(!0);oa(),jl.current=l,X=s,he!==null?t=0:(ke=null,Pe=0,t=ye)}if(t!==0){if(t===2&&(s=li(e),s!==0&&(r=s,t=Li(e,s))),t===1)throw n=ps,Cn(e,0),qt(e,r),Xe(e,me()),n;if(t===6)qt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Wm(s)&&(t=Cl(e,r),t===2&&(l=li(e),l!==0&&(r=l,t=Li(e,l))),t===1))throw n=ps,Cn(e,0),qt(e,r),Xe(e,me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:Sn(e,Be,Dt);break;case 3:if(qt(e,r),(r&130023424)===r&&(t=Sa+500-me(),10<t)){if(ul(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Fe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=pi(Sn.bind(null,e,Be,Dt),t);break}Sn(e,Be,Dt);break;case 4:if(qt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-kt(r);l=1<<i,i=t[i],i>s&&(s=i),r&=~l}if(r=s,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hm(r/1960))-r,10<r){e.timeoutHandle=pi(Sn.bind(null,e,Be,Dt),r);break}Sn(e,Be,Dt);break;case 5:Sn(e,Be,Dt);break;default:throw Error(L(329))}}}return Xe(e,me()),e.callbackNode===n?mf.bind(null,e):null}function Li(e,t){var n=Qr;return e.current.memoizedState.isDehydrated&&(Cn(e,t).flags|=256),e=Cl(e,t),e!==2&&(t=Be,Be=n,t!==null&&Ii(t)),e}function Ii(e){Be===null?Be=e:Be.push.apply(Be,e)}function Wm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!jt(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~wa,t&=~Wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kt(t),r=1<<n;e[n]=-1,t&=~r}}function Ou(e){if(X&6)throw Error(L(327));cr();var t=ul(e,0);if(!(t&1))return Xe(e,me()),null;var n=Cl(e,t);if(e.tag!==0&&n===2){var r=li(e);r!==0&&(t=r,n=Li(e,r))}if(n===1)throw n=ps,Cn(e,0),qt(e,t),Xe(e,me()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sn(e,Be,Dt),Xe(e,me()),null}function ka(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(xr=me()+500,$l&&mn())}}function In(e){en!==null&&en.tag===0&&!(X&6)&&cr();var t=X;X|=1;var n=at.transition,r=Q;try{if(at.transition=null,Q=1,e)return e()}finally{Q=r,at.transition=n,X=t,!(X&6)&&mn()}}function Na(){Qe=rr.current,te(rr)}function Cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sm(n)),he!==null)for(n=he.return;n!==null;){var r=n;switch(ra(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ml();break;case 3:hr(),te(We),te(Te),fa();break;case 5:da(r);break;case 4:hr();break;case 13:te(le);break;case 19:te(le);break;case 10:ia(r.type._context);break;case 22:case 23:Na()}n=n.return}if(ke=e,he=e=un(e.current,null),Pe=Qe=t,ye=0,ps=null,wa=Wl=Ln=0,Be=Qr=null,En!==null){for(t=0;t<En.length;t++)if(n=En[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=s,r.next=i}n.pending=r}En=null}return e}function hf(e,t){do{var n=he;try{if(oa(),qs.current=Nl,kl){for(var r=oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}kl=!1}if(Tn=0,Se=ve=oe=null,Xr=!1,cs=0,ya.current=null,n===null||n.return===null){ye=1,ps=t,he=null;break}e:{var l=e,i=n.return,a=n,u=t;if(t=Pe,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,m=a,x=m.tag;if(!(m.mode&1)&&(x===0||x===11||x===15)){var h=m.alternate;h?(m.updateQueue=h.updateQueue,m.memoizedState=h.memoizedState,m.lanes=h.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Pu(i);if(y!==null){y.flags&=-257,Cu(y,i,a,l,t),y.mode&1&&Eu(l,c,t),t=y,u=c;var k=t.updateQueue;if(k===null){var w=new Set;w.add(u),t.updateQueue=w}else k.add(u);break e}else{if(!(t&1)){Eu(l,c,t),ja();break e}u=Error(L(426))}}else if(re&&a.mode&1){var N=Pu(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Cu(N,i,a,l,t),sa(gr(u,a));break e}}l=u=gr(u,a),ye!==4&&(ye=2),Qr===null?Qr=[l]:Qr.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var f=Zd(l,u,t);yu(l,f);break e;case 1:a=u;var d=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(on===null||!on.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var v=qd(l,a,t);yu(l,v);break e}}l=l.return}while(l!==null)}vf(n)}catch(E){t=E,he===n&&n!==null&&(he=n=n.return);continue}break}while(!0)}function gf(){var e=jl.current;return jl.current=Nl,e===null?Nl:e}function ja(){(ye===0||ye===3||ye===2)&&(ye=4),ke===null||!(Ln&268435455)&&!(Wl&268435455)||qt(ke,Pe)}function Cl(e,t){var n=X;X|=2;var r=gf();(ke!==e||Pe!==t)&&(Dt=null,Cn(e,t));do try{Gm();break}catch(s){hf(e,s)}while(!0);if(oa(),X=n,jl.current=r,he!==null)throw Error(L(261));return ke=null,Pe=0,ye}function Gm(){for(;he!==null;)xf(he)}function Xm(){for(;he!==null&&!vp();)xf(he)}function xf(e){var t=wf(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?vf(e):he=t,ya.current=null}function vf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Um(n,t),n!==null){n.flags&=32767,he=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,he=null;return}}else if(n=Om(n,t,Qe),n!==null){he=n;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);ye===0&&(ye=5)}function Sn(e,t,n){var r=Q,s=at.transition;try{at.transition=null,Q=1,Km(e,t,n,r)}finally{at.transition=s,Q=r}return null}function Km(e,t,n,r){do cr();while(en!==null);if(X&6)throw Error(L(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Mp(e,l),e===ke&&(he=ke=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zs||(zs=!0,Sf(al,function(){return cr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=at.transition,at.transition=null;var i=Q;Q=1;var a=X;X|=4,ya.current=null,Vm(e,n),ff(n,e),mm(di),cl=!!ci,di=ci=null,e.current=n,Bm(n),yp(),X=a,Q=i,at.transition=l}else e.current=n;if(zs&&(zs=!1,en=e,Pl=s),l=e.pendingLanes,l===0&&(on=null),kp(n.stateNode),Xe(e,me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(El)throw El=!1,e=Ri,Ri=null,e;return Pl&1&&e.tag!==0&&cr(),l=e.pendingLanes,l&1?e===Ti?Yr++:(Yr=0,Ti=e):Yr=0,mn(),null}function cr(){if(en!==null){var e=Zc(Pl),t=at.transition,n=Q;try{if(at.transition=null,Q=16>e?16:e,en===null)var r=!1;else{if(e=en,en=null,Pl=0,X&6)throw Error(L(331));var s=X;for(X|=4,$=e.current;$!==null;){var l=$,i=l.child;if($.flags&16){var a=l.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for($=c;$!==null;){var m=$;switch(m.tag){case 0:case 11:case 15:Kr(8,m,l)}var x=m.child;if(x!==null)x.return=m,$=x;else for(;$!==null;){m=$;var h=m.sibling,y=m.return;if(uf(m),m===c){$=null;break}if(h!==null){h.return=y,$=h;break}$=y}}}var k=l.alternate;if(k!==null){var w=k.child;if(w!==null){k.child=null;do{var N=w.sibling;w.sibling=null,w=N}while(w!==null)}}$=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,$=i;else e:for(;$!==null;){if(l=$,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Kr(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,$=f;break e}$=l.return}}var d=e.current;for($=d;$!==null;){i=$;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,$=g;else e:for(i=d;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hl(9,a)}}catch(E){ce(a,a.return,E)}if(a===i){$=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,$=v;break e}$=a.return}}if(X=s,mn(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Fl,e)}catch{}r=!0}return r}finally{Q=n,at.transition=t}}return!1}function Uu(e,t,n){t=gr(n,t),t=Zd(e,t,1),e=ln(e,t,1),t=Fe(),e!==null&&(gs(e,1,t),Xe(e,t))}function ce(e,t,n){if(e.tag===3)Uu(e,e,n);else for(;t!==null;){if(t.tag===3){Uu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){e=gr(n,e),e=qd(t,e,1),t=ln(t,e,1),e=Fe(),t!==null&&(gs(t,1,e),Xe(t,e));break}}t=t.return}}function Qm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Pe&n)===n&&(ye===4||ye===3&&(Pe&130023424)===Pe&&500>me()-Sa?Cn(e,0):wa|=n),Xe(e,t)}function yf(e,t){t===0&&(e.mode&1?(t=Ms,Ms<<=1,!(Ms&130023424)&&(Ms=4194304)):t=1);var n=Fe();e=Vt(e,t),e!==null&&(gs(e,t,n),Xe(e,n))}function Ym(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yf(e,n)}function Zm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),yf(e,n)}var wf;wf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)He=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return He=!1,zm(e,t,n);He=!!(e.flags&131072)}else He=!1,re&&t.flags&1048576&&Nd(t,xl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;el(e,t),e=t.pendingProps;var s=fr(t,Te.current);ur(t,n),s=ma(null,t,r,e,s,n);var l=ha();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(r)?(l=!0,hl(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ua(t),s.updater=Bl,t.stateNode=s,s._reactInternals=t,wi(t,r,e,n),t=Ni(null,t,r,!0,l,n)):(t.tag=0,re&&l&&na(t),De(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(el(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Jm(r),e=yt(r,e),s){case 0:t=ki(null,t,r,e,n);break e;case 1:t=_u(null,t,r,e,n);break e;case 11:t=Mu(null,t,r,e,n);break e;case 14:t=bu(null,t,r,yt(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),ki(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),_u(e,t,r,s,n);case 3:e:{if(nf(t),e===null)throw Error(L(387));r=t.pendingProps,l=t.memoizedState,s=l.element,bd(e,t),wl(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=gr(Error(L(423)),t),t=Ru(e,t,r,n,s);break e}else if(r!==s){s=gr(Error(L(424)),t),t=Ru(e,t,r,n,s);break e}else for(Ye=sn(t.stateNode.containerInfo.firstChild),Ze=t,re=!0,St=null,n=Cd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pr(),r===s){t=Bt(e,t,n);break e}De(e,t,r,n)}t=t.child}return t;case 5:return _d(t),e===null&&xi(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,i=s.children,fi(r,s)?i=null:l!==null&&fi(r,l)&&(t.flags|=32),tf(e,t),De(e,t,i,n),t.child;case 6:return e===null&&xi(t),null;case 13:return rf(e,t,n);case 4:return ca(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mr(t,null,r,n):De(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),Mu(e,t,r,s,n);case 7:return De(e,t,t.pendingProps,n),t.child;case 8:return De(e,t,t.pendingProps.children,n),t.child;case 12:return De(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,i=s.value,q(vl,r._currentValue),r._currentValue=i,l!==null)if(jt(l.value,i)){if(l.children===s.children&&!We.current){t=Bt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){i=l.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=Ot(-1,n&-n),u.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),vi(l.return,n,t),a.lanes|=n;break}u=u.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(L(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),vi(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}De(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ur(t,n),s=ut(s),r=r(s),t.flags|=1,De(e,t,r,n),t.child;case 14:return r=t.type,s=yt(r,t.pendingProps),s=yt(r.type,s),bu(e,t,r,s,n);case 15:return Jd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:yt(r,s),el(e,t),t.tag=1,Ge(r)?(e=!0,hl(t)):e=!1,ur(t,n),Yd(t,r,s),wi(t,r,s,n),Ni(null,t,r,!0,e,n);case 19:return sf(e,t,n);case 22:return ef(e,t,n)}throw Error(L(156,t.tag))};function Sf(e,t){return Xc(e,t)}function qm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,n,r){return new qm(e,t,n,r)}function Ea(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jm(e){if(typeof e=="function")return Ea(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hi)return 11;if(e===Wi)return 14}return 2}function un(e,t){var n=e.alternate;return n===null?(n=it(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rl(e,t,n,r,s,l){var i=2;if(r=e,typeof e=="function")Ea(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Xn:return Mn(n.children,s,l,t);case Bi:i=8,s|=8;break;case Ho:return e=it(12,n,t,s|2),e.elementType=Ho,e.lanes=l,e;case Wo:return e=it(13,n,t,s),e.elementType=Wo,e.lanes=l,e;case Go:return e=it(19,n,t,s),e.elementType=Go,e.lanes=l,e;case _c:return Gl(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mc:i=10;break e;case bc:i=9;break e;case Hi:i=11;break e;case Wi:i=14;break e;case Qt:i=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=it(i,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function Mn(e,t,n,r){return e=it(7,e,r,t),e.lanes=n,e}function Gl(e,t,n,r){return e=it(22,e,r,t),e.elementType=_c,e.lanes=n,e.stateNode={isHidden:!1},e}function To(e,t,n){return e=it(6,e,null,t),e.lanes=n,e}function Lo(e,t,n){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eh(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=po(0),this.expirationTimes=po(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=po(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Pa(e,t,n,r,s,l,i,a,u){return e=new eh(e,t,n,a,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=it(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ua(l),e}function th(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kf(e){if(!e)return dn;e=e._reactInternals;e:{if(Fn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(Ge(n))return Sd(e,n,t)}return t}function Nf(e,t,n,r,s,l,i,a,u){return e=Pa(n,r,!0,e,s,l,i,a,u),e.context=kf(null),n=e.current,r=Fe(),s=an(n),l=Ot(r,s),l.callback=t??null,ln(n,l,s),e.current.lanes=s,gs(e,s,r),Xe(e,r),e}function Xl(e,t,n,r){var s=t.current,l=Fe(),i=an(s);return n=kf(n),t.context===null?t.context=n:t.pendingContext=n,t=Ot(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ln(s,t,i),e!==null&&(Nt(e,s,i,l),Zs(e,s,i)),i}function Ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $u(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ca(e,t){$u(e,t),(e=e.alternate)&&$u(e,t)}function nh(){return null}var jf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ma(e){this._internalRoot=e}Kl.prototype.render=Ma.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Xl(e,t,null,null)};Kl.prototype.unmount=Ma.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;In(function(){Xl(null,e,null,null)}),t[$t]=null}};function Kl(e){this._internalRoot=e}Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ed();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&nd(e)}};function ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vu(){}function rh(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var c=Ml(i);l.call(c)}}var i=Nf(t,r,e,0,null,!1,!1,"",Vu);return e._reactRootContainer=i,e[$t]=i.current,ls(e.nodeType===8?e.parentNode:e),In(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Ml(u);a.call(c)}}var u=Pa(e,0,!1,null,null,!1,!1,"",Vu);return e._reactRootContainer=u,e[$t]=u.current,ls(e.nodeType===8?e.parentNode:e),In(function(){Xl(t,u,n,r)}),u}function Yl(e,t,n,r,s){var l=n._reactRootContainer;if(l){var i=l;if(typeof s=="function"){var a=s;s=function(){var u=Ml(i);a.call(u)}}Xl(t,i,e,s)}else i=rh(n,t,e,s,r);return Ml(i)}qc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Or(t.pendingLanes);n!==0&&(Ki(t,n|1),Xe(t,me()),!(X&6)&&(xr=me()+500,mn()))}break;case 13:In(function(){var r=Vt(e,1);if(r!==null){var s=Fe();Nt(r,e,1,s)}}),Ca(e,1)}};Qi=function(e){if(e.tag===13){var t=Vt(e,134217728);if(t!==null){var n=Fe();Nt(t,e,134217728,n)}Ca(e,134217728)}};Jc=function(e){if(e.tag===13){var t=an(e),n=Vt(e,t);if(n!==null){var r=Fe();Nt(n,e,t,r)}Ca(e,t)}};ed=function(){return Q};td=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};ni=function(e,t,n){switch(t){case"input":if(Qo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ul(r);if(!s)throw Error(L(90));Tc(r),Qo(r,s)}}}break;case"textarea":Ic(e,n);break;case"select":t=n.value,t!=null&&lr(e,!!n.multiple,t,!1)}};$c=ka;Vc=In;var sh={usingClientEntryPoint:!1,Events:[vs,Zn,Ul,Oc,Uc,ka]},Tr={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lh={bundleType:Tr.bundleType,version:Tr.version,rendererPackageName:Tr.rendererPackageName,rendererConfig:Tr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wc(e),e===null?null:e.stateNode},findFiberByHostInstance:Tr.findFiberByHostInstance||nh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Fl=Os.inject(lh),Rt=Os}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sh;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ba(t))throw Error(L(200));return th(e,t,null,n)};Je.createRoot=function(e,t){if(!ba(e))throw Error(L(299));var n=!1,r="",s=jf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Pa(e,1,!1,null,null,n,!1,r,s),e[$t]=t.current,ls(e.nodeType===8?e.parentNode:e),new Ma(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Wc(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return In(e)};Je.hydrate=function(e,t,n){if(!Ql(t))throw Error(L(200));return Yl(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!ba(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",i=jf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Nf(t,null,e,1,n??null,s,!1,l,i),e[$t]=t.current,ls(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Kl(t)};Je.render=function(e,t,n){if(!Ql(t))throw Error(L(200));return Yl(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(L(40));return e._reactRootContainer?(In(function(){Yl(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1};Je.unstable_batchedUpdates=ka;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Yl(e,t,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function Ef(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ef)}catch(e){console.error(e)}}Ef(),jc.exports=Je;var oh=jc.exports,Bu=oh;Vo.createRoot=Bu.createRoot,Vo.hydrateRoot=Bu.hydrateRoot;const ih="-0000-1000-8000-00805f9b34fb",Bn=e=>`0000${e.toString(16).padStart(4,"0")}${ih}`.toLowerCase(),Io={FTMS:Bn(6182),INDOOR_BIKE_DATA:Bn(10962),CPS:Bn(6168),CYCLING_POWER_MEASUREMENT:Bn(10851),HRS:Bn(6157),HEART_RATE_MEASUREMENT:Bn(10807)},ah=()=>{if(typeof document>"u")return!0;const e=document.permissionsPolicy??document.featurePolicy;if(!e)return!0;try{if(typeof e.allowsFeature=="function")return e.allowsFeature("bluetooth");if(typeof e.allowedFeatures=="function")return e.allowedFeatures().includes("bluetooth")}catch(t){console.warn("Unable to evaluate Permissions Policy for bluetooth",t)}return!0};function Pf(e,t=0){if(!Number.isFinite(e)||e<=0)return 0;const n=Math.cbrt(Math.max(0,e)),r=1.7,s=1-.06*t,l=Math.max(.3,Math.min(1.2,s)),i=r*n*l;return Math.max(0,Math.min(60,i))}function uh(e){return Pf(e)}function Hu(e,t){const r=[["timestamp","elapsed_s","power_w","cadence_rpm","speed_kph","distance_km","heart_bpm"].join(",")].concat(t.map(a=>{var u,c,m,x,h,y,k,w;return[new Date(a.ts).toISOString(),a.elapsed.toFixed(1),((c=(u=a.power)==null?void 0:u.toFixed)==null?void 0:c.call(u,0))??"",((x=(m=a.cadence)==null?void 0:m.toFixed)==null?void 0:x.call(m,0))??"",((y=(h=a.speed)==null?void 0:h.toFixed)==null?void 0:y.call(h,2))??"",((w=(k=a.distance)==null?void 0:k.toFixed)==null?void 0:w.call(k,3))??"",a.hr??""].join(",")})),s=new Blob([r.join(`
`)],{type:"text/csv"}),l=URL.createObjectURL(s),i=document.createElement("a");i.href=l,i.download=e,i.click(),URL.revokeObjectURL(l)}function ch(){const[e,t]=p.useState({isConnecting:{},lastConnected:{},connectionHistory:[]}),n=p.useCallback(i=>{t(a=>({...a,isConnecting:{...a.isConnecting,[i]:!0}}))},[]),r=p.useCallback((i,a,u)=>{t(c=>({...c,isConnecting:{...c.isConnecting,[i]:!1},lastConnected:a?{...c.lastConnected,[i]:Date.now()}:c.lastConnected,connectionHistory:[...c.connectionHistory.slice(-9),{deviceType:i,timestamp:Date.now(),success:a,error:u}]}))},[]),s=p.useCallback(i=>{const a=e.lastConnected[i];if(!a)return null;const c=Date.now()-a;return c<6e4?`${Math.floor(c/1e3)}s`:c<36e5?`${Math.floor(c/6e4)}m`:`${Math.floor(c/36e5)}h`},[e.lastConnected]),l=p.useCallback(()=>{t(i=>({...i,connectionHistory:[]}))},[]);return{connectionState:e,startConnection:n,endConnection:r,getConnectionTime:s,clearHistory:l}}const rt={ftms:6182,cps:6168,hr:6157},dh={isTopLevel:null,isSecure:null,hasBT:null,policy:null,availability:null,canUse:null,supportsBluetooth:!1,bluetoothAvailable:!1,bluetoothEnabled:!1},fh={ftms:"idle",cps:"idle",hr:"idle"},Us=e=>{var t;return{id:e.id,name:e.name??"Unknown device",connected:((t=e.gatt)==null?void 0:t.connected)??!1}},Lr=e=>e.policy===!1||e.isSecure===!1||e.hasBT===!1?!1:e.supportsBluetooth?e.availability===!1||e.bluetoothAvailable===!1||e.bluetoothEnabled===!1?!1:e.policy===null||e.isSecure===null||e.hasBT===null||e.availability===null?e.canUse:!0:e.hasBT===null?e.canUse:!1,Ir=e=>typeof e<"u"&&typeof e.bluetooth<"u",ph=e=>typeof e=="function",mh=()=>{const[e,t]=p.useState(dh),[n,r]=p.useState(fh),[s,l]=p.useState({}),[i,a]=p.useState({}),{connectionState:u,startConnection:c,endConnection:m,getConnectionTime:x}=ch(),h=p.useRef({}),y=p.useRef({}),k=p.useRef({}),w=p.useRef({}),N=p.useRef(null),f=p.useCallback((S,T)=>{r(A=>({...A,[S]:T}))},[]),d=p.useCallback(S=>{l(T=>{if(!(S in T))return T;const A={...T};return delete A[S],A})},[]),g=p.useCallback((S,T)=>{l(A=>({...A,[S]:T}))},[]),v=p.useCallback(async()=>{const S=typeof navigator>"u"?void 0:navigator,T=typeof navigator<"u",A=Ir(S),z=ah(),V=typeof window>"u"?null:typeof window.top<"u"?window.top===window.self:null,C=typeof window>"u"?null:window.isSecureContext??null;let O=!1,_=!1;if(A&&S){const{bluetooth:H}=S;if(ph(H.getAvailability))try{O=await H.getAvailability()}catch(ne){console.warn("Failed to determine bluetooth availability",ne),O=!0}else O=!0;_=O}const U={isTopLevel:V,isSecure:C,hasBT:T?A:null,policy:typeof document>"u"?null:z,availability:A?O:T?!1:null,canUse:null,supportsBluetooth:A,bluetoothAvailable:O,bluetoothEnabled:_};t({...U,canUse:Lr(U)})},[]),E=p.useCallback((S,T={})=>{var F;const{resetStatus:A=!0,clearError:z=!0}=T,V=h.current[S],C=y.current[S],O=k.current[S],_=w.current[S];if(S==="cps"){const I=k.current.cps,U=w.current.cps;if(I&&U)try{I.removeEventListener("characteristicvaluechanged",U)}catch(H){console.warn("Failed to remove characteristic listener",H)}}if(O){if(_&&S!=="cps")try{O.removeEventListener("characteristicvaluechanged",_)}catch(I){console.warn("Failed to remove characteristic listener",I)}try{const I=O.stopNotifications();I instanceof Promise&&I.catch(U=>{console.warn("Failed to stop notifications",U)})}catch(I){console.warn("Failed to stop notifications",I)}}if(V&&C&&V.removeEventListener("gattserverdisconnected",C),(F=V==null?void 0:V.gatt)!=null&&F.connected)try{V.gatt.disconnect()}catch(I){console.warn("Failed to disconnect device",I)}h.current[S]=void 0,y.current[S]=void 0,S==="cps"?(w.current.cps=void 0,k.current.cps=void 0,N.current=null):(k.current[S]=void 0,w.current[S]=void 0),a(I=>{if(!(S in I))return I;const U={...I};return delete U[S],U}),A&&f(S,"idle"),z&&d(S)},[d,f]),R=p.useCallback(S=>()=>{E(S)},[E]);p.useCallback(async S=>{const T=typeof navigator>"u"?void 0:navigator;if(!Ir(T)){g(S,"This environment does not support Web Bluetooth."),f(S,"error");return}c(S),f(S,"requesting"),d(S);const{bluetooth:A}=T;try{const z=await A.requestDevice({filters:[{services:[rt[S]]}],optionalServices:[rt[S]]});f(S,"connecting"),h.current[S]=z;const V=R(S);if(z.addEventListener("gattserverdisconnected",V),y.current[S]=V,!z.gatt)throw new Error("Device does not support GATT.");if(!(await z.gatt.connect()).connected)throw new Error("Failed to establish a GATT connection.");f(S,"connected"),t(O=>{const _={...O,bluetoothAvailable:!0,bluetoothEnabled:!0,availability:!0};return{..._,canUse:Lr(_)}}),a(O=>({...O,[S]:Us(z)})),m(S,!0)}catch(z){console.error("Failed to connect to device",z);const V=z instanceof Error?z.message:"Failed to connect to device.";g(S,V),f(S,"error"),m(S,!1,V),E(S,{resetStatus:!1,clearError:!1})}},[d,E,m,R,g,c,f]);const j=p.useCallback(S=>{E(S)},[E]),M=p.useCallback(async()=>{const S=typeof navigator>"u"?void 0:navigator;if(!Ir(S)){g("ftms","This environment does not support Web Bluetooth."),f("ftms","error");return}c("ftms"),f("ftms","requesting"),d("ftms");const{bluetooth:T}=S;try{const A=await T.requestDevice({filters:[{services:[rt.ftms]}],optionalServices:[rt.ftms]});f("ftms","connecting"),h.current.ftms=A;const z=R("ftms");if(A.addEventListener("gattserverdisconnected",z),y.current.ftms=z,!A.gatt)throw new Error("Device does not support GATT.");const V=await A.gatt.connect();if(!V.connected)throw new Error("Failed to establish a GATT connection.");const O=await(await V.getPrimaryService(rt.ftms)).getCharacteristic(Io.INDOOR_BIKE_DATA),_=F=>{const I=F.target,U=I==null?void 0:I.value;if(!U)return;let H=0;const ne=U.getUint16(H,!0);H+=2;let ae=0,Ne=0,Y=0;if(ne&1){const ge=U.getUint16(H,!0);H+=2,ae=ge/100*3.6}if(ne&4){const ge=U.getUint16(H,!0);H+=2,Ne=ge/2}ne&64&&(Y=U.getInt16(H,!0),H+=2),typeof window<"u"&&typeof window.dispatchEvent=="function"&&window.dispatchEvent(new CustomEvent("ftms-data",{detail:{source:"ftms",speed:ae,cadence:Ne,power:Y}}))};O.addEventListener("characteristicvaluechanged",_),w.current.ftms=_,k.current.ftms=O,await O.startNotifications(),f("ftms","connected"),t(F=>{const I={...F,bluetoothAvailable:!0,bluetoothEnabled:!0,availability:!0};return{...I,canUse:Lr(I)}}),a(F=>({...F,ftms:Us(A)})),m("ftms",!0)}catch(A){console.error("Failed to connect to FTMS device",A);const z=A instanceof Error?A.message:"Failed to connect to device.";g("ftms",z),f("ftms","error"),m("ftms",!1,z),E("ftms",{resetStatus:!1,clearError:!1})}},[d,E,m,R,g,c,f,t]),b=p.useCallback(async()=>{const S=typeof navigator>"u"?void 0:navigator;if(!Ir(S)){g("cps","This environment does not support Web Bluetooth."),f("cps","error");return}c("cps"),f("cps","requesting"),d("cps");try{const T=await S.bluetooth.requestDevice({filters:[{services:[rt.cps]}],optionalServices:[rt.cps]});f("cps","connecting"),h.current.cps=T;const A=R("cps");if(T.addEventListener("gattserverdisconnected",A),y.current.cps=A,!T.gatt)throw new Error("Device does not support GATT.");const z=await T.gatt.connect();if(!z.connected)throw new Error("Failed to establish a GATT connection.");const C=await(await z.getPrimaryService(rt.cps)).getCharacteristic(Io.CYCLING_POWER_MEASUREMENT),O=_=>{const F=_.target,I=F==null?void 0:F.value;if(!I)return;let U=0;const H=I.getUint16(U,!0);U+=2;const ne=I.getInt16(U,!0);U+=2,H&1&&(U+=1),H&4&&(U+=2),H&16&&(U+=6);let ae;if(H&32){if(I.byteLength>=U+4){const Y=N.current,ge=I.getUint16(U,!0);U+=2;const Le=I.getUint16(U,!0);if(U+=2,Y){const de=ge>=Y.revolutions?ge-Y.revolutions:ge+65536-Y.revolutions,K=Le>=Y.eventTime?Le-Y.eventTime:Le+65536-Y.eventTime;if(K>0&&de>=0){const Wt=K/1024,An=de/Wt*60;Number.isFinite(An)&&(ae=An)}}N.current={revolutions:ge,eventTime:Le}}}else N.current=null;const Ne=uh(ne);if(typeof window<"u"){const Y={source:"cps",power:ne};typeof ae=="number"&&(Y.cadence=ae),typeof Ne=="number"&&(Y.speed=Ne),window.dispatchEvent(new CustomEvent("ftms-data",{detail:Y}))}};C.addEventListener("characteristicvaluechanged",O),w.current.cps=O,k.current.cps=C,await C.startNotifications(),f("cps","connected"),t(_=>{const F={..._,bluetoothAvailable:!0,bluetoothEnabled:!0,availability:!0};return{...F,canUse:Lr(F)}}),a(_=>({..._,cps:Us(T)})),m("cps",!0)}catch(T){console.error("Failed to connect to CPS device",T);const A=T instanceof Error?T.message:"Failed to connect to device.";g("cps",A),f("cps","error"),m("cps",!1,A),E("cps",{resetStatus:!1,clearError:!1})}},[d,E,m,R,a,t,g,c,f]),P=p.useCallback(async()=>{const S=typeof navigator>"u"?void 0:navigator;if(!Ir(S)){g("hr","This environment does not support Web Bluetooth."),f("hr","error");return}c("hr"),f("hr","requesting"),d("hr");const{bluetooth:T}=S;try{const A=await T.requestDevice({filters:[{services:[rt.hr]}],optionalServices:[rt.hr]});f("hr","connecting"),h.current.hr=A;const z=R("hr");if(A.addEventListener("gattserverdisconnected",z),y.current.hr=z,!A.gatt)throw new Error("Device does not support GATT.");const V=await A.gatt.connect();if(!V.connected)throw new Error("Failed to establish a GATT connection.");const O=await(await V.getPrimaryService(rt.hr)).getCharacteristic(Io.HEART_RATE_MEASUREMENT),_=F=>{const I=F.target,U=I==null?void 0:I.value;if(!U)return;let H=0;const ne=U.getUint8(H);H+=1;const Ne=(ne&1)!==0?U.getUint16(H,!0):U.getUint8(H);typeof window<"u"&&typeof window.dispatchEvent=="function"&&window.dispatchEvent(new CustomEvent("hr-data",{detail:{hr:Ne}}))};O.addEventListener("characteristicvaluechanged",_),w.current.hr=_,k.current.hr=O,await O.startNotifications(),f("hr","connected"),t(F=>{const I={...F,bluetoothAvailable:!0,bluetoothEnabled:!0,availability:!0};return{...I,canUse:Lr(I)}}),a(F=>({...F,hr:Us(A)})),m("hr",!0)}catch(A){console.error("Failed to connect to HR device",A);const z=A instanceof Error?A.message:"Failed to connect to device.";g("hr",z),f("hr","error"),m("hr",!1,z),E("hr",{resetStatus:!1,clearError:!1})}},[d,E,m,R,g,c,f,t]);return p.useEffect(()=>{v()},[v]),p.useEffect(()=>()=>{Object.keys(rt).forEach(S=>{E(S)})},[E]),p.useMemo(()=>({environment:e,statuses:n,errors:s,connectedDevices:i,refreshEnvironment:v,connectFTMS:M,connectCPS:b,connectHR:P,disconnect:j,connectionState:u,getConnectionTime:x}),[b,M,P,i,u,j,e,s,x,v,n])},$s={power:0,cadence:0,speed:0,distance:0,hr:0},hh=.001,gh=2e3,Wu=2e3,xh=e=>{const t=Math.floor(e/60),n=Math.floor(e%60),r=Math.floor(t/60),s=t%60;return r>0?`${r}:${s.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`:`${s}:${n.toString().padStart(2,"0")}`},vh=(e,t)=>{const n=200+40*Math.sin(e/8)+(Math.random()-.5)*20,r=90+5*Math.sin((e+3)/6)+(Math.random()-.5)*5,s=32+4*Math.sin((e+1)/7)+(Math.random()-.5)*2,l=150+8*Math.sin((e+2)/10)+(Math.random()-.5)*6,i=t.distance+Math.max(s,0)/3600;return{power:Math.max(n,0),cadence:Math.max(r,0),speed:Math.max(s,0),distance:i,hr:Math.max(l,0)}},yh=(e,t,n={})=>{const[r,s]=p.useState($s),[l,i]=p.useState([]),[a,u]=p.useState(0),[c,m]=p.useState(!1),x=p.useRef($s),h=p.useRef(null),y=p.useRef(0),k=p.useRef(0),w=p.useRef({ftmsSpeed:null,ftmsPower:null,cpsPower:null,cadence:null,hr:null}),N=p.useRef(n.usePowerToDriveSpeed??!0),f=p.useRef(null),d=p.useRef({ftms:null,cps:null});p.useEffect(()=>{N.current=n.usePowerToDriveSpeed??!0},[n.usePowerToDriveSpeed]);const g=p.useCallback(b=>{const P=x.current,S=Object.entries(b);if(S.length>0&&S.every(([A,z])=>{if(typeof z>"u")return!0;const V=P[A];return typeof z=="number"&&typeof V=="number"?Math.abs(V-z)<=hh:V===z})||S.length===0)return;const T={...P,...b};x.current=T,k.current=T.distance,s(T)},[]);p.useEffect(()=>{x.current=r},[r]);const v=()=>{const b=x.current,P=w.current,S=N.current;let T=Number.isFinite(P.ftmsSpeed??NaN)?P.ftmsSpeed:null;const A=Date.now();T!=null&&f.current!=null&&A-f.current>gh&&(T=null);const z=d.current.ftms!=null&&A-d.current.ftms<=Wu,V=d.current.cps!=null&&A-d.current.cps<=Wu,C=z&&Number.isFinite(P.ftmsPower??NaN)?P.ftmsPower:null,O=V&&Number.isFinite(P.cpsPower??NaN)?P.cpsPower:null;(T==null||!Number.isFinite(T))&&S&&(T=Pf(O??C??0));const _=Math.max(0,Math.min(60,Number.isFinite(T??NaN)?T:0)),I=(Number.isFinite(k.current)?k.current:b.distance)+_/3600;k.current=I;const U=C??O??0,H=Number.isFinite(P.cadence??NaN)?P.cadence:b.cadence,ne=Number.isFinite(P.hr??NaN)?P.hr:b.hr;return{power:Number.isFinite(U??NaN)?U:0,cadence:Number.isFinite(H??NaN)?H:0,speed:_,distance:I,hr:Number.isFinite(ne??NaN)?ne:0}};p.useEffect(()=>{!t&&c&&m(!1)},[t,c]),p.useEffect(()=>{if(!c){h.current&&(clearInterval(h.current),h.current=null);return}return h.current=setInterval(()=>{const b=y.current+1;y.current=b,u(b);const P=e?vh(b,x.current):v();x.current=P,k.current=P.distance,s(P);const S={ts:Date.now(),elapsed:b,...P};i(T=>[...T,S])},1e3),()=>{h.current&&(clearInterval(h.current),h.current=null)}},[c,e]),p.useEffect(()=>()=>{h.current&&clearInterval(h.current)},[]),p.useEffect(()=>{if(e||typeof window>"u")return;const b=S=>{const T=S.detail;if(!T)return;const A=T.source??"ftms",z=w.current,V={};typeof T.power=="number"&&(A==="ftms"?(z.ftmsPower=T.power,d.current.ftms=Date.now()):A==="cps"&&(z.cpsPower=T.power,d.current.cps=Date.now()),V.power=T.power),typeof T.cadence=="number"&&(z.cadence=T.cadence,V.cadence=T.cadence),A==="ftms"&&typeof T.speed=="number"&&(Number.isFinite(T.speed)?(z.ftmsSpeed=T.speed,f.current=Date.now(),V.speed=T.speed):(z.ftmsSpeed=null,f.current=null)),Object.keys(V).length>0&&g(V)},P=S=>{const T=S.detail;T&&typeof T.hr=="number"&&(w.current.hr=T.hr,g({hr:T.hr}))};return window.addEventListener("ftms-data",b),window.addEventListener("hr-data",P),()=>{window.removeEventListener("ftms-data",b),window.removeEventListener("hr-data",P)}},[g,e]);const E=()=>c?!1:(m(!0),!0),R=()=>c?(m(!1),!0):!1,j=()=>(m(!1),y.current=0,u(0),x.current=$s,k.current=0,w.current={ftmsSpeed:null,ftmsPower:null,cpsPower:null,cadence:null,hr:null},f.current=null,d.current={ftms:null,cps:null},s($s),i([]),!0),M=p.useMemo(()=>xh(a),[a]);return{metrics:r,samples:l,elapsed:M,startRide:E,stopRide:R,resetRide:j}};function Do(e){return e*Math.PI/180}function wh(e){return e*180/Math.PI}function Sh(e,t){const n=Do(e.y),r=Do(t.y),s=Do(t.x-e.x),l=Math.sin(s)*Math.cos(r),i=Math.cos(n)*Math.sin(r)-Math.sin(n)*Math.cos(r)*Math.cos(s),a=Math.atan2(l,i);return(wh(a)+360)%360}function Gu(e){let t=e%360;return t<0&&(t+=360),t}function Xu(e,t){return(t-e+540)%360-180}function kh(e,t){const n=e.length;if(n===0)return[];const r=t==null?void 0:t.lookahead,s=t==null?void 0:t.medianWindow,l=t==null?void 0:t.maxTurnDeg,i=new Array(n).fill(0);for(let m=0;m<n;m++){const x=Math.min(n-1,m+r);i[m]=m===x?m>0?i[m-1]:0:Sh(e[m],e[x])}const a=new Array(n).fill(0),u=Math.floor(s/2);for(let m=0;m<n;m++){const x=[];for(let w=m-u;w<=m+u;w++){const N=Math.min(n-1,Math.max(0,w));x.push(i[N])}const h=i[m],y=x.map(w=>Xu(h,w));y.sort((w,N)=>w-N);const k=y[Math.floor(y.length/2)];a[m]=Gu(h+k)}const c=new Array(n).fill(0);c[0]=a[0];for(let m=1;m<n;m++){const x=c[m-1],h=a[m],y=Xu(x,h),k=Math.max(-l,Math.min(l,y));c[m]=Gu(x+k)}return c}const Nh={elevationAmplitude:40,curvature:.15};function Cf(e,t,n){if(e.length<2)throw new Error("Route requires at least two points");const r=new Array(e.length).fill(0);for(let a=1;a<e.length;a+=1){const u=e[a-1],c=e[a],m=c.x-u.x,x=c.y-u.y;r[a]=r[a-1]+Math.hypot(m,x)}const s=[];let l=!0;for(const a of e){const u=typeof a.lat=="number"?a.lat:void 0,c=typeof a.lon=="number"?a.lon:typeof a.lng=="number"?a.lng:void 0;if(u==null||c==null){l=!1;break}s.push({x:c,y:u})}const i=l&&s.length>1?kh(s,{lookahead:5,medianWindow:7,maxTurnDeg:45}):void 0;return{pts:e,cum:r,total:r[r.length-1],name:t,...n?{bounds:n}:{},...i?{headings:i}:{}}}function jh(e,t,n={}){if(!Number.isFinite(e)||e<=0)throw new Error("Route length must be a positive number");if(!Number.isInteger(t)||t<2)throw new Error("Route must contain at least two points");const{name:r,...s}=n,{elevationAmplitude:l,curvature:i}={...Nh,...s},a=e/(t-1),u=[];for(let c=0;c<t;c+=1){const m=a*c,x=c/(t-1),h=m,y=Math.sin(x*Math.PI*2)*e*i,k=l*Math.sin(x*Math.PI*4);u.push({x:h,y,elevation:k})}return Cf(u,r??"Synthetic Route")}function Eh(e,t){if(e.pts.length<2)throw new Error("Route requires at least two points for interpolation");if(!Number.isFinite(t))throw new Error("Fraction must be a finite number");const n=Math.min(Math.max(t,0),1),r=e.total*n,{pts:s,cum:l}=e;let i=l.findIndex(w=>w>=r);if(i===-1&&(i=l.length-1),i===0)return{...s[0]};const a=i-1,u=l[a],m=l[i]-u||1,x=(r-u)/m,h=s[a],y=s[i],k=(w,N)=>{if(w===void 0&&N===void 0)return;const f=w??N??0;return f+((N??w??0)-f)*x};return{x:h.x+(y.x-h.x)*x,y:h.y+(y.y-h.y)*x,elevation:k(h.elevation,y.elevation),lat:k(h.lat,y.lat),lon:k(h.lon??h.lng,y.lon??y.lng),lng:k(h.lng??h.lon,y.lng??y.lon)}}function Ph(e){try{if(console.log("Starting GPX parsing..."),!e||typeof e!="string"||!e.trim())throw new Error("Invalid GPX data: Empty or not a string");if(!e.includes("<gpx")||!e.includes("</gpx>"))throw new Error("Invalid GPX format: Missing GPX tags");const n=new DOMParser().parseFromString(e,"text/xml");if(n.querySelector("parsererror"))throw new Error("XML parsing error: Invalid XML format");let s=n.querySelectorAll("trkpt");if(s.length===0&&(s=n.querySelectorAll("wpt")),s.length===0&&(s=n.querySelectorAll("rtept")),s.length===0)throw new Error("No track points found in GPX file");console.log(`Found ${s.length} track points`);const l=[];let i=90,a=-90,u=180,c=-180,m=!1,x=0;if(s.forEach(j=>{var S;const M=parseFloat(j.getAttribute("lat")??"NaN"),b=parseFloat(j.getAttribute("lon")??"NaN"),P=((S=j.querySelector("ele"))==null?void 0:S.textContent)??void 0;if(!Number.isFinite(M)||!Number.isFinite(b)){console.warn("Invalid coordinates found, skipping point");return}i=Math.min(i,M),a=Math.max(a,M),u=Math.min(u,b),c=Math.max(c,b),x+=1,P!==void 0&&(m=!0)}),x===0||i===90&&a===-90&&u===180&&c===-180)throw new Error("No valid coordinates found in GPX file");const h=a-i||1,y=c-u||1,k=h*.05,w=y*.05,N=i-k,f=a+k,d=u-w,g=c+w;if(console.log(`Bounds: lat[${N.toFixed(6)}, ${f.toFixed(6)}] lon[${d.toFixed(6)}, ${g.toFixed(6)}]`),s.forEach((j,M)=>{var z;const b=parseFloat(j.getAttribute("lat")??"NaN"),P=parseFloat(j.getAttribute("lon")??"NaN"),S=((z=j.querySelector("ele"))==null?void 0:z.textContent)??void 0;if(!Number.isFinite(b)||!Number.isFinite(P)){console.warn(`Skipping invalid point at index ${M}`);return}const T=(P-d)/(g-d||1),A=1-(b-N)/(f-N||1);l.push({x:Math.max(0,Math.min(1,T)),y:Math.max(0,Math.min(1,A)),elevation:S&&m&&Number.isFinite(parseFloat(S))?parseFloat(S):void 0,lat:b,lon:P,lng:P})}),l.length===0)throw new Error("No valid points could be extracted from GPX file");if(l.length<2)throw new Error("GPX file must contain at least two valid points");console.log(`Extracted ${l.length} valid points`);const v=[n.querySelector("trk > name"),n.querySelector("name"),n.querySelector("metadata > name")];let E;for(const j of v)if(j!=null&&j.textContent){E=j.textContent.trim();break}const R=Cf(l,E??"GPX Route",{minLat:i,maxLat:a,minLon:u,maxLon:c});return console.log(`Route "${R.name??"Unnamed"}" parsed successfully: ${R.pts.length} points, ${R.total.toFixed(2)} total distance`),R}catch(t){throw console.error("Error parsing GPX:",t),t instanceof Error?t:new Error("An unknown error occurred while parsing GPX")}}const Ch=jh(2e4,400,{name:"Rolling Hills"}),Mh=10*1024*1024,bh=e=>typeof e=="string"?e:e instanceof ArrayBuffer?new TextDecoder().decode(e):"",_h=(e={})=>{const{defaultRoute:t}=e,n=p.useMemo(()=>t??Ch,[t]),[r,s]=p.useState(n),[l,i]=p.useState(!1),[a,u]=p.useState(null),[c,m]=p.useState(null),x=p.useRef(null),h=p.useCallback(()=>{u(null)},[]);p.useEffect(()=>{s(n),m(null)},[n]),p.useEffect(()=>()=>{const w=x.current;w&&w.readyState===FileReader.LOADING&&w.abort()},[]);const y=p.useCallback(()=>{const w=x.current;w&&w.readyState===FileReader.LOADING&&w.abort(),h(),i(!1),s(n),m(null)},[h,n]),k=p.useCallback(w=>new Promise((N,f)=>{if(!(w instanceof File)){const v="No GPX file provided";u(v),f(new Error(v));return}if(i(!0),h(),m(null),w.size>Mh){const v="File too large. Please select a GPX file smaller than 10MB.";u(v),i(!1),f(new Error(v));return}if(!w.name.toLowerCase().endsWith(".gpx")){const v="Invalid file type. Please select a GPX file.";u(v),i(!1),f(new Error(v));return}x.current&&x.current.readyState===FileReader.LOADING&&x.current.abort();const d=new FileReader;x.current=d;const g=()=>{x.current===d&&(x.current=null)};d.onload=()=>{try{const v=bh(d.result);if(!v)throw new Error("GPX file is empty or unreadable");const E=Ph(v);s(E),i(!1),h(),m(w.name),g(),N(E)}catch(v){const E=v instanceof Error?v.message:"Unable to parse GPX file";u(E),i(!1),m(null),g(),f(v instanceof Error?v:new Error(E))}},d.onerror=()=>{var E;const v=((E=d.error)==null?void 0:E.message)??"Failed to read GPX file";u(v),i(!1),m(null),g(),f(new Error(v))},d.onabort=()=>{const v="GPX file reading was aborted";u(v),i(!1),m(null),g(),f(new Error(v))};try{d.readAsText(w)}catch(v){const E=v instanceof Error?v.message:"Failed to start reading GPX file";u(E),i(!1),m(null),g(),f(v instanceof Error?v:new Error(E))}}),[h]);return p.useEffect(()=>{if(!a)return;const w=window.setTimeout(()=>{h()},5e3);return()=>{window.clearTimeout(w)}},[h,a]),{route:r,isLoading:l,error:a,lastLoadedFile:c,loadGPX:k,resetToDefault:y,clearError:h}},Rh={tickIntervalMs:1e3},bl=(e,t,n)=>Math.min(n,Math.max(t,e)),Th=e=>{if(e<=0)return 0;const r=85+(e-200)*.06;return Math.round(bl(r,70,110))},Lh=e=>e.reduce((t,n)=>t+bl(n.duration,0,Number.MAX_SAFE_INTEGER),0),Ih=(e={})=>{const{tickIntervalMs:t,plan:n=null}={...Rh,...e},[r,s]=p.useState(n),[l,i]=p.useState(!1),[a,u]=p.useState(0),[c,m]=p.useState(0),[x,h]=p.useState(0),y=p.useRef(null),k=p.useRef(null),w=p.useRef(null),N=p.useMemo(()=>r?Lh(r.intervals):0,[r]),f=p.useMemo(()=>r?r.intervals[x]??null:null,[r,x]),d=(f==null?void 0:f.targetPower)??0,g=p.useMemo(()=>Th(d),[d]),v=p.useMemo(()=>N?bl(a/N,0,1):0,[a,N]),E=p.useCallback(()=>{w.current&&(clearInterval(w.current),w.current=null)},[]),R=p.useCallback(()=>l?(E(),i(!1),!0):!1,[E,l]),j=p.useCallback(()=>{E(),y.current=null,k.current=null,i(!1),u(0),m(0),h(0)},[E]),M=p.useCallback(b=>{const P=b??r;if(!P||P.intervals.length===0)return!1;l&&E();const S=Date.now();return y.current=S,k.current=S,s(P),u(0),m(0),h(0),i(!0),!0},[E,l,r]);return p.useEffect(()=>{if(!l)return;const b=()=>{const P=Date.now(),S=y.current??P,T=k.current??P;y.current=S,k.current=T;const A=(P-S)/1e3,z=(P-T)/1e3;u(A),m(z),r&&h(V=>{const C=r.intervals[V];if(!C)return R(),V;if(z<C.duration)return V;const O=V+1;return O>=r.intervals.length?(R(),V):(k.current=P,m(0),O)})};return w.current=setInterval(b,t),()=>{E()}},[E,l,r,R,t]),p.useEffect(()=>()=>E(),[E]),p.useEffect(()=>{if(!r||r.intervals.length===0){j();return}h(b=>bl(b,0,r.intervals.length-1))},[r,j]),{isActive:l,elapsed:a,intervalElapsed:c,currentIntervalIndex:x,currentInterval:f,targetPower:d,targetCadence:g,totalDuration:N,progress:v,start:M,stop:R,reset:j,setPlan:s}},Dh=[{id:"beginner-endurance",name:"Beginner Endurance",intervals:[{duration:10,targetPower:.5},{duration:20,targetPower:.65},{duration:5,targetPower:.45},{duration:10,targetPower:.75},{duration:5,targetPower:.4}]},{id:"hiit-intervals",name:"HIIT Intervals",intervals:[{duration:5,targetPower:.5},{duration:1,targetPower:.95},{duration:2,targetPower:.4},{duration:1,targetPower:1},{duration:2,targetPower:.4},{duration:1,targetPower:.95},{duration:2,targetPower:.4},{duration:5,targetPower:.5}]},{id:"threshold-training",name:"Threshold Training",intervals:[{duration:8,targetPower:.55},{duration:7,targetPower:.7},{duration:12,targetPower:.9},{duration:6,targetPower:.5},{duration:7,targetPower:.45}]}],Mf=e=>new Intl.NumberFormat(void 0,{minimumFractionDigits:e,maximumFractionDigits:e}),Fh=(e,t)=>typeof e=="number"&&Number.isFinite(e)?Mf(t).format(e):typeof e=="string"&&e.trim().length>0?e.trim():"--",Ah=(e,t=0)=>typeof e=="number"&&Number.isFinite(e)?Mf(t).format(e):null,kn=({label:e,value:t=null,unit:n,target:r,precision:s=0,priority:l="medium"})=>{const i=typeof t=="number"&&Number.isFinite(t)?t:null,a=Fh(t,s),u=typeof r=="number"&&Number.isFinite(r),c=u?Ah(r,s):null,m="rounded-2xl border border-slate-200 bg-white/80 p-4 shadow-sm backdrop-blur-sm dark:border-slate-800 dark:bg-slate-900/80",x={high:`${m} border-2 border-blue-200/80 ring-1 ring-blue-200/60 dark:border-blue-400/60 dark:ring-blue-400/40`,medium:m,low:`${m} border border-slate-200/80 dark:border-slate-700`},h={high:"text-slate-900 dark:text-slate-100",medium:"text-slate-900 dark:text-slate-100",low:"text-slate-900 dark:text-slate-100"},y={high:"text-slate-500 dark:text-slate-400 font-semibold",medium:"text-slate-500 dark:text-slate-400",low:"text-slate-500 dark:text-slate-400"},k=u?"grid grid-cols-1 gap-3 md:grid-cols-[1fr_10.5rem] md:items-center":"flex flex-col gap-3",w=()=>{if(!u||c===null)return null;const N=i!==null?i>=r:null,f=N===null?"bg-slate-300 text-slate-600":N?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700",d=N===null?o.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 8 8",fill:"currentColor","aria-hidden":"true",children:o.jsx("circle",{cx:"4",cy:"4",r:"3"})}):N?o.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:o.jsx("path",{d:"M3.5 8.5 6.5 11.5 12.5 4.5"})}):o.jsxs("svg",{className:"h-3 w-3",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[o.jsx("path",{d:"M4 4 12 12"}),o.jsx("path",{d:"M12 4 4 12"})]});return o.jsxs("div",{className:"flex flex-col items-start gap-1 text-xs sm:text-sm md:items-end",children:[o.jsxs("span",{className:`flex items-center gap-1 rounded-full px-2 py-1 font-medium whitespace-nowrap ${f}`,children:[o.jsx("span",{className:"flex h-4 w-4 items-center justify-center rounded-full bg-white/60 p-0.5 text-inherit",children:d}),N===null?"No target":N?"On target":"Below target"]}),o.jsxs("span",{className:"text-slate-500 whitespace-nowrap",children:["Target: ",c]})]})};return o.jsx("section",{"aria-label":`${e} metric`,className:`sm:p-5 transition-all duration-300 min-h-[96px] ${x[l]}`,children:o.jsxs("div",{className:k,children:[o.jsxs("div",{className:"flex flex-col gap-1 text-left",children:[o.jsx("span",{className:`text-xs font-semibold uppercase tracking-wide ${y[l]}`,children:e}),o.jsxs("div",{className:`
              flex flex-wrap items-baseline gap-1
              text-3xl sm:text-4xl font-bold tabular-nums ${h[l]}
            `,children:[o.jsx("span",{children:a}),n?o.jsx("span",{className:"text-base font-medium text-slate-500 sm:text-lg",children:n}):null]})]}),w()]})})},st=.08,Vs=(e,t,n)=>Math.max(t,Math.min(n,e)),zh={minX:0,minY:0,spanX:1,spanY:1},Oh=({route:e,metrics:t,waypoints:n=[],onRouteClick:r,showRouteInfo:s=!1,realCoordinates:l})=>{const i=p.useRef(null),a=p.useId(),u=`${a}-grid`,c=`${a}-routeGradient`,m=`${a}-glow`,x=p.useMemo(()=>l!=null&&l.length?l.map(({lat:v,lng:E})=>[E,v]):e.pts.map(({x:v,y:E})=>[v,E]),[l,e.pts]),h=p.useMemo(()=>{if(!x.length)return zh;const v=x.map(([P])=>P),E=x.map(([,P])=>P),R=Math.min(...v),j=Math.max(...v),M=Math.min(...E),b=Math.max(...E);return{minX:R,minY:M,spanX:Math.max(j-R,1),spanY:Math.max(b-M,1)}},[x]),y=p.useCallback(v=>{const E=h.spanX||1,R=h.spanY||1,j=st+(v.x-h.minX)/E*(1-st*2),M=st+(1-(v.y-h.minY)/R)*(1-st*2);return{x:Vs(j,st,1-st),y:Vs(M,st,1-st)}},[h.minX,h.spanX,h.spanY,h.minY]),k=p.useMemo(()=>x.length?x.map(([v,E])=>{const R=y({x:v,y:E});return`${(R.x*1e3).toFixed(2)},${(R.y*500).toFixed(2)}`}).join(" "):"",[y,x]),w=p.useMemo(()=>{if(e.total>0)return e.total;const v=e.cum.at(-1);return v&&v>0?v:0},[e.cum,e.total]),N=w?t.distance%w/w:0,f=p.useMemo(()=>{if(l!=null&&l.length){if(l.length===1)return l[0];const v=Math.min(l.length-1,Math.floor(N*(l.length-1)));return l[v]}return e.pts.length?Eh(e,N):null},[N,l,e]),d=p.useMemo(()=>f?"lat"in f&&"lng"in f?y({x:f.lng,y:f.lat}):y(f):null,[f,y]),g=p.useMemo(()=>n.length?n.map(v=>y(v)):[],[y,n]);return p.useEffect(()=>{if(!i.current||!r)return;const v=i.current,E=R=>{const j=v.getBoundingClientRect();if(!j.width||!j.height)return;const M=(R.clientX-j.left)/j.width,b=(R.clientY-j.top)/j.height,P=Vs((M-st)/(1-st*2),0,1),S=Vs((b-st)/(1-st*2),0,1),T=h.minX+h.spanX*P,A=h.minY+h.spanY*(1-S);r({x:T,y:A})};return v.addEventListener("click",E),()=>v.removeEventListener("click",E)},[h.minX,h.spanX,h.spanY,h.minY,r]),o.jsxs("div",{className:"relative rounded-3xl border border-glass-border bg-dark-950/40 p-6 shadow-lg shadow-dark-900/20 backdrop-blur-xl",children:[o.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-dark-900/60 via-dark-900/20 to-dark-800/20"}),o.jsxs("div",{className:"relative z-10 flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:e.name??"Virtual Route"}),o.jsxs("p",{className:"text-sm text-dark-400",children:["Distance ridden: ",t.distance.toFixed(1)," km of ",w.toFixed(1)," km"]})]}),o.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-dark-900/60 px-3 py-1 text-xs font-medium text-success-300",children:[o.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-success-400"}),"Live Tracking"]})]}),o.jsx("div",{className:"w-full overflow-hidden rounded-2xl border border-glass-border bg-dark-950/60 shadow-inner",children:o.jsxs("svg",{ref:i,viewBox:"0 0 1000 500",className:"h-full w-full",role:"img","aria-label":"Virtual route map",children:[o.jsxs("defs",{children:[o.jsx("pattern",{id:u,width:"50",height:"50",patternUnits:"userSpaceOnUse",children:o.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"rgba(148, 163, 184, 0.12)",strokeWidth:"1"})}),o.jsxs("linearGradient",{id:c,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#38bdf8",stopOpacity:"0.9"}),o.jsx("stop",{offset:"50%",stopColor:"#34d399",stopOpacity:"0.9"}),o.jsx("stop",{offset:"100%",stopColor:"#fbbf24",stopOpacity:"0.9"})]}),o.jsxs("filter",{id:m,children:[o.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),o.jsx("rect",{x:"0",y:"0",width:"1000",height:"500",fill:`url(#${u})`}),k?o.jsxs(o.Fragment,{children:[o.jsx("polyline",{fill:"none",stroke:"rgba(56, 189, 248, 0.3)",strokeWidth:"10",points:k,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("polyline",{fill:"none",stroke:`url(#${c})`,strokeWidth:"5",points:k,strokeLinecap:"round",strokeLinejoin:"round",filter:`url(#${m})`})]}):null,g.map((v,E)=>o.jsxs("g",{children:[o.jsx("circle",{cx:v.x*1e3,cy:v.y*500,r:10,fill:"#ef4444",stroke:"#fff",strokeWidth:2,filter:`url(#${m})`}),o.jsx("circle",{cx:v.x*1e3,cy:v.y*500,r:16,fill:"none",stroke:"#ef4444",strokeWidth:1.5,opacity:.5,className:"animate-pulse"})]},`waypoint-${E}`)),d?o.jsxs("g",{children:[o.jsx("circle",{cx:d.x*1e3,cy:d.y*500,r:18,fill:"#fbbf24",opacity:.25,className:"animate-pulse"}),o.jsx("circle",{cx:d.x*1e3,cy:d.y*500,r:10,fill:"#f59e0b",stroke:"#fff",strokeWidth:2,filter:`url(#${m})`}),o.jsx("circle",{cx:d.x*1e3,cy:d.y*500,r:14,fill:"none",stroke:"#fbbf24",strokeWidth:1.5,className:"animate-pulse"})]}):null]})}),s&&o.jsxs("div",{className:"mt-4 p-4 bg-dark-800/50 border border-dark-700 rounded-xl",children:[o.jsx("h4",{className:"text-sm font-medium text-dark-300 mb-2",children:"Route Information"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-dark-500",children:"Points:"}),o.jsx("span",{className:"ml-2 text-dark-300",children:e.pts.length})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-dark-500",children:"Distance:"}),o.jsx("span",{className:"ml-2 text-dark-300",children:e.total.toFixed(2)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-dark-500",children:"Elevation:"}),o.jsx("span",{className:"ml-2 text-dark-300",children:e.pts.some(v=>v.elevation!==void 0)?"Yes":"No"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-dark-500",children:"Name:"}),o.jsx("span",{className:"ml-2 text-dark-300",children:e.name||"Default Route"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 text-center sm:grid-cols-3",children:[o.jsxs("div",{className:"rounded-2xl border border-glass-border bg-dark-900/50 p-4",children:[o.jsx("p",{className:"text-xs uppercase tracking-widest text-dark-500",children:"Distance"}),o.jsxs("p",{className:"text-xl font-semibold text-dark-100",children:[t.distance.toFixed(2)," km"]})]}),o.jsxs("div",{className:"rounded-2xl border border-glass-border bg-dark-900/50 p-4",children:[o.jsx("p",{className:"text-xs uppercase tracking-widest text-dark-500",children:"Loop Progress"}),o.jsxs("p",{className:"text-xl font-semibold text-dark-100",children:[(N*100).toFixed(0),"%"]})]}),o.jsxs("div",{className:"rounded-2xl border border-glass-border bg-dark-900/50 p-4",children:[o.jsx("p",{className:"text-xs uppercase tracking-widest text-dark-500",children:"Waypoints"}),o.jsx("p",{className:"text-xl font-semibold text-dark-100",children:n.length})]})]})]})]})},Uh="https://esm.sh/maplibre-gl@3.7.0",$h="https://unpkg.com/maplibre-gl@3.7.0/dist/maplibre-gl.css",Ku="mapbox/streets-v12",Vh="mapbox/traffic-day-v2",Bs="route-line-source",Qu="route-line-layer",Fo="3d-buildings-layer",Hs="mapbox-dem",Bh=typeof window<"u",Yu={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},Zu=[-122.4194,37.7749],qu=11,Dr=(e,t)=>{if(!e.startsWith("mapbox://"))return e;const n=e.replace("mapbox://","");if(n.startsWith("styles/"))return`https://api.mapbox.com/styles/v1/${n.replace("styles/","")}?access_token=${t}`;if(n.startsWith("sprites/")){const m=n.replace("sprites/","").split("/"),x=m.pop();if(!x)return e;const h=x.match(/([^@]+)(@[^.]*)?\.(png|json)$/);if(!h)return e;const[,y,k="",w]=h,N=m.join("/");return`https://api.mapbox.com/styles/v1/${N?`${N}/${y}`:y}/sprite${k}.${w}?access_token=${t}`}if(n.startsWith("glyphs/"))return`https://api.mapbox.com/fonts/v1/${n.replace("glyphs/","")}?access_token=${t}`;const[r,s=""]=n.split("?"),i=!r.endsWith(".json")&&!r.endsWith(".pbf")?`${r}.json`:r,a=new URLSearchParams(s);a.has("secure")||a.set("secure","1"),a.set("access_token",t);const u=a.toString();return`https://api.mapbox.com/v4/${i}${u?`?${u}`:""}`},Hh=()=>{if(typeof document>"u"||document.getElementById("maplibre-gl-css"))return;const e=document.createElement("link");e.id="maplibre-gl-css",e.rel="stylesheet",e.href=$h,document.head.appendChild(e)},Wh=({accessToken:e,route:t,options:n})=>{const r=p.useRef(null),s=p.useRef(null),l=p.useRef(),[i,a]=p.useState(!1),[u,c]=p.useState(!1),m=p.useRef(!1),x=p.useRef(""),h=p.useRef(null),y=p.useRef();if(!y.current){const j=t.pts[0];y.current={center:j?[j.x,j.y]:Zu,zoom:j?qu:2}}const k=p.useMemo(()=>t.pts.length?{type:"Feature",properties:t.name?{name:t.name}:{},geometry:{type:"LineString",coordinates:t.pts.map(j=>[j.x,j.y])}}:null,[t]),w=p.useCallback(()=>{const j=s.current;if(!j||!j.isStyleLoaded())return;j.getSource(Bs)||j.addSource(Bs,{type:"geojson",data:k??Yu});const M=j.getSource(Bs);M==null||M.setData(k??Yu),j.getLayer(Qu)||j.addLayer({id:Qu,type:"line",source:Bs,layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":3,"line-color":"#38bdf8"}})},[k]),N=p.useCallback(j=>{var P,S;const M=s.current;if(!M||!M.isStyleLoaded())return;const b=M.getLayer(Fo);if(j){if(b)return;const A=(S=(((P=M.getStyle())==null?void 0:P.layers)??[]).find(z=>{if(z.type!=="symbol")return!1;const V=z.layout;return!!(V&&"text-field"in V&&V["text-field"])}))==null?void 0:S.id;M.addLayer({id:Fo,source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["get","height"],"fill-extrusion-base":["get","min_height"],"fill-extrusion-opacity":.6}},A);return}b&&M.removeLayer(Fo)},[]),f=p.useCallback(j=>{const M=s.current;if(!M||!M.isStyleLoaded())return;const b=!!M.getSource(Hs);if(j){b||M.addSource(Hs,{type:"raster-dem",url:Dr("mapbox://mapbox.terrain-rgb",e),tileSize:512,maxzoom:14}),M.setTerrain({source:Hs,exaggeration:1});return}M.setTerrain(null),b&&M.removeSource(Hs)},[e]),d=p.useCallback(()=>{const j=s.current,M=l.current;if(!j||!j.isStyleLoaded()||!k||!M)return;const b=k.geometry.coordinates;if(!b.length)return;if(b.length===1){j.easeTo({center:b[0],zoom:14,duration:0}),m.current=!0;return}const P=b.reduce((S,T)=>S?S.extend(T):new M.LngLatBounds(T,T),null);P&&(j.fitBounds(P,{padding:48,maxZoom:16,duration:800}),m.current=!0)},[k]),g=p.useCallback(()=>{const j=s.current;if(!j)return;const M=n.show3D?60:0;j.easeTo({pitch:M,duration:600})},[n.show3D]),v=p.useCallback(()=>{w(),f(n.show3D),N(n.showBuildings||n.show3D)},[w,f,N,n.show3D,n.showBuildings]);p.useEffect(()=>{if(!Bh)return;let j=!1;return(async()=>{try{Hh();const b=await import(Uh);if(j)return;const P=b.default??b;l.current=P,c(!0)}catch(b){console.error("[MapboxDisplay] Failed to load maplibre-gl",b)}})(),()=>{j=!0}},[]),p.useEffect(()=>{if(!u)return;const j=l.current,M=r.current;if(!j||!M||s.current)return;const{center:b,zoom:P}=y.current??{center:Zu,zoom:qu},S=Dr(`mapbox://styles/${Ku}`,e),T=new j.Map({container:M,style:S,center:b,zoom:P,antialias:!0,transformRequest:V=>{if(V.startsWith("mapbox://"))return{url:Dr(V,e)};if(V.startsWith("https://api.mapbox.com")&&!V.includes("access_token=")){const C=V.includes("?")?"&":"?";return{url:`${V}${C}access_token=${e}`}}return{url:V}}});s.current=T,x.current=S;const A=()=>{a(!0)};T.once("load",A);const z=()=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{T.resize()},150)};return window.addEventListener("resize",z),()=>{window.removeEventListener("resize",z),h.current&&clearTimeout(h.current),T.remove(),s.current=null,a(!1)}},[e,u]),p.useEffect(()=>{const j=s.current;if(!j)return;const M=()=>{v(),m.current||d(),g()};return j.on("style.load",M),()=>{j.off("style.load",M)}},[v,d,g]),p.useEffect(()=>{var j;i&&(v(),m.current||d(),g(),(j=s.current)==null||j.resize())},[i,v,d,g]),p.useEffect(()=>{m.current=!1},[t.name,t.pts.length]),p.useEffect(()=>{i&&(m.current||d())},[i,k,d]);const E=p.useMemo(()=>Dr(`mapbox://styles/${Ku}`,e),[e]),R=p.useMemo(()=>Dr(`mapbox://styles/${Vh}`,e),[e]);return p.useEffect(()=>{if(!i)return;const j=s.current;if(!j)return;const M=n.showTraffic?R:E;x.current!==M&&(x.current=M,j.setStyle(M))},[i,n.showTraffic,E,R]),o.jsx("div",{ref:r,className:"h-full w-full"})};class sr{constructor(t){this.mapsLoaded=!1,this.apiKey=t.apiKey,this.mapId=t.mapId}static getInstance(t){if(!sr.instance){if(!t)throw new Error("GoogleMapsManager requires config on first instantiation");sr.instance=new sr(t)}return sr.instance}async loadGoogleMaps(){if(!this.mapsLoaded)return new Promise((t,n)=>{const r=window.gm_authFailure,s=()=>{window.gm_authFailure===i&&(r?window.gm_authFailure=r:delete window.gm_authFailure)},l=c=>{s(),n(new Error(c))},i=()=>{r==null||r();const c=window.location.origin,m=window.location.pathname.replace(/[^/]*$/,""),x=`${c}${m}*`;l(`Google Maps authentication failed. Please verify that "${c}" or "${x}" is included in your API key restrictions.`)};if(window.google&&window.google.maps){s(),this.mapsLoaded=!0,t();return}const a=document.createElement("script");a.async=!0,a.defer=!0;const u=new URLSearchParams({key:this.apiKey,libraries:"geometry",callback:"initGoogleMaps",loading:"async",v:"weekly"});this.mapId&&u.append("map_id",this.mapId),a.src=`https://maps.googleapis.com/maps/api/js?${u.toString()}`,window.initGoogleMaps=()=>{this.mapsLoaded=!0,s(),t()},window.gm_authFailure=i,a.onerror=()=>{l("Failed to load Google Maps API")},document.head.appendChild(a)})}isLoaded(){return this.mapsLoaded}geocodeAddress(t){return new Promise((n,r)=>{if(!this.mapsLoaded){r(new Error("Google Maps not loaded"));return}new google.maps.Geocoder().geocode({address:t},(l,i)=>{i===google.maps.GeocoderStatus.OK&&l[0]?n(l[0].geometry.location):r(new Error(`Geocoding failed: ${i}`))})})}reverseGeocode(t){return new Promise((n,r)=>{if(!this.mapsLoaded){r(new Error("Google Maps not loaded"));return}new google.maps.Geocoder().geocode({location:t},(l,i)=>{i===google.maps.GeocoderStatus.OK&&l[0]?n(l[0].formatted_address):r(new Error(`Reverse geocoding failed: ${i}`))})})}calculateDistance(t,n){if(!this.mapsLoaded)throw new Error("Google Maps not loaded");return google.maps.geometry.spherical.computeDistanceBetween(t,n)}interpolateAlongPath(t,n){if(!this.mapsLoaded)throw new Error("Google Maps not loaded");return google.maps.geometry.spherical.interpolate(t[0],t[t.length-1],n)}}const xe={streetViewUpdateMs:2e3,streetViewPointsPerStep:3,hudPosition:"top-left",streetViewPanMs:0,streetViewMinStepMs:800,streetViewMetersPerStep:15},_l=500,Rl=1e4,Zl=1,bn=0,Gh=1500,ms=200,Tl=800,Ll=0,Il=5e3,se={updateMs:"streetViewUpdateMs",usePointStep:"streetViewUsePointStep",pointsPerStep:"streetViewPointsPerStep",hudPosition:"hudPosition",panMs:"streetViewPanMs",minStepMs:"streetViewMinStepMs",lockForwardHeading:"streetViewLockForwardHeading",usePowerToDriveSpeed:"usePowerToDriveSpeed",streetViewMetersPerStep:"streetViewMetersPerStep",headingMode:"streetViewHeadingMode",reverseRoute:"streetViewReverseRoute"},sl=(e,t,n)=>Number.isFinite(e)?Math.min(n,Math.max(t,Math.trunc(e))):t,Xh=e=>e==="1",Ao=(e,t,n,r)=>{if(e===null||e==="")return t;const s=Number(e);return Number.isFinite(s)?sl(s,n,r):t},Kh=(e,t)=>{if(e===null||e==="")return t;const n=Number(e);return Number.isFinite(n)?Math.max(Zl,Math.trunc(n)):t},ue=()=>{if(typeof window>"u")return null;try{return window.localStorage}catch{return null}},_a=()=>{const[e,t]=p.useState(()=>{const C=ue();return Ao((C==null?void 0:C.getItem(se.updateMs))??null,xe.streetViewUpdateMs,_l,Rl)}),[n,r]=p.useState(()=>{const C=ue();return Xh((C==null?void 0:C.getItem(se.usePointStep))??null)}),[s,l]=p.useState(()=>{const C=ue();return Kh((C==null?void 0:C.getItem(se.pointsPerStep))??null,xe.streetViewPointsPerStep)}),[i,a]=p.useState(()=>{const C=ue(),O=(C==null?void 0:C.getItem(se.hudPosition))??xe.hudPosition;return O==="top-left"||O==="top-right"||O==="bottom-left"||O==="bottom-right"?O:xe.hudPosition}),[u,c]=p.useState(()=>{const C=ue(),O=Ao((C==null?void 0:C.getItem(se.panMs))??null,xe.streetViewPanMs,bn,Tl);return O<=0?0:Math.max(ms,O)}),[m,x]=p.useState(()=>{const C=ue();return Ao((C==null?void 0:C.getItem(se.minStepMs))??null,xe.streetViewMinStepMs,Ll,Il)}),[h,y]=p.useState(()=>{const C=ue();return(C==null?void 0:C.getItem(se.lockForwardHeading))!=="false"}),[k,w]=p.useState(()=>{const C=ue();return(C==null?void 0:C.getItem(se.usePowerToDriveSpeed))!=="false"}),[N,f]=p.useState(()=>{const C=ue(),O=(C==null?void 0:C.getItem(se.streetViewMetersPerStep))??null,_=O?Number(O):xe.streetViewMetersPerStep;if(!Number.isFinite(_))return xe.streetViewMetersPerStep;const F=Math.trunc(_);return Math.max(3,Math.min(50,F))}),[d,g]=p.useState(()=>{const C=ue();return(C==null?void 0:C.getItem(se.headingMode))==="fixed"?"fixed":"forward"}),[v,E]=p.useState(()=>{const C=ue();return(C==null?void 0:C.getItem(se.reverseRoute))==="true"});p.useEffect(()=>{const C=ue();if(C)try{C.setItem(se.updateMs,String(e))}catch{}},[e]),p.useEffect(()=>{const C=ue();if(C)try{n?C.setItem(se.usePointStep,"1"):C.removeItem(se.usePointStep)}catch{}},[n]),p.useEffect(()=>{const C=ue();if(C)try{C.setItem(se.pointsPerStep,String(s))}catch{}},[s]),p.useEffect(()=>{const C=ue();if(C)try{C.setItem(se.hudPosition,i)}catch{}},[i]),p.useEffect(()=>{const C=ue();if(C)try{C.setItem(se.panMs,String(u))}catch{}},[u]),p.useEffect(()=>{const C=ue();if(C)try{C.setItem(se.minStepMs,String(m))}catch{}},[m]),p.useEffect(()=>{const C=ue();if(C)try{C.setItem(se.lockForwardHeading,String(h))}catch{}},[h]),p.useEffect(()=>{const C=ue();if(C)try{C.setItem(se.usePowerToDriveSpeed,String(k))}catch{}},[k]),p.useEffect(()=>{const C=ue();if(C)try{C.setItem(se.streetViewMetersPerStep,String(N))}catch{}},[N]),p.useEffect(()=>{const C=ue();if(C)try{C.setItem(se.headingMode,d)}catch{}},[d]),p.useEffect(()=>{const C=ue();if(C)try{C.setItem(se.reverseRoute,String(v))}catch{}},[v]);const R=p.useCallback(C=>{t(O=>{const _=typeof O=="number"?O:xe.streetViewUpdateMs,F=Number.isFinite(C)?C:_;return sl(F,_l,Rl)})},[]),j=p.useCallback(C=>{r(!!C)},[]),M=p.useCallback(C=>{l(O=>{const _=typeof O=="number"?O:xe.streetViewPointsPerStep,F=Number.isFinite(C)?C:_;return Math.max(Zl,Math.trunc(F))})},[]),b=p.useCallback(C=>{a(C)},[]),P=p.useCallback(C=>{c(O=>{const _=typeof O=="number"?O:xe.streetViewPanMs,F=Number.isFinite(C)?Math.trunc(C):_;return F<=0?0:sl(Math.max(ms,F),bn,Tl)})},[]),S=p.useCallback(C=>{x(O=>{const _=typeof O=="number"?O:xe.streetViewMinStepMs,F=Number.isFinite(C)?C:_;return sl(F,Ll,Il)})},[]),T=p.useCallback(C=>{w(!!C)},[]),A=p.useCallback(C=>{f(O=>{const _=typeof O=="number"?O:xe.streetViewMetersPerStep,F=Number.isFinite(C)?Math.trunc(C):_;return Math.max(3,Math.min(50,F))})},[]),z=p.useCallback(C=>{g(C==="fixed"?"fixed":"forward")},[]),V=p.useCallback(C=>{E(!!C)},[]);return{streetViewUpdateMs:e,setStreetViewUpdateMs:R,usePointStep:n,setUsePointStep:j,streetViewPointsPerStep:s,setStreetViewPointsPerStep:M,hudPosition:i,setHudPosition:b,streetViewPanMs:u,setStreetViewPanMs:P,streetViewMinStepMs:m,setStreetViewMinStepMs:S,lockForwardHeading:h,setLockForwardHeading:y,usePowerToDriveSpeed:k,setUsePowerToDriveSpeed:T,streetViewMetersPerStep:N,setStreetViewMetersPerStep:A,headingMode:d,setHeadingMode:z,reverseRoute:v,setReverseRoute:V}},Fr=2,Ju=1,ec=20,Qh=.25,Ve=e=>{let t=e%360;return t<0&&(t+=360),t},zo=e=>e*Math.PI/180,Yh=e=>e*180/Math.PI,tc=(e,t)=>{var c,m;const n=(m=(c=google==null?void 0:google.maps)==null?void 0:c.geometry)==null?void 0:m.spherical;if(n!=null&&n.computeHeading){const x=n.computeHeading(e,t);return Ve(x)}const r=zo(e.lat),s=zo(t.lat),l=zo(t.lng-e.lng),i=Math.sin(l)*Math.cos(s),a=Math.cos(r)*Math.sin(s)-Math.sin(r)*Math.cos(s)*Math.cos(l),u=Yh(Math.atan2(i,a));return Ve(u)},Nn=(e,t)=>{const n=Ve(e);let s=Ve(t)-n;return s>180&&(s-=360),s<-180&&(s+=360),s},nc=(e,t,n,r,s,l)=>{if(!e||e.length===0)return null;const i=l.filter(Boolean),a=e.filter(c=>!c||!c.pano||c.pano===s?!1:!i.includes(c.pano));if(a.length===0)return null;let u=null;for(const c of a){const m=Ve(c.heading??0),x=Math.abs(Nn(t,m)),h=x>120?30:0,y=.7*x+h;(!u||y<u.score)&&(u={link:c,score:y})}return u?u.link:null},Zh=e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,qh=1e3/30,Jh=({route:e,distance:t,routeTotal:n,isRiding:r,apiKey:s,onLocationUpdate:l,onError:i})=>{const[a,u]=p.useState(!1),[c,m]=p.useState(null),[x,h]=p.useState(""),[y,k]=p.useState(0),w=p.useRef(null),N=p.useRef(null),f=p.useRef(-1),d=p.useRef(0),g=p.useRef(0),v=p.useRef(0),E=p.useRef(null),R=p.useRef([]),j=p.useRef(0),M=p.useRef(!1),b=p.useRef(null),P=p.useRef(!1),S=p.useRef(null),T=p.useRef(0),A=p.useRef(0),z=p.useRef(0),V=p.useRef(0),C=p.useRef(0),O=p.useRef(0),_=p.useRef(null),F=p.useRef(0),I=p.useRef(0),U=p.useRef(null),{usePointStep:H,streetViewPointsPerStep:ne,streetViewPanMs:ae,streetViewMinStepMs:Ne,lockForwardHeading:Y,streetViewMetersPerStep:ge,headingMode:Le,reverseRoute:de}=_a(),K=p.useMemo(()=>e.pts.filter(B=>typeof B.lat=="number"&&(typeof B.lon=="number"||typeof B.lng=="number")).map(B=>({lat:B.lat,lng:B.lon??B.lng})),[e.pts]),Wt=p.useMemo(()=>{const B=n>0?n:e.total,Ke=Math.max(1,B||1),je=(t%Ke+Ke)%Ke,fe=B>0?je/Ke:0;return{fraction:fe,percent:Math.round(fe*100)}},[t,e.total,n]);p.useEffect(()=>{if(n>0){P.current=!1;return}P.current||(console.warn("StreetViewDisplay: route.total is zero or missing. Street View progress may be inaccurate."),P.current=!0)},[n]),p.useEffect(()=>{if(!s){u(!1),m(null),h(""),b.current=null,N.current=null;return}let B=!1;return u(!0),m(null),(async()=>{try{const je=sr.getInstance({apiKey:s});b.current=je,await je.loadGoogleMaps(),B||u(!1)}catch(je){if(B)return;const fe=je instanceof Error?je.message:"Failed to load Google Maps";m(fe),u(!1),i==null||i(fe)}})(),()=>{B=!0}},[s,y,i]),p.useEffect(()=>{f.current=-1,d.current=0,_.current=null,v.current=0,E.current=null,R.current=[],M.current=!1,g.current=0,K.length<Fr&&h("")},[K]),p.useEffect(()=>{d.current=Math.max(0,d.current),_.current=null,v.current=0},[H,ne]),p.useEffect(()=>{g.current=0,v.current=0},[ge,H]),p.useEffect(()=>{g.current=0,j.current=Number.isFinite(t)?t:0,v.current=0},[K]),p.useEffect(()=>{U.current=null},[K,Le,de]),p.useEffect(()=>{if(K.length<Fr||!w.current)return;const B=b.current;if(!(B!=null&&B.isLoaded()))return;const je=Array.isArray(e.headings)&&e.headings.length===K.length?e.headings[0]:K.length>1?tc(K[0],K[1]):0,fe=de?Ve(360-je):je;_.current=fe,Le==="fixed"&&(U.current=fe),F.current=fe,I.current=0,N.current?(N.current.setPosition(K[0]),N.current.setPov({heading:fe,pitch:0})):N.current=new google.maps.StreetViewPanorama(w.current,{position:K[0],pov:{heading:fe,pitch:0},zoom:1,visible:!0,addressControl:!1,linksControl:!1,panControl:!1,zoomControl:!1,fullscreenControl:!1,motionTracking:!1,motionTrackingControl:!1});const Ie=N.current;M.current=!0,d.current=0,g.current=0;const hn=typeof performance<"u"?performance.now():Date.now();v.current=hn,R.current=[];const Et=Ie!=null&&Ie.getPano?Ie.getPano():null;E.current=Et??null;const dt=[];let Me=null;if(Ie){const Oe=()=>{S.current!=null&&(cancelAnimationFrame(S.current),S.current=null)},ft=fe,Ue=Ie,Lt=Ue.getLinks?Ue.getLinks():void 0,Pt=nc(Lt,ft,K[0].lat,K[0].lng,E.current,R.current);if((Pt==null?void 0:Pt.heading)!=null){const tt=Ve(Pt.heading);Ue.setPov({heading:tt,pitch:0,zoom:1}),_.current=tt,F.current=tt,I.current=0}const $e=()=>{const tt=Ue.getLinks?Ue.getLinks():void 0,mt=nc(tt,ft,K[0].lat,K[0].lng,E.current,R.current);if((mt==null?void 0:mt.heading)!=null){const ht=Ve(mt.heading);Oe(),Ue.setPov({heading:ht,pitch:0,zoom:1}),_.current=ht,F.current=ht,I.current=0}},pt=Ue.addListener("links_changed",$e);dt.push(pt),Me=setTimeout($e,0);const Gt=()=>{if(!Y)return;const tt=F.current,mt=I.current,ht=Ie.getPov?Ie.getPov():void 0;(ht?Math.abs(Nn(ht.heading??0,tt)):999)>2&&(Oe(),Ie.setPov({heading:tt,pitch:mt,zoom:1}))};dt.push(Ie.addListener("pano_changed",Gt)),dt.push(Ie.addListener("position_changed",Gt)),Y&&Gt()}return()=>{for(Me!=null&&clearTimeout(Me);dt.length;){const Oe=dt.pop();Oe==null||Oe.remove()}}},[s,Le,a,Y,de,e.headings,K]),p.useEffect(()=>{const B=N.current;if(!B)return;const Ke=K.length;if(Ke<Fr){B.setVisible(!1);return}if(B.setVisible(!0),!M.current)return;const je=Number.isFinite(t)?t:0,fe=j.current??je;!H&&je+1e-6<fe&&(d.current=0,g.current=0,v.current=0,R.current=[],_.current=null,U.current=null);const Ie=Math.max(0,je-fe);j.current=je,H||(g.current+=Ie*1e3);const hn=Math.max(1,Ke-1),Et=Math.floor(Wt.fraction*hn),dt=Math.max(0,Math.min(hn,Et)),Me=d.current,Oe=Math.min(hn,Math.max(Me+1,dt)),ft=typeof performance<"u"?performance.now():Date.now();Me===0&&v.current===0&&(v.current=ft);const Ue=ft-v.current;let Lt=Me,Pt=!1;if(H){const we=Math.max(1,ne);Oe>Me&&Oe-Me>=we&&Ue>=Ne&&(Lt=Oe,Pt=!0)}else{const we=Math.max(3,Math.min(50,ge??15));Oe>Me&&g.current>=we&&Ue>=Ne&&(Lt=Oe,Pt=!0)}if(!Pt)return;g.current=0,v.current=ft;const $e=Lt,pt=K[$e];if(!pt)return;B.setPosition(pt);const Gt=Math.min(Ke-1,$e+Ju),tt=Gt!==$e?Gt:Math.max(0,$e-Ju),mt=K[tt]??pt,ht=Array.isArray(e.headings)&&e.headings.length===Ke,zn=we=>{const Un=Ve(we);return de?Ve(360-Un):Un};let It,kr=!0;if(ht)It=e.headings[$e];else if(mt===pt){const we=B.getPov?B.getPov():void 0;It=(we==null?void 0:we.heading)??_.current??0,kr=!1}else It=tc(pt,mt);const Nr=kr?zn(It):Ve(It),gn=_.current??Nr,ql=Nn(gn,Nr),Jl=Math.max(-ec,Math.min(ec,ql)),Ss=Ve(gn+Jl);let xn=Ve(gn+Qh*Nn(gn,Ss));Le==="fixed"?U.current==null&&(U.current=xn):U.current=null;let gt=Le==="fixed"?U.current??xn:xn;const nt=0;_.current=xn,Le==="fixed"&&(gt=U.current??gt);const On=gt,jr=E.current,Xt=B.getPov?B.getPov():void 0,to=(Xt==null?void 0:Xt.heading)??On,no=Math.abs(Nn(to,On)),ro=(Xt==null?void 0:Xt.pitch)??nt,D=Math.abs(ro-nt),W=typeof B.getZoom=="function"?B.getZoom():void 0;(W==null||!Number.isFinite(W)||Math.abs(W-1)>.001)&&B.setZoom(1);const Z=B.getPano?B.getPano():null,J=Z!=null&&Z!==jr;F.current=On,I.current=nt;const pe=()=>{S.current!=null&&(cancelAnimationFrame(S.current),S.current=null)},xt=Number.isFinite(ae)?Math.min(Gh,Math.max(bn,Math.trunc(ae??0))):0,Ct=Le==="fixed"?0:xt,vn=Ct<=bn?0:Math.max(ms,Ct),yn=J?0:vn;if(!(no>=.1||D>=.1))pe();else if(yn<=bn)pe(),B.setPov({heading:On,pitch:nt,zoom:1});else{const we=B.getPov?B.getPov():{heading:gt,pitch:nt},Un=Math.abs(Nn(we.heading??gt,gt)),$n=Math.abs((we.pitch??nt)-nt);if(Un<.01&&$n<.01)B.setPov({heading:gt,pitch:nt,zoom:1});else{pe(),T.current=ft,O.current=0,A.current=we.heading??gt,z.current=we.pitch??nt,V.current=gt,C.current=nt;const Ra=yn,lo=oo=>{const Ta=N.current;if(!Ta){S.current=null;return}if(O.current&&oo-O.current<qh){S.current=requestAnimationFrame(lo);return}O.current=oo;const _f=oo-T.current,La=Ra>0?Math.min(1,_f/Ra):1,Ia=Zh(La),Rf=Nn(A.current,V.current),Tf=Ve(A.current+Rf*Ia),Lf=z.current+(C.current-z.current)*Ia;Ta.setPov({heading:Tf,pitch:Lf}),La<1?S.current=requestAnimationFrame(lo):S.current=null};S.current=requestAnimationFrame(lo)}}J&&(jr&&(R.current.length>2&&R.current.shift(),R.current.push(jr)),E.current=Z??null),d.current=$e;const ks=b.current;if(ks!=null&&ks.isLoaded()&&f.current!==$e){f.current=$e;let we=!1;const Un=new google.maps.LatLng(pt.lat,pt.lng);return ks.reverseGeocode(Un).then($n=>{we||(h($n),l==null||l($n))}).catch($n=>{we||console.warn("Failed to get location name:",$n)}),()=>{we=!0}}},[t,Le,l,Wt.fraction,de,e.headings,K,ae,ne,ge,Ne,H]),p.useEffect(()=>()=>{S.current!=null&&(cancelAnimationFrame(S.current),S.current=null)},[]);const An=p.useCallback(()=>{s&&(m(null),k(B=>B+1))},[s]),Sr=!s,ws=K.length<Fr;return o.jsxs("div",{className:"glass-card p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-dark-200",children:"Street View"}),x&&o.jsx("div",{className:"text-sm text-dark-400 max-w-xs truncate",children:x})]}),o.jsxs("div",{className:"relative w-full aspect-video bg-dark-900 rounded-xl overflow-hidden",children:[a&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-900/80 z-10",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"loading-spinner mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-dark-400",children:"Loading Street View..."})]})}),c&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-900/80 z-20",children:o.jsxs("div",{className:"text-center p-4 max-w-md",children:[o.jsx("div",{className:"text-danger-400 mb-2",children:o.jsx("svg",{className:"w-8 h-8 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("p",{className:"text-sm text-dark-400",children:c}),o.jsx("button",{type:"button",onClick:An,className:"mt-4 rounded-lg bg-primary-500 px-4 py-2 text-sm font-medium text-white transition hover:bg-primary-400 focus:outline-none focus-visible:ring-2",children:"Try Again"})]})}),Sr&&!c&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-900/80 z-20 px-6 text-center",children:o.jsx("p",{className:"text-sm text-dark-300",children:"Add your Google Maps API key in Settings to enable Street View."})}),!Sr&&ws&&!c&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-900/80 z-20 px-6 text-center",children:o.jsx("p",{className:"text-sm text-dark-300",children:"Street View needs GPX points with latitude/longitude."})}),o.jsx("div",{ref:w,className:"w-full h-full",style:{display:Sr||ws||c?"none":"block"}})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-success-400 animate-pulse":"bg-dark-600"}`}),o.jsx("span",{className:"text-dark-400",children:r?"Riding":"Paused"})]}),o.jsxs("div",{className:"text-dark-400",children:["Position:",K.length>=Fr?` ${Wt.percent}%`:" --"]})]})]})},rc=e=>e?e.intervals.reduce((t,n)=>t+Math.max(n.duration,0),0):0,e0=(e,t)=>Number.isNaN(e)||e<0?0:Math.min(e,Math.max(t-1,0)),Hn=e=>{const t=Number.isFinite(e)&&e>0?e:0,n=Math.floor(t/60),r=Math.floor(t%60);return`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},t0=({workouts:e,activeWorkoutId:t=null,currentIntervalIndex:n=0,overallElapsedSeconds:r=0,intervalElapsedSeconds:s=0,targetMetrics:l,onStartWorkout:i})=>{const a=e.find(N=>N.id===t)??null,u=rc(a),c=a?e0(n,a.intervals.length):0,m=(a==null?void 0:a.intervals[c])??null,x=(m==null?void 0:m.duration)??0,h=Math.max(x-s,0),y=u>0?Math.min(Math.max(r/u,0),1):0,k=x>0?Math.min(Math.max(s/x,0),1):0,w=$r.useMemo(()=>l&&l.length>0?l:m?[{label:"Target Power",value:m.targetPower,unit:"W"}]:[],[m,l]);return o.jsxs("section",{className:"flex flex-col gap-6 rounded-2xl border border-slate-200 bg-white/70 p-6 shadow-sm backdrop-blur","aria-label":"Workout management panel",children:[o.jsxs("header",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Workout"}),a?o.jsx("span",{className:"rounded-full bg-sky-100 px-3 py-1 text-xs font-medium uppercase tracking-wide text-sky-700",children:"Active"}):o.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Idle"})]}),a?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[o.jsx("span",{className:"font-medium text-slate-800",children:a.name}),o.jsxs("span",{children:[Math.round(y*100),"%"]})]}),o.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200",children:o.jsx("div",{className:"h-full rounded-full bg-sky-500 transition-all",style:{width:`${y*100}%`},role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(y*100),"aria-label":"Overall workout progress"})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[o.jsx("span",{children:Hn(r)}),o.jsx("span",{children:Hn(u)})]})]}):o.jsx("p",{className:"text-sm text-slate-500",children:"Choose a workout from the list to begin your training session."})]}),o.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[o.jsxs("section",{className:"flex flex-col gap-4 rounded-xl border border-slate-200 bg-white/90 p-4 shadow-sm","aria-label":"Workout interval timer",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Interval Timer"}),a&&m?o.jsxs("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:["Interval ",c+1," of ",a.intervals.length]}):null]}),a&&m?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-baseline justify-between text-sm text-slate-600",children:[o.jsx("span",{children:"Elapsed"}),o.jsx("span",{children:Hn(s)})]}),o.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200",children:o.jsx("div",{className:"h-full rounded-full bg-emerald-500 transition-all",style:{width:`${k*100}%`},role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(k*100),"aria-label":"Interval progress"})}),o.jsxs("div",{className:"flex items-baseline justify-between text-sm text-slate-600",children:[o.jsx("span",{children:"Remaining"}),o.jsx("span",{children:Hn(h)})]})]}):o.jsx("p",{className:"text-sm text-slate-500",children:"Start a workout to see live interval timing updates."})]}),o.jsxs("section",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white/90 p-4 shadow-sm","aria-label":"Target metrics",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Target Metrics"}),a&&m?o.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Current Interval"}):null]}),w.length>0?o.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:w.map(N=>o.jsx(kn,{label:N.label,value:N.value,unit:N.unit,precision:N.precision},N.label))}):o.jsx("p",{className:"text-sm text-slate-500",children:"No target metrics available."})]})]}),o.jsxs("section",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white/90 p-4 shadow-sm","aria-label":"Workout list",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Available Workouts"}),e.length>0?o.jsx("ul",{className:"flex flex-col gap-3",children:e.map(N=>{const f=rc(N),d=(a==null?void 0:a.id)===N.id;return o.jsxs("li",{className:`flex flex-col gap-3 rounded-lg border p-4 transition-colors ${d?"border-sky-300 bg-sky-50/60":"border-transparent bg-white"}`,children:[o.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-base font-semibold text-slate-900",children:N.name}),o.jsxs("span",{className:"text-xs uppercase tracking-wide text-slate-500",children:[N.intervals.length," intervals · ",Hn(f)]})]}),o.jsx("button",{type:"button",onClick:()=>i==null?void 0:i(N.id),className:`inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-semibold transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-500 ${d?"bg-slate-200 text-slate-600":"bg-sky-600 text-white hover:bg-sky-500"}`,disabled:d,children:d?"In Progress":"Start"})]}),o.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:N.intervals.map((g,v)=>o.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-100 px-3 py-2 text-xs font-medium text-slate-600",children:[o.jsxs("span",{children:["Interval ",v+1]}),o.jsxs("span",{children:[Hn(g.duration)," · ",g.targetPower," W"]})]},`${N.id}-interval-${v}`))})]},N.id)})}):o.jsx("p",{className:"text-sm text-slate-500",children:"No workouts available."})]})]})},n0=e=>e?new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}).format(e):"Never",r0=({environment:e,connectedDevices:t=[],isScanning:n=!1,lastScanAt:r=null,errorMessage:s=null})=>{const l=[{label:"Bluetooth Supported",value:e.supportsBluetooth?"Yes":"No"},{label:"Bluetooth Available",value:e.bluetoothAvailable?"Available":"Unavailable"},{label:"Bluetooth Enabled",value:e.bluetoothEnabled?"Enabled":"Disabled"}],i=!!s,a=t.filter(u=>u.connected);return o.jsxs("section",{className:"flex flex-col gap-6 rounded-2xl border border-slate-200 bg-white/80 p-6 shadow-sm backdrop-blur-sm",children:[o.jsxs("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Bluetooth Diagnostics"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Review the current environment support and active bluetooth devices."})]}),o.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-sm font-medium ${n?"bg-sky-100 text-sky-700":a.length>0?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,"aria-live":"polite",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-current"}),n?"Scanning for devices":a.length>0?`${a.length} device${a.length===1?"":"s"} connected`:"Idle"]})]}),i?o.jsxs("div",{role:"alert",className:"rounded-xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:[o.jsx("h3",{className:"mb-1 font-semibold",children:"Connection error"}),o.jsx("p",{children:s})]}):null,o.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[l.map(u=>o.jsxs("dl",{className:"rounded-xl border border-slate-100 bg-white p-4 shadow-sm",children:[o.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:u.label}),o.jsx("dd",{className:"mt-2 text-lg font-medium text-slate-900",children:u.value})]},u.label)),o.jsxs("dl",{className:"rounded-xl border border-slate-100 bg-white p-4 shadow-sm",children:[o.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Last Scan"}),o.jsx("dd",{className:"mt-2 text-lg font-medium text-slate-900",children:n0(r)})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Connected devices"}),a.length>0?o.jsx("ul",{className:"grid gap-3 sm:grid-cols-2",children:a.map(u=>o.jsxs("li",{className:"flex flex-col gap-1 rounded-xl border border-emerald-100 bg-emerald-50/80 p-4 text-sm text-emerald-800",children:[o.jsx("span",{className:"font-semibold text-emerald-900",children:u.name||"Unnamed"}),o.jsxs("span",{className:"text-xs uppercase tracking-wide text-emerald-700",children:["ID: ",u.id]}),o.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-emerald-600",children:"Status: Connected"})]},u.id))}):o.jsx("p",{className:"rounded-xl border border-slate-100 bg-slate-50 p-4 text-sm text-slate-600",children:"No active bluetooth connections detected."})]})]})},bf=({size:e="md",className:t=""})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return o.jsx("div",{className:`loading-spinner ${n[e]} ${t}`.trim(),role:"status","aria-label":"Loading",children:o.jsx("style",{jsx:!0,children:`
        .loading-spinner {
          border: 2px solid rgba(59, 130, 246, 0.2);
          border-top: 2px solid #3b82f6;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }
      `})})},s0=(e,t)=>t?o.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary-400",children:[o.jsx(bf,{size:"sm"}),"Connecting..."]}):e!=null&&e.connected?o.jsxs("div",{className:"flex items-center gap-2 text-xs text-success-400",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-success-400 animate-pulse"}),"Connected"]}):o.jsxs("div",{className:"flex items-center gap-2 text-xs text-dark-500",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-dark-600"}),"Disconnected"]}),l0=({env:e,devices:t,status:n,onConnectFTMS:r,onConnectCPS:s,onConnectHR:l,onRefreshEnv:i,onShowFix:a,onDisconnectDevice:u,onDisconnectAll:c,isConnecting:m={}})=>{const[x,h]=p.useState(null),y=p.useMemo(()=>[{key:"ftms",name:"Smart Trainer",description:"Controls resistance and provides power/cadence/speed data",icon:"🚴",color:"primary",connect:r,isConnecting:!!m.ftms,device:t.ftms},{key:"cps",name:"Power Meter",description:"Provides accurate power and cadence data",icon:"⚡",color:"warning",connect:s,isConnecting:!!m.cps,device:t.cps},{key:"hr",name:"Heart Rate Monitor",description:"Provides real-time heart rate data",icon:"❤️",color:"danger",connect:l,isConnecting:!!m.hr,device:t.hr}],[t,m,s,r,l]),k=e.canUse??!1,w=()=>{if(c){c();return}u&&Object.keys(t).forEach(N=>{const f=t[N];f!=null&&f.connected&&u(N)})};return o.jsxs("div",{className:"glass-card p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-dark-200",children:"Device Connections"}),o.jsx("p",{className:"text-sm text-dark-400 mt-1",children:"Connect your Bluetooth devices to start tracking metrics"})]}),!k&&o.jsx("button",{onClick:a,className:"btn-warning text-sm",children:"Fix Bluetooth"})]}),o.jsx("div",{className:"space-y-4",children:y.map(N=>{var f,d,g,v,E,R,j,M;return o.jsxs("div",{className:`glass-card-hover p-4 cursor-pointer transition-all duration-200 ${x===N.key?"ring-2 ring-primary-500/50":""}`,onClick:()=>h(x===N.key?null:N.key),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"text-3xl",children:N.icon}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-dark-200",children:N.name}),o.jsx("p",{className:"text-sm text-dark-400",children:N.description}),((f=N.device)==null?void 0:f.name)&&o.jsxs("p",{className:"text-xs text-dark-500 mt-1",children:["Device: ",N.device.name]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[s0(N.device,N.isConnecting),o.jsx("button",{onClick:b=>{var P;b.stopPropagation(),!((P=N.device)!=null&&P.connected)&&!N.isConnecting&&N.connect()},disabled:!k||((d=N.device)==null?void 0:d.connected)||N.isConnecting,className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${(g=N.device)!=null&&g.connected?"bg-success-500/20 text-success-400 border border-success-500/30":N.isConnecting?"bg-primary-500/20 text-primary-400 border border-primary-500/30":k?`btn-${N.color}`:"bg-dark-800 text-dark-500 cursor-not-allowed"}`,children:(v=N.device)!=null&&v.connected?"Connected":N.isConnecting?"Connecting...":k?"Connect":"Unavailable"})]})]}),x===N.key&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-glass-border space-y-3 animate-slide-down",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-dark-500",children:"Status:"}),o.jsx("span",{className:"ml-2 text-dark-300",children:(E=N.device)!=null&&E.connected?"Connected":"Disconnected"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-dark-500",children:"Type:"}),o.jsx("span",{className:"ml-2 text-dark-300 capitalize",children:N.key.replace(/([A-Z])/g," $1").trim()})]}),((R=N.device)==null?void 0:R.id)&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-dark-500",children:"Device ID:"}),o.jsx("span",{className:"ml-2 text-dark-300 font-mono text-xs",children:N.device.id})]})]}),((j=N.device)==null?void 0:j.connected)&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-success-400",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-success-400 animate-pulse"}),"Device is actively transmitting data"]}),((M=N.device)==null?void 0:M.connected)&&u&&o.jsx("button",{type:"button",className:"btn-secondary text-xs text-danger-400 hover:text-danger-300",onClick:b=>{b.stopPropagation(),u(N.key)},children:"Disconnect Device"})]})]},N.key)})}),n&&o.jsx("div",{className:"p-4 bg-dark-800/50 border border-dark-700 rounded-xl",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-400 animate-pulse"}),o.jsx("span",{className:"text-sm text-dark-300",children:n})]})}),!k&&o.jsx("div",{className:"p-4 bg-warning-500/10 border border-warning-500/20 rounded-xl",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-warning-400 text-xl",children:"⚠️"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-warning-400",children:"Bluetooth Not Available"}),o.jsx("p",{className:"text-sm text-dark-400 mt-1",children:"Your browser or environment doesn't support Bluetooth connections. Try using Chrome/Edge on desktop or check your connection settings."}),o.jsx("button",{onClick:a,className:"mt-2 text-sm text-warning-400 hover:text-warning-300 underline",children:"Learn how to fix this"})]})]})}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx("button",{onClick:i,className:"btn-secondary text-sm",children:"Refresh Connections"}),Object.values(t).some(N=>N==null?void 0:N.connected)&&o.jsx("button",{onClick:w,className:"btn-secondary text-sm text-danger-400 hover:text-danger-300",children:"Disconnect All"})]})]})},o0=10*1024*1024,i0=({route:e,isLoading:t,error:n,onLoadGPX:r,onResetToDefault:s})=>{const l=p.useId(),i=p.useRef(null),[a,u]=p.useState(!1),[c,m]=p.useState(null),[x,h]=p.useState(null),[y,k]=p.useState(null);p.useEffect(()=>{n&&(m(null),h(null))},[n]);const w=p.useCallback(()=>{i.current&&(i.current.value="")},[]),N=p.useCallback(b=>b.name.toLowerCase().endsWith(".gpx")?b.size>o0?(h("File is too large. Please upload a GPX file smaller than 10MB."),!1):!0:(h("Unsupported file type. Please choose a .gpx file."),!1),[]),f=p.useCallback(async b=>{if(!t){if(m(null),h(null),!N(b)){w();return}k(b.name);try{await r(b),m(`Loaded route from ${b.name}`)}catch(P){const S=P instanceof Error?P.message:"Unable to load the selected GPX file.";h(S),k(null)}finally{w()}}},[w,t,r,N]),d=p.useCallback(async b=>{var S;const P=(S=b.target.files)==null?void 0:S[0];P&&await f(P)},[f]),g=p.useCallback(()=>{var b;t||(b=i.current)==null||b.click()},[t]),v=p.useCallback(()=>{s(),w(),k(null),h(null),m("Restored default route")},[w,s]),E=p.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?u(!0):b.type==="dragleave"&&u(!1)},[]),R=p.useCallback(b=>{var S;b.preventDefault(),b.stopPropagation(),u(!1);const P=(S=b.dataTransfer.files)==null?void 0:S[0];P&&f(P)},[f]),j=p.useMemo(()=>x??n,[n,x]),M=!j&&!t?c:null;return o.jsxs("section",{className:"glass-card space-y-4 p-6","aria-label":"Route loader",children:[o.jsxs("header",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-50",children:"Route"}),e.name?o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-success-500/10 px-3 py-1 text-xs font-medium text-success-300",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-success-400"}),e.name]}):null]}),o.jsx("p",{className:"text-sm text-slate-300",children:"Load a GPX file to override the current route or restore the default route at any time."}),o.jsxs("p",{className:"text-sm text-slate-400",children:[o.jsx("span",{className:"font-medium text-slate-200",children:"Current route:"})," ",e.name??"Unnamed route"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsx("input",{id:l,ref:i,type:"file",accept:".gpx,application/gpx+xml",className:"sr-only",onChange:d}),o.jsx("button",{type:"button",className:"btn-primary relative inline-flex items-center gap-2",onClick:g,disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx(bf,{size:"sm"}),"Loading..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Select GPX file"]})}),o.jsx("label",{htmlFor:l,className:"sr-only",children:"Select a GPX file to load a new route"}),o.jsx("button",{type:"button",className:"btn-secondary",onClick:v,disabled:t,children:"Reset to default route"})]}),o.jsx("div",{className:`relative rounded-2xl border-2 border-dashed p-6 transition-all duration-200 ${a?"border-primary-500 bg-primary-500/10":"border-white/10 bg-white/5 hover:border-white/20"}`,onDragEnter:E,onDragLeave:E,onDragOver:E,onDrop:R,children:o.jsxs("div",{className:"text-center",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs("p",{className:"text-sm text-slate-300",children:["Drag and drop your GPX file here, or",o.jsx("button",{type:"button",onClick:g,className:"ml-1 text-primary-300 underline transition hover:text-primary-200",disabled:t,children:"browse"})]}),o.jsx("p",{className:"text-xs text-slate-400",children:"Supports GPX format files up to 10MB."}),y?o.jsxs("p",{className:"text-xs text-slate-300",children:["Selected file: ",o.jsx("span",{className:"font-medium text-slate-100",children:y})]}):null]})]})}),o.jsxs("div",{className:"space-y-3","aria-live":"polite",children:[j?o.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-danger-500/20 bg-danger-500/10 p-4",role:"alert",children:[o.jsx("svg",{className:"mt-0.5 h-5 w-5 text-danger-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-danger-200",children:"Failed to load GPX file"}),o.jsx("p",{className:"mt-1 text-xs text-slate-300",children:j})]})]}):null,M?o.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-success-500/20 bg-success-500/10 p-4",children:[o.jsx("svg",{className:"mt-0.5 h-5 w-5 text-success-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-success-200",children:"Route loaded successfully"}),o.jsx("p",{className:"mt-1 text-xs text-slate-300",children:M})]})]}):null,!j&&!t&&e.pts.length>0?o.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-primary-500/20 bg-primary-500/10 p-4",children:[o.jsx("svg",{className:"mt-0.5 h-5 w-5 text-primary-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6l4 2"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-primary-200",children:"Route details"}),o.jsxs("p",{className:"mt-1 text-xs text-slate-300",children:[e.pts.length," waypoints • ",e.total.toFixed(2)," total distance"]})]})]}):null]})]})},sc=`# Using mkcert for local HTTPS
devcert generate localhost
# Start vite with https
vite --https --cert ./localhost.pem --key ./localhost-key.pem`,lc=`<meta http="Permissions-Policy" content="bluetooth=(self)">
<!-- Or HTTP header -->
Permissions-Policy: bluetooth=(self)`,oc=`server {
    listen 443 ssl;
    server_name trainer.example.com;

    ssl_certificate /etc/letsencrypt/live/trainer.example.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/trainer.example.com/privkey.pem;

    add_header Permissions-Policy "bluetooth=(self)" always;
    add_header Cross-Origin-Opener-Policy "same-origin" always;
    add_header Cross-Origin-Embedder-Policy "require-corp" always;

    location / {
        proxy_pass http://localhost:5173;
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-Proto https;
    }
}`,ic=`trainer.example.com {
    tls you@example.com
    header Permissions-Policy "bluetooth=(self)"
    header Cross-Origin-Opener-Policy "same-origin"
    header Cross-Origin-Embedder-Policy "require-corp"
    reverse_proxy localhost:5173
}`,a0=({isOpen:e,onClose:t})=>{const[n,r]=$r.useState(null),s=$r.useCallback((l,i)=>{const a=()=>{r(l),window.setTimeout(()=>{r(c=>c===l?null:c)},2500)};if(navigator.clipboard&&typeof navigator.clipboard.writeText=="function"){navigator.clipboard.writeText(i).then(a);return}const u=document.createElement("textarea");u.value=i,u.setAttribute("readonly",""),u.style.position="absolute",u.style.left="-9999px",document.body.appendChild(u),u.select(),document.execCommand("copy"),document.body.removeChild(u),a()},[]);return $r.useEffect(()=>{e||r(null)},[e]),e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/70 px-4 py-8",role:"dialog","aria-modal":"true","aria-labelledby":"fix-bluetooth-modal-heading",children:o.jsxs("div",{className:"relative flex max-h-full w-full max-w-4xl flex-col gap-6 overflow-hidden rounded-2xl bg-white p-6 shadow-2xl",children:[o.jsx("button",{type:"button",className:"absolute right-4 top-4 text-slate-400 transition hover:text-slate-600",onClick:t,"aria-label":"Close troubleshooting modal",children:o.jsx("span",{"aria-hidden":!0,children:"×"})}),o.jsxs("header",{className:"flex flex-col gap-2",children:[o.jsx("h2",{id:"fix-bluetooth-modal-heading",className:"text-2xl font-semibold text-slate-900",children:"Fix Web Bluetooth Connection Issues"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Follow these steps to unlock Web Bluetooth in modern browsers. This checklist covers secure contexts, permissions policy headers, and embedding gotchas that commonly block device pairing."})]}),o.jsxs("section",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"1. Serve the app over HTTPS"}),o.jsxs("p",{className:"text-sm text-slate-600",children:["Web Bluetooth only works from a secure origin. Use a trusted certificate in production and locally via self-signed certificates or tooling such as ",o.jsx("code",{children:"mkcert"}),". Upgrade all development URLs to",o.jsx("code",{children:"https://"})," before re-trying device discovery."]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[o.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[o.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Quick start with mkcert"}),o.jsx("button",{type:"button",className:"inline-flex items-center gap-1 rounded-lg bg-sky-600 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white transition hover:bg-sky-500",onClick:()=>s("https",sc),children:n==="https"?"Copied!":"Copy"})]}),o.jsx("pre",{className:"overflow-x-auto text-xs text-slate-800",children:o.jsx("code",{children:sc})})]})]}),o.jsxs("section",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"2. Allow Bluetooth in the Permissions Policy"}),o.jsxs("p",{className:"text-sm text-slate-600",children:["Chromium-based browsers require a ",o.jsx("code",{children:"Permissions-Policy"})," header or meta tag that lists",o.jsx("code",{children:"bluetooth"}),". Without it, the Web Bluetooth API silently rejects connection requests."]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[o.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[o.jsx("p",{className:"text-sm font-medium text-slate-700",children:"HTML meta or response header"}),o.jsx("button",{type:"button",className:"inline-flex items-center gap-1 rounded-lg bg-sky-600 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white transition hover:bg-sky-500",onClick:()=>s("policy",lc),children:n==="policy"?"Copied!":"Copy"})]}),o.jsx("pre",{className:"overflow-x-auto text-xs text-slate-800",children:o.jsx("code",{children:lc})})]})]}),o.jsxs("section",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"3. Escape restrictive iframes"}),o.jsxs("p",{className:"text-sm text-slate-600",children:["Embedded contexts frequently block Web Bluetooth because of missing ",o.jsx("code",{children:"allow"})," tokens or sandbox attributes. Whenever possible, run the dashboard in a top-level tab."]}),o.jsxs("ul",{className:"list-disc space-y-2 pl-6 text-sm text-slate-600",children:[o.jsxs("li",{children:["Add ",o.jsx("code",{children:'allow="bluetooth *; fullscreen *"'})," to the iframe and remove the ",o.jsx("code",{children:"sandbox"}),"flag or include ",o.jsx("code",{children:"allow-scripts allow-same-origin"}),"."]}),o.jsxs("li",{children:["Provide an “Open in new tab” escape hatch that links to the HTTPS version of the dashboard using",o.jsx("code",{children:'target="_blank" rel="noopener"'}),"."]}),o.jsxs("li",{children:["If you must stay embedded, ensure the parent origin lists the child in its ",o.jsx("code",{children:"Permissions-Policy"}),"and ",o.jsx("code",{children:"Cross-Origin-Embedder-Policy"})," headers."]})]})]}),o.jsxs("section",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"4. Harden the server configuration"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Send headers that opt into secure cross-origin isolation and expose Bluetooth permissions. Below are two production-ready examples you can adapt to your deployment."}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("article",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-slate-50 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-800",children:"Nginx reverse proxy"}),o.jsx("button",{type:"button",className:"inline-flex items-center gap-1 rounded-lg bg-sky-600 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white transition hover:bg-sky-500",onClick:()=>s("nginx",oc),children:n==="nginx"?"Copied!":"Copy"})]}),o.jsx("pre",{className:"overflow-x-auto text-xs text-slate-800",children:o.jsx("code",{children:oc})})]}),o.jsxs("article",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-slate-50 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-800",children:"Caddy server"}),o.jsx("button",{type:"button",className:"inline-flex items-center gap-1 rounded-lg bg-sky-600 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white transition hover:bg-sky-500",onClick:()=>s("caddy",ic),children:n==="caddy"?"Copied!":"Copy"})]}),o.jsx("pre",{className:"overflow-x-auto text-xs text-slate-800",children:o.jsx("code",{children:ic})})]})]})]}),o.jsxs("footer",{className:"flex flex-col gap-2 rounded-xl border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-700",children:[o.jsx("p",{className:"font-semibold",children:"Quick verification"}),o.jsxs("ol",{className:"list-decimal space-y-1 pl-5",children:[o.jsx("li",{children:"Reload the page over HTTPS and open DevTools → Security to confirm a secure connection."}),o.jsxs("li",{children:["Check the Permissions Policy tab to ensure ",o.jsx("code",{children:"bluetooth"})," is allowed for your origin."]}),o.jsx("li",{children:"Retry scanning with the iframe removed or after opening the dedicated tab."})]})]})]})}):null},u0=[{id:"virtual",label:"Virtual",icon:"🚴"},{id:"street",label:"Street",icon:"🏙️"},{id:"mapbox",label:"Mapbox 3D",icon:"🗺️"},{id:"osm",label:"OpenStreetMap",icon:"🌍"}],c0=({value:e,onChange:t,disabledOptions:n})=>o.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-dark-900/80 p-2 shadow-inner",children:u0.map(r=>{const s=e===r.id,l=!!(n!=null&&n[r.id]);return o.jsxs("button",{type:"button",onClick:()=>t(r.id),className:`flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-all ${s?"bg-primary-500 text-white shadow-lg":"text-dark-300 hover:bg-dark-800 hover:text-dark-50"} ${l?"cursor-not-allowed opacity-50":""}`,disabled:l,children:[o.jsx("span",{children:r.icon}),r.label]},r.id)})}),ac=({label:e,description:t,value:n,placeholder:r,onChange:s,saved:l=!1,error:i,initiallyRevealed:a=!1,"data-testid":u})=>{const c=p.useId(),m=t?`${c}-description`:void 0,x=i?`${c}-error`:void 0,h=l&&!i?`${c}-status`:void 0,[y,k]=p.useState(a),w=y?"Hide API key":"Show API key";return o.jsxs("div",{className:"space-y-2 text-sm","data-testid":u,children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsx("label",{htmlFor:c,className:"font-medium text-neutral-200",children:e}),i?o.jsx("span",{id:x,role:"alert",className:"text-xs font-medium text-rose-400","data-testid":"api-key-status",children:i}):l?o.jsx("span",{id:h,role:"status",className:"text-xs font-medium text-emerald-400","data-testid":"api-key-status","aria-live":"polite",children:"Saved"}):null]}),t?o.jsx("p",{id:m,className:"text-xs text-neutral-400",children:t}):null,o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:c,type:y?"text":"password",value:n,onChange:N=>s(N.target.value),placeholder:r,"aria-describedby":[m,x,h].filter(Boolean).join(" ")||void 0,"aria-invalid":!!i||void 0,className:"w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-neutral-100 placeholder-neutral-500 focus-visible:border-emerald-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500",autoComplete:"off"}),o.jsx("button",{type:"button",onClick:()=>k(N=>!N),"aria-label":w,"aria-pressed":y,className:"absolute inset-y-0 right-2 flex items-center rounded-md px-2 text-lg text-neutral-400 transition-colors hover:text-neutral-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500","data-testid":"api-key-toggle",children:o.jsx("span",{"aria-hidden":"true",children:y?"🙈":"👁️"})})]})]})},Oo=e=>{const{value:t}=e.target;if(t==="")return null;const n=Number(t);return Number.isFinite(n)?Math.trunc(n):null},Uo=(e,t,n)=>Math.min(n,Math.max(t,e)),d0=e=>Math.max(Zl,Math.trunc(e));function f0(){const{streetViewUpdateMs:e,setStreetViewUpdateMs:t,usePointStep:n,setUsePointStep:r,streetViewPointsPerStep:s,setStreetViewPointsPerStep:l,hudPosition:i,setHudPosition:a,streetViewPanMs:u,setStreetViewPanMs:c,streetViewMinStepMs:m,setStreetViewMinStepMs:x,lockForwardHeading:h,setLockForwardHeading:y,usePowerToDriveSpeed:k,setUsePowerToDriveSpeed:w,streetViewMetersPerStep:N,setStreetViewMetersPerStep:f,headingMode:d,setHeadingMode:g,reverseRoute:v,setReverseRoute:E}=_a(),R=P=>{const S=Oo(P),T=S===null?xe.streetViewUpdateMs:Uo(S,_l,Rl);t(T)},j=P=>{const S=Oo(P),T=S===null?xe.streetViewPointsPerStep:d0(S);l(T)},M=P=>{const S=Number(P.target.value);if(!Number.isFinite(S)){c(xe.streetViewPanMs);return}const T=Math.trunc(S),A=T<=0?0:Uo(Math.max(ms,T),bn,Tl);c(A)},b=P=>{const S=Oo(P),T=S===null?xe.streetViewMinStepMs:Uo(S,Ll,Il);x(T)};return o.jsxs("section",{className:"space-y-4 pt-4 border-t border-neutral-800",children:[o.jsx("h3",{className:"text-sm font-semibold text-neutral-200",children:"Street View"}),o.jsxs("label",{className:"block text-sm text-neutral-300",children:[o.jsx("span",{className:"text-xs text-neutral-400",children:"Update every (ms)"}),o.jsx("input",{type:"number",min:_l,max:Rl,step:100,placeholder:String(xe.streetViewUpdateMs),value:e,onChange:R,className:"mt-1 w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100 placeholder-neutral-500 focus-visible:border-emerald-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"}),o.jsx("span",{className:"mt-1 block text-[11px] text-neutral-500",children:"Controls how often the panorama advances. Larger = slower."})]}),o.jsxs("label",{className:"block text-sm text-neutral-300",children:[o.jsx("span",{className:"text-xs text-neutral-400",children:"HUD position (fullscreen)"}),o.jsxs("select",{value:i,onChange:P=>a(P.target.value),className:"mt-1 w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100 focus-visible:border-emerald-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500",children:[o.jsx("option",{value:"top-left",children:"Top-left"}),o.jsx("option",{value:"top-right",children:"Top-right"}),o.jsx("option",{value:"bottom-left",children:"Bottom-left"}),o.jsx("option",{value:"bottom-right",children:"Bottom-right"})]}),o.jsx("span",{className:"mt-1 block text-[11px] text-neutral-500",children:"Choose where the stats HUD appears while in fullscreen."})]}),o.jsxs("details",{className:"rounded-lg border border-neutral-800 bg-neutral-950/40 p-3 text-sm text-neutral-300",children:[o.jsx("summary",{className:"cursor-pointer text-xs font-medium text-neutral-200",children:"Advanced: step by points"}),o.jsxs("div",{className:"mt-3 space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-xs text-neutral-300",children:[o.jsx("input",{type:"checkbox",checked:n,onChange:P=>r(P.target.checked),className:"h-4 w-4"}),o.jsx("span",{children:"Use points instead of time"})]}),o.jsxs("label",{className:"block text-xs text-neutral-300",children:[o.jsx("span",{className:"text-neutral-400",children:"Points per step"}),o.jsx("input",{type:"number",min:Zl,step:1,value:s,onChange:j,disabled:!n,className:"mt-1 w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100 placeholder-neutral-500 focus-visible:border-emerald-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 disabled:cursor-not-allowed disabled:opacity-60"})]})]})]}),o.jsxs("label",{className:"block text-sm text-neutral-300",title:"Ease Street View heading/pitch over this time. 0 = off (snaps).",children:[o.jsx("span",{className:"text-xs text-neutral-400",children:"Pan Duration (ms)"}),o.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[o.jsx("input",{type:"range",min:bn,max:Tl,step:50,value:u===0?0:Math.max(ms,u),onChange:M,className:"h-2 w-full cursor-pointer accent-emerald-500",list:"street-view-pan-duration-ticks","aria-valuetext":u===0?"Off":`${u} milliseconds`}),o.jsx("span",{className:"w-14 text-right text-xs text-neutral-400",children:u===0?"Off":`${u} ms`})]}),o.jsxs("datalist",{id:"street-view-pan-duration-ticks",children:[o.jsx("option",{value:"0",label:"Off"}),o.jsx("option",{value:"200"}),o.jsx("option",{value:"400"}),o.jsx("option",{value:"600"}),o.jsx("option",{value:"800"}),o.jsx("option",{value:"1000"}),o.jsx("option",{value:"1200"}),o.jsx("option",{value:"1500"})]}),o.jsx("span",{className:"mt-1 block text-[11px] text-neutral-500",children:"Ease Street View heading/pitch over this time. 0 = off (snaps)."})]}),o.jsxs("label",{className:"block text-sm text-neutral-300",children:[o.jsx("span",{className:"text-xs text-neutral-400",children:"Min time between Street View changes (ms)"}),o.jsx("input",{type:"number",min:Ll,max:Il,step:50,placeholder:String(xe.streetViewMinStepMs),value:m,onChange:b,className:"mt-1 w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100 placeholder-neutral-500 focus-visible:border-emerald-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"}),o.jsx("span",{className:"mt-1 block text-[11px] text-neutral-500",children:"Cooldown between panorama switches. Prevents rapid oscillation when moving slowly."})]}),o.jsxs("label",{className:"mt-3 flex items-center gap-2 text-sm text-neutral-300",children:[o.jsx("input",{type:"checkbox",checked:k,onChange:P=>w(P.target.checked),className:"h-4 w-4"}),o.jsx("span",{children:"Use power to drive speed (fallback when FTMS speed missing)"})]}),o.jsxs("label",{className:"mt-2 block text-sm text-neutral-300",children:[o.jsx("span",{className:"text-xs text-neutral-400",children:"Street View step (meters)"}),o.jsx("input",{type:"number",min:3,max:50,step:1,className:"mt-1 w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm",value:N,onChange:P=>f(Math.max(3,Math.min(50,Math.trunc(Number(P.target.value)||15))))}),o.jsx("span",{className:"mt-1 block text-[11px] text-neutral-500",children:"Camera advances every N meters you “ride”."})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[o.jsx("input",{type:"checkbox",checked:h,onChange:P=>y(P.target.checked),className:"h-4 w-4"}),o.jsx("span",{children:"Lock forward heading (prevent POV drift)"})]}),o.jsxs("label",{className:"mt-3 block text-sm text-neutral-300",children:[o.jsx("span",{className:"text-xs text-neutral-400",children:"Heading mode"}),o.jsxs("div",{className:"mt-1 flex gap-4 text-sm",children:[o.jsxs("label",{className:"inline-flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"sv-heading-mode",checked:d==="forward",onChange:()=>g("forward")}),o.jsx("span",{children:"Forward (follow route)"})]}),o.jsxs("label",{className:"inline-flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"sv-heading-mode",checked:d==="fixed",onChange:()=>g("fixed")}),o.jsx("span",{children:"Fixed (no turning)"})]})]}),o.jsx("span",{className:"mt-1 block text-[11px] text-neutral-500",children:"“Fixed” keeps the camera looking the same direction even on bends."})]}),o.jsxs("label",{className:"mt-2 inline-flex items-center gap-2 text-sm text-neutral-300",children:[o.jsx("input",{type:"checkbox",checked:v,onChange:P=>E(P.target.checked),className:"h-4 w-4"}),o.jsx("span",{children:"Reverse route direction"})]}),o.jsx("p",{className:"text-[11px] text-neutral-500",children:"Changes save automatically."})]})}const Ws={google:"googleMapsApiKey",mapbox:"mapboxApiKey"},$o=()=>{if(typeof window>"u")return null;try{return window.localStorage}catch(e){return console.warn("[useApiKeys] Unable to access localStorage",e),null}},uc=(e,t)=>{if(!e)return"";try{return e.getItem(t)??""}catch(n){return console.warn(`[useApiKeys] Failed to read ${t} from localStorage`,n),""}},cc=(e,t,n)=>{if(e)try{n?e.setItem(t,n):e.removeItem(t)}catch(r){console.warn(`[useApiKeys] Failed to persist ${t} to localStorage`,r)}},p0=()=>{const e=$o(),[t,n]=p.useState(()=>uc(e,Ws.google)),[r,s]=p.useState(()=>uc(e,Ws.mapbox));p.useEffect(()=>{cc($o(),Ws.google,t)},[t]),p.useEffect(()=>{cc($o(),Ws.mapbox,r)},[r]);const l=p.useCallback(()=>{n("")},[]),i=p.useCallback(()=>{s("")},[]);return{googleMapsApiKey:t,mapboxApiKey:r,setGoogleMapsApiKey:n,setMapboxApiKey:s,clearGoogleMapsApiKey:l,clearMapboxApiKey:i}},Di=[{id:"dashboard",label:"Dashboard",icon:"📊"},{id:"workouts",label:"Workouts",icon:"🎯"},{id:"analysis",label:"Analysis",icon:"📈"},{id:"routes",label:"Routes",icon:"🗺️"},{id:"settings",label:"Settings",icon:"⚙️"}],m0={virtual:"Virtual Map",street:"Street View",mapbox:"Mapbox 3D",osm:"OpenStreetMap"},h0=["virtual","street","mapbox","osm"],dc={ftms:"FTMS Trainer",cps:"Power & Cadence",hr:"Heart Rate"},g0=(e,t)=>t[e]?h0.find(r=>!t[r])??"virtual":e,fc=e=>Di.some(t=>t.id===e);function x0(){const[e,t]=p.useState(!1),[n,r]=p.useState(!1),[s,l]=p.useState(!1),[i,a]=p.useState(""),[u,c]=p.useState(()=>{if(typeof window>"u")return"dashboard";const D=window.location.hash.replace("#","");return fc(D)?D:"dashboard"}),[m,x]=p.useState("virtual"),{googleMapsApiKey:h,mapboxApiKey:y,setGoogleMapsApiKey:k,setMapboxApiKey:w}=p0(),[N,f]=p.useState({showBuildings:!0,showTraffic:!1,show3D:!0,animationSpeed:1,autoFollow:!0,centerCoords:[-122.4194,37.7749],radiusKm:1}),d=p.useRef([]),{hudPosition:g,usePowerToDriveSpeed:v}=_a(),E=g==="top-left"?"left-4 top-4":g==="top-right"?"right-4 top-4":g==="bottom-left"?"left-4 bottom-4":"right-4 bottom-4",R=p.useCallback(D=>{c(D)},[]),j=p.useCallback((D,W)=>{if(D.key!=="ArrowRight"&&D.key!=="ArrowLeft")return;D.preventDefault();const Z=D.key==="ArrowRight"?1:-1,J=Di.length,pe=(W+Z+J)%J,xt=d.current[pe];xt==null||xt.focus()},[]);p.useEffect(()=>{if(typeof window>"u")return;const D=()=>{const W=window.location.hash.replace("#","");fc(W)&&c(W)};return window.addEventListener("hashchange",D),()=>{window.removeEventListener("hashchange",D)}},[]),p.useEffect(()=>{typeof window>"u"||window.location.hash.replace("#","")!==u&&(window.location.hash=u)},[u]);const M=!h,b=!y,P=p.useMemo(()=>{const D={};return M&&(D.street=!0),b&&(D.mapbox=!0),D},[M,b]),S=p.useMemo(()=>g0(m,P),[m,P]);p.useEffect(()=>{S!==m&&x(S)},[S,m]);const{environment:T,connectedDevices:A,statuses:z,errors:V,refreshEnvironment:C,connectFTMS:O,connectCPS:_,connectHR:F,disconnect:I,connectionState:U}=mh(),H=p.useMemo(()=>({ftms:z.ftms==="connecting"||z.ftms==="requesting",cps:z.cps==="connecting"||z.cps==="requesting",hr:z.hr==="connecting"||z.hr==="requesting"}),[z.cps,z.ftms,z.hr]),ne=p.useMemo(()=>{const D=Object.keys(z).filter(J=>z[J]==="connecting"||z[J]==="requesting");if(D.length>0)return`Connecting to ${D.map(pe=>dc[pe]).join(", ")}...`;const W=Object.keys(V).find(J=>{const pe=V[J];return typeof pe=="string"&&pe.length>0});if(W)return`${dc[W]} error: ${V[W]}`;const Z=Object.keys(A).filter(J=>{var pe;return(pe=A[J])==null?void 0:pe.connected}).length;if(Z>0)return`${Z} device${Z===1?"":"s"} connected`},[A,V,z]),ae=p.useCallback(()=>{["ftms","cps","hr"].forEach(D=>{I(D)})},[I]),Ne=p.useMemo(()=>Object.values(A).filter(D=>!!D),[A]),Y=p.useMemo(()=>Object.values(z).some(D=>D==="connecting"||D==="requesting"),[z]),ge=p.useMemo(()=>{const D=U.connectionHistory;if(!D.length)return null;const W=D[D.length-1];return new Date(W.timestamp)},[U.connectionHistory]),Le=p.useMemo(()=>Object.values(V).find(D=>typeof D=="string"&&D.length>0)??null,[V]),{metrics:de,samples:K,elapsed:Wt,startRide:An,stopRide:Sr,resetRide:ws}=yh(e,n,{usePowerToDriveSpeed:v}),{route:B,isLoading:Ke,error:je,lastLoadedFile:fe,loadGPX:Ie,resetToDefault:hn}=_h(),Et=p.useMemo(()=>{const D=Number.isFinite(B.total)?B.total/1e3:0,W=B.pts.some(Z=>typeof Z.elevation=="number");return{totalKm:D,hasElevation:W,points:B.pts.length}},[B]),dt=p.useRef(null),[Me,Oe]=p.useState(!1),ft=p.useCallback(async()=>{var D,W;if(dt.current)try{await((W=(D=dt.current).requestFullscreen)==null?void 0:W.call(D))}catch{}},[]),Ue=p.useCallback(async()=>{var D;try{document.fullscreenElement&&await((D=document.exitFullscreen)==null?void 0:D.call(document))}catch{}},[]);p.useEffect(()=>{const D=()=>Oe(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",D),()=>document.removeEventListener("fullscreenchange",D)},[]),p.useEffect(()=>{const D=W=>{W.key.toLowerCase()==="f"&&(Me?Ue():ft())};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[ft,Ue,Me]);const Lt=p.useMemo(()=>Dh.map(W=>({...W,intervals:W.intervals.map(Z=>({...Z,targetPower:Math.round(Z.targetPower*200)}))})),[]),[Pt,$e]=p.useState(null),{isActive:pt,elapsed:Gt,intervalElapsed:tt,currentIntervalIndex:mt,currentInterval:ht,targetPower:zn,targetCadence:It,start:kr,reset:Nr,setPlan:gn}=Ih(),ql=p.useCallback(D=>{const W=Lt.find(J=>J.id===D);if(!W)return;kr(W)?$e(D):(Nr(),gn(null),$e(null))},[Nr,gn,kr,Lt]),Jl=p.useMemo(()=>{if(ht)return[{label:"Target Power",value:Math.round(zn),unit:"W"},{label:"Target Cadence",value:It,unit:"rpm"}]},[ht,It,zn]);p.useEffect(()=>{T.canUse===!1&&!e&&t(!0)},[T.canUse,e]);const Ss=()=>{An()&&r(!0)},eo=()=>{Sr()&&r(!1)},xn=()=>{ws()&&r(!1)},gt=async D=>{try{await navigator.clipboard.writeText(D),a("Copied!"),setTimeout(()=>a(""),1500)}catch{a("Couldn't copy—select manually"),setTimeout(()=>a(""),2500)}},nt=()=>o.jsxs("div",{"data-testid":"screen-dashboard",className:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-[360px_minmax(0,1fr)]",children:[o.jsxs("section",{className:"order-1 space-y-4 lg:order-2",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(c0,{value:S,onChange:x,disabledOptions:Object.keys(P).length?P:void 0}),(M||b)&&o.jsx("div",{className:"text-center text-xs text-neutral-400",children:o.jsxs("div",{className:"space-y-1",children:[M&&o.jsx("p",{children:"Add a Google Maps API key in Settings to enable Street View."}),b&&o.jsx("p",{children:"Add a Mapbox token in Settings to enable Mapbox 3D."})]})})]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-2xl border border-neutral-800 bg-neutral-900/50 px-3 py-2",children:[o.jsx("div",{className:"truncate text-sm text-neutral-400",children:B.name??"Active route"}),o.jsxs("div",{className:"flex items-center gap-2",children:[n?o.jsx("button",{onClick:eo,className:"rounded-lg bg-amber-600 px-3 py-1.5 hover:bg-amber-500",children:"Pause"}):o.jsx("button",{onClick:Ss,className:"rounded-lg bg-emerald-600 px-3 py-1.5 hover:bg-emerald-500",children:"Start"}),o.jsx("button",{onClick:xn,className:"rounded-lg bg-neutral-800 px-3 py-1.5 hover:bg-neutral-700",children:"Reset"}),o.jsx("button",{onClick:()=>Hu(`ride-${new Date().toISOString()}.csv`,K),className:"rounded-lg bg-neutral-800 px-3 py-1.5 hover:bg-neutral-700",children:"Export"}),o.jsx("button",{type:"button",onClick:Me?Ue:ft,className:"rounded-lg border border-neutral-700 px-3 py-1.5 text-sm hover:bg-neutral-800",children:Me?"Exit Fullscreen":"Fullscreen"})]})]}),o.jsxs("div",{ref:dt,className:"relative",children:[o.jsx("h3",{className:"sr-only",children:m0[S]}),S==="virtual"&&o.jsx(Oh,{route:B,metrics:de,showRouteInfo:!0}),S==="street"&&o.jsx(Jh,{route:B,distance:de.distance,routeTotal:B.total,isRiding:n,apiKey:h,onError:D=>console.error(D)}),S==="mapbox"&&y&&o.jsx("div",{className:"relative h-[60vh] min-h-[360px] overflow-hidden rounded-2xl border border-neutral-800",children:o.jsx(Wh,{accessToken:y,route:B,options:{showBuildings:N.showBuildings,showTraffic:N.showTraffic,show3D:N.show3D}})}),S==="mapbox"&&!y&&o.jsx("div",{className:"rounded-2xl border border-dashed border-neutral-800 bg-neutral-900/30 p-6 text-center text-neutral-500",children:"Add a Mapbox token in Settings to enable Mapbox 3D."}),S==="osm"&&o.jsx("div",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4 text-center text-neutral-400",children:"OpenStreetMap view would be implemented here."}),Me&&o.jsxs("div",{className:`pointer-events-none absolute ${E} z-50 grid grid-cols-3 gap-2 rounded-xl bg-neutral-900/70 p-3 backdrop-blur`,role:"status","aria-live":"polite",children:[o.jsx(Wn,{label:"Power",value:de.power,unit:"W"}),o.jsx(Wn,{label:"Cadence",value:de.cadence,unit:"rpm"}),o.jsx(Wn,{label:"Speed",value:de.speed,unit:"kph"}),o.jsx(Wn,{label:"Distance",value:de.distance,unit:"km"}),o.jsx(Wn,{label:"Heart",value:de.hr,unit:"bpm"}),o.jsx(Wn,{label:"Elapsed",value:Wt})]})]}),o.jsxs("div",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h3",{className:"mb-3 text-sm font-medium text-neutral-200",children:"Route summary"}),o.jsxs("dl",{className:"space-y-1 text-sm text-neutral-400",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-300",children:"Name"}),o.jsx("dd",{children:B.name??"Active route"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-300",children:"Distance"}),o.jsxs("dd",{children:[Et.totalKm.toFixed(2)," km"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-300",children:"Points"}),o.jsx("dd",{children:Et.points})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-300",children:"Elevation data"}),o.jsx("dd",{children:Et.hasElevation?"Available":"Not available"})]}),fe?o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-300",children:"Source"}),o.jsx("dd",{className:"truncate text-right",title:fe,children:fe})]}):null]})]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Recent Samples"}),o.jsx("div",{className:"overflow-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"text-neutral-400",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2 text-left",children:"Time"}),o.jsx("th",{className:"p-2 text-right",children:"Power"}),o.jsx("th",{className:"p-2 text-right",children:"Cadence"}),o.jsx("th",{className:"p-2 text-right",children:"Speed"}),o.jsx("th",{className:"p-2 text-right",children:"Distance"}),o.jsx("th",{className:"p-2 text-right",children:"HR"})]})}),o.jsx("tbody",{children:K.slice(-30).map((D,W)=>{var Z,J,pe,xt,Ct,vn,yn,so;return o.jsxs("tr",{className:"border-t border-neutral-800",children:[o.jsx("td",{className:"p-2",children:new Date(D.ts).toLocaleTimeString()}),o.jsx("td",{className:"p-2 text-right",children:(J=(Z=D.power)==null?void 0:Z.toFixed)==null?void 0:J.call(Z,0)}),o.jsx("td",{className:"p-2 text-right",children:(xt=(pe=D.cadence)==null?void 0:pe.toFixed)==null?void 0:xt.call(pe,0)}),o.jsx("td",{className:"p-2 text-right",children:(vn=(Ct=D.speed)==null?void 0:Ct.toFixed)==null?void 0:vn.call(Ct,1)}),o.jsx("td",{className:"p-2 text-right",children:(so=(yn=D.distance)==null?void 0:yn.toFixed)==null?void 0:so.call(yn,3)}),o.jsx("td",{className:"p-2 text-right",children:D.hr??""})]},W)})})]})})]})]}),o.jsxs("aside",{className:"order-2 space-y-6 self-start lg:order-1 lg:sticky lg:top-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 auto-rows-[minmax(0,1fr)] text-center",children:[o.jsx(kn,{label:"Power",value:de.power,unit:"W",target:zn,priority:"high"}),o.jsx(kn,{label:"Cadence",value:de.cadence,unit:"rpm",target:It,priority:"high"}),o.jsx(kn,{label:"Heart Rate",value:de.hr,unit:"bpm",priority:"high"}),o.jsx(kn,{label:"Speed",value:de.speed,unit:"kph",priority:"medium"}),o.jsx(kn,{label:"Distance",value:de.distance,unit:"km",priority:"medium"}),o.jsx(kn,{label:"Elapsed",value:Wt,unit:"",priority:"low"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[n?o.jsx("button",{onClick:eo,className:"rounded-xl bg-amber-600 px-4 py-2 hover:bg-amber-500",children:"Pause"}):o.jsx("button",{onClick:Ss,className:"rounded-xl bg-emerald-600 px-4 py-2 hover:bg-emerald-500",children:"Start"}),o.jsx("button",{onClick:xn,className:"rounded-xl bg-neutral-800 px-4 py-2 hover:bg-neutral-700",children:"Reset"}),o.jsx("button",{onClick:()=>Hu(`ride-${new Date().toISOString()}.csv`,K),className:"rounded-xl bg-neutral-800 px-4 py-2 hover:bg-neutral-700",children:"Export"})]}),o.jsx("a",{href:"#settings",className:"block text-xs text-neutral-400 underline underline-offset-2 hover:text-neutral-200",children:"Manage Bluetooth in Settings →"})]})]}),On=pt?Pt:null,jr=()=>o.jsx("div",{"data-testid":"screen-workouts",className:"mt-6",children:o.jsx(t0,{workouts:Lt,activeWorkoutId:On,currentIntervalIndex:mt,overallElapsedSeconds:Gt,intervalElapsedSeconds:tt,targetMetrics:Jl,onStartWorkout:ql})}),Xt=()=>o.jsxs("div",{"data-testid":"screen-analysis",className:"mt-6 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Power Analysis"}),o.jsx("div",{className:"h-64",children:"Analysis chart would be implemented here"})]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Heart Rate Analysis"}),o.jsx("div",{className:"h-64",children:"Analysis chart would be implemented here"})]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Cadence Analysis"}),o.jsx("div",{className:"h-64",children:"Analysis chart would be implemented here"})]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Speed Analysis"}),o.jsx("div",{className:"h-64",children:"Analysis chart would be implemented here"})]})]}),to=()=>o.jsxs("div",{"data-testid":"screen-routes",className:"mt-6 space-y-6",children:[o.jsx(i0,{route:B,isLoading:Ke,error:je,onLoadGPX:Ie,onResetToDefault:hn}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h3",{className:"mb-3 text-lg font-medium",children:"Current Route Summary"}),o.jsxs("dl",{className:"grid grid-cols-1 gap-y-2 text-sm text-neutral-300 sm:grid-cols-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-200",children:"Name"}),o.jsx("dd",{children:B.name??"Active route"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-200",children:"Distance"}),o.jsxs("dd",{children:[Et.totalKm.toFixed(2)," km"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-200",children:"Points"}),o.jsx("dd",{children:Et.points})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-200",children:"Elevation data"}),o.jsx("dd",{children:Et.hasElevation?"Available":"Not available"})]})]}),fe?o.jsxs("p",{className:"mt-3 text-xs text-neutral-500",children:["Last loaded file: ",fe]}):null]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h3",{className:"mb-3 text-lg font-medium",children:"Route Debug Preview"}),o.jsxs("ol",{className:"space-y-2 text-xs text-neutral-400",children:[B.pts.slice(0,5).map((D,W)=>{var Z,J,pe,xt,Ct,vn;return o.jsxs("li",{children:[o.jsxs("span",{className:"font-medium text-neutral-200",children:["Point ",W+1,":"]})," ","x=",((J=(Z=D.x).toFixed)==null?void 0:J.call(Z,2))??D.x,", y=",((xt=(pe=D.y).toFixed)==null?void 0:xt.call(pe,2))??D.y,typeof D.elevation=="number"?`, elevation=${((vn=(Ct=D.elevation).toFixed)==null?void 0:vn.call(Ct,1))??D.elevation}`:""]},`${D.x}-${D.y}-${W}`)}),B.pts.length>5?o.jsxs("li",{className:"text-neutral-500",children:["…and ",B.pts.length-5," more points"]}):null]})]})]}),no=()=>o.jsxs("div",{"data-testid":"screen-settings",className:"mt-6 space-y-6",children:[o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-4 text-lg font-medium",children:"API Keys"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ac,{label:"Google Maps API key",description:"Paste your key to enable Street View",value:h,onChange:k,placeholder:"Paste your key to enable Street View",saved:!!h,"data-testid":"google-api-field"}),o.jsx(ac,{label:"Mapbox access token",description:"Add a token to enable Mapbox 3D",value:y,onChange:w,placeholder:"Add a token to enable Mapbox 3D",saved:!!y,"data-testid":"mapbox-api-field"}),o.jsx(f0,{})]})]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Mapbox Options"}),o.jsxs("div",{className:"space-y-3 text-sm text-neutral-300",children:[o.jsxs("label",{className:"flex items-center justify-between gap-4",children:[o.jsx("span",{children:"Show buildings"}),o.jsx("input",{type:"checkbox",checked:N.showBuildings,onChange:D=>f(W=>({...W,showBuildings:D.target.checked}))})]}),o.jsxs("label",{className:"flex items-center justify-between gap-4",children:[o.jsx("span",{children:"Show traffic"}),o.jsx("input",{type:"checkbox",checked:N.showTraffic,onChange:D=>f(W=>({...W,showTraffic:D.target.checked}))})]}),o.jsxs("label",{className:"flex items-center justify-between gap-4",children:[o.jsx("span",{children:"Enable 3D mode"}),o.jsx("input",{type:"checkbox",checked:N.show3D,onChange:D=>f(W=>({...W,show3D:D.target.checked}))})]})]})]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Device Connections"}),o.jsx(l0,{env:T,devices:A,status:ne,onConnectFTMS:O,onConnectCPS:_,onConnectHR:F,onRefreshEnv:C,onShowFix:()=>l(!0),onDisconnectDevice:I,onDisconnectAll:ae,isConnecting:H})]}),o.jsx("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:o.jsx(r0,{environment:T,connectedDevices:Ne,isScanning:Y,lastScanAt:ge,errorMessage:Le})}),o.jsx("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4 text-sm text-neutral-400",children:o.jsx("p",{children:"More settings coming soon."})})]}),ro=()=>{switch(u){case"workouts":return jr();case"analysis":return Xt();case"routes":return to();case"settings":return no();case"dashboard":default:return nt()}};return o.jsx("div",{className:"min-h-screen bg-neutral-950 text-neutral-100",children:o.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[o.jsxs("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold",children:"Bike Trainer Dashboard"}),o.jsx("p",{className:"text-neutral-400 text-sm",children:"Connect BLE FTMS/Cycling Power & Heart Rate. If Bluetooth is blocked, the Simulator runs automatically."})]}),o.jsx("div",{className:"flex gap-2 flex-wrap items-center",children:o.jsxs("label",{className:"px-3 py-2 rounded-2xl text-sm border border-neutral-700 flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e,onChange:D=>t(D.target.checked)}),"Simulator"]})})]}),o.jsx("div",{className:"mt-4 flex gap-2 border-b border-neutral-800",role:"tablist","aria-label":"Main sections",children:Di.map((D,W)=>{const Z=u===D.id;return o.jsxs("button",{type:"button",role:"tab","aria-selected":Z,tabIndex:Z?0:-1,className:`border-b-2 px-4 py-2 text-sm font-medium transition-colors ${Z?"border-emerald-400 text-emerald-400":"border-transparent text-neutral-400 hover:text-neutral-200"}`,onClick:()=>R(D.id),onKeyDown:J=>j(J,W),ref:J=>{d.current[W]=J},"data-testid":`tab-${D.id}`,children:[o.jsx("span",{className:"mr-2",children:D.icon}),D.label]},D.id)})}),ro(),o.jsxs("footer",{className:"mt-6 text-xs text-neutral-500 space-y-1",children:[o.jsx("p",{children:"Browser support: Chrome/Edge desktop. Requires HTTPS or localhost for Web Bluetooth. If Tacx Bushido lacks BLE FTMS/CPS, use Simulator or pair a BLE sensor."}),o.jsxs("p",{children:["If you are embedding this page, ensure Permissions-Policy allows bluetooth (e.g., header ",o.jsx("code",{children:"Permissions-Policy: bluetooth=(self)"})," or iframe attribute ",o.jsx("code",{children:'allow="bluetooth"'}),"), and avoid sandbox flags that block it."]})]}),s&&o.jsx(a0,{env:T,onClose:()=>l(!1),onCopy:gt,copied:i,onRefresh:C})]})})}function Wn({label:e,value:t,unit:n=""}){var l;const s=t==null||typeof t=="number"&&Number.isNaN(t)?"—":typeof t=="number"?((l=t.toFixed)==null?void 0:l.call(t,0))??String(t):String(t);return o.jsxs("div",{className:"pointer-events-none min-w-[90px] rounded-lg border border-neutral-800 bg-neutral-950/60 px-2 py-1.5 text-xs text-neutral-200",children:[o.jsx("div",{className:"text-[10px] uppercase tracking-wide text-neutral-400",children:e}),o.jsxs("div",{className:"font-semibold",children:[s," ",n]})]})}class v0 extends p.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-neutral-950 text-neutral-100 flex items-center justify-center p-6",children:o.jsxs("div",{className:"max-w-md border border-neutral-800 rounded-2xl p-6 bg-neutral-900/50",children:[o.jsx("h2",{className:"text-xl font-semibold text-rose-400 mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-neutral-400 mb-4",children:"The bike trainer dashboard encountered an error. Please refresh the page to try again."}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500",children:"Refresh Page"}),!1]})}):this.props.children}}const y0=Vo.createRoot(document.getElementById("root"));y0.render(o.jsx($r.StrictMode,{children:o.jsx(v0,{children:o.jsx(x0,{})})}));
