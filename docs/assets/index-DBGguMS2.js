(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function kf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Iu={exports:{}},Js={},Fu={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tr=Symbol.for("react.element"),Nf=Symbol.for("react.portal"),jf=Symbol.for("react.fragment"),Ef=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),Cf=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),bf=Symbol.for("react.forward_ref"),_f=Symbol.for("react.suspense"),Tf=Symbol.for("react.memo"),Lf=Symbol.for("react.lazy"),ra=Symbol.iterator;function Rf(e){return e===null||typeof e!="object"?null:(e=ra&&e[ra]||e["@@iterator"],typeof e=="function"?e:null)}var Du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Au=Object.assign,Ou={};function An(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Du}An.prototype.isReactComponent={};An.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};An.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function zu(){}zu.prototype=An.prototype;function Jo(e,t,n){this.props=e,this.context=t,this.refs=Ou,this.updater=n||Du}var ei=Jo.prototype=new zu;ei.constructor=Jo;Au(ei,An.prototype);ei.isPureReactComponent=!0;var sa=Array.isArray,$u=Object.prototype.hasOwnProperty,ti={current:null},Uu={key:!0,ref:!0,__self:!0,__source:!0};function Vu(e,t,n){var r,s={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)$u.call(t,r)&&!Uu.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Tr,type:e,key:l,ref:i,props:s,_owner:ti.current}}function If(e,t){return{$$typeof:Tr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ni(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tr}function Ff(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var la=/\/+/g;function kl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ff(""+e.key):t.toString(36)}function as(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Tr:case Nf:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+kl(i,0):r,sa(s)?(n="",e!=null&&(n=e.replace(la,"$&/")+"/"),as(s,t,n,"",function(c){return c})):s!=null&&(ni(s)&&(s=If(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(la,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",sa(e))for(var a=0;a<e.length;a++){l=e[a];var u=r+kl(l,a);i+=as(l,t,n,u,s)}else if(u=Rf(e),typeof u=="function")for(e=u.call(e),a=0;!(l=e.next()).done;)l=l.value,u=r+kl(l,a++),i+=as(l,t,n,u,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function zr(e,t,n){if(e==null)return e;var r=[],s=0;return as(e,r,"","",function(l){return t.call(n,l,s++)}),r}function Df(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},us={transition:null},Af={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:us,ReactCurrentOwner:ti};function Bu(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:zr,forEach:function(e,t,n){zr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zr(e,function(){t++}),t},toArray:function(e){return zr(e,function(t){return t})||[]},only:function(e){if(!ni(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=An;G.Fragment=jf;G.Profiler=Pf;G.PureComponent=Jo;G.StrictMode=Ef;G.Suspense=_f;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Af;G.act=Bu;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Au({},e.props),s=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=ti.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)$u.call(t,u)&&!Uu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Tr,type:e.type,key:s,ref:l,props:r,_owner:i}};G.createContext=function(e){return e={$$typeof:Mf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cf,_context:e},e.Consumer=e};G.createElement=Vu;G.createFactory=function(e){var t=Vu.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:bf,render:e}};G.isValidElement=ni;G.lazy=function(e){return{$$typeof:Lf,_payload:{_status:-1,_result:e},_init:Df}};G.memo=function(e,t){return{$$typeof:Tf,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=us.transition;us.transition={};try{e()}finally{us.transition=t}};G.unstable_act=Bu;G.useCallback=function(e,t){return _e.current.useCallback(e,t)};G.useContext=function(e){return _e.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};G.useEffect=function(e,t){return _e.current.useEffect(e,t)};G.useId=function(){return _e.current.useId()};G.useImperativeHandle=function(e,t,n){return _e.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return _e.current.useMemo(e,t)};G.useReducer=function(e,t,n){return _e.current.useReducer(e,t,n)};G.useRef=function(e){return _e.current.useRef(e)};G.useState=function(e){return _e.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return _e.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return _e.current.useTransition()};G.version="18.3.1";Fu.exports=G;var h=Fu.exports;const sr=kf(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of=h,zf=Symbol.for("react.element"),$f=Symbol.for("react.fragment"),Uf=Object.prototype.hasOwnProperty,Vf=Of.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bf={key:!0,ref:!0,__self:!0,__source:!0};function Wu(e,t,n){var r,s={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Uf.call(t,r)&&!Bf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:zf,type:e,key:l,ref:i,props:s,_owner:Vf.current}}Js.Fragment=$f;Js.jsx=Wu;Js.jsxs=Wu;Iu.exports=Js;var o=Iu.exports,ro={},Hu={exports:{}},Ue={},Gu={exports:{}},Xu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,A){var F=L.length;L.push(A);e:for(;0<F;){var D=F-1>>>1,B=L[D];if(0<s(B,A))L[D]=A,L[F]=B,F=D;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var A=L[0],F=L.pop();if(F!==A){L[0]=F;e:for(var D=0,B=L.length,W=B>>>1;D<W;){var X=2*(D+1)-1,Z=L[X],Q=X+1,Ce=L[Q];if(0>s(Z,F))Q<B&&0>s(Ce,Z)?(L[D]=Ce,L[Q]=F,D=Q):(L[D]=Z,L[X]=F,D=X);else if(Q<B&&0>s(Ce,F))L[D]=Ce,L[Q]=F,D=Q;else break e}}return A}function s(L,A){var F=L.sortIndex-A.sortIndex;return F!==0?F:L.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var u=[],c=[],m=1,x=null,f=3,y=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=L)r(c),A.sortIndex=A.expirationTime,t(u,A);else break;A=n(c)}}function v(L){if(S=!1,g(L),!w)if(n(u)!==null)w=!0,M(P);else{var A=n(c);A!==null&&$(v,A.startTime-L)}}function P(L,A){w=!1,S&&(S=!1,p(j),j=-1),y=!0;var F=f;try{for(g(A),x=n(u);x!==null&&(!(x.expirationTime>A)||L&&!E());){var D=x.callback;if(typeof D=="function"){x.callback=null,f=x.priorityLevel;var B=D(x.expirationTime<=A);A=e.unstable_now(),typeof B=="function"?x.callback=B:x===n(u)&&r(u),g(A)}else r(u);x=n(u)}if(x!==null)var W=!0;else{var X=n(c);X!==null&&$(v,X.startTime-A),W=!1}return W}finally{x=null,f=F,y=!1}}var _=!1,N=null,j=-1,b=5,C=-1;function E(){return!(e.unstable_now()-C<b)}function T(){if(N!==null){var L=e.unstable_now();C=L;var A=!0;try{A=N(!0,L)}finally{A?z():(_=!1,N=null)}}else _=!1}var z;if(typeof d=="function")z=function(){d(T)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,V=O.port2;O.port1.onmessage=T,z=function(){V.postMessage(null)}}else z=function(){k(T,0)};function M(L){N=L,_||(_=!0,z())}function $(L,A){j=k(function(){L(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,M(P))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var F=f;f=A;try{return L()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,A){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=f;f=L;try{return A()}finally{f=F}},e.unstable_scheduleCallback=function(L,A,F){var D=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?D+F:D):F=D,L){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=F+B,L={id:m++,callback:A,priorityLevel:L,startTime:F,expirationTime:B,sortIndex:-1},F>D?(L.sortIndex=F,t(c,L),n(u)===null&&L===n(c)&&(S?(p(j),j=-1):S=!0,$(v,F-D))):(L.sortIndex=B,t(u,L),w||y||(w=!0,M(P))),L},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(L){var A=f;return function(){var F=f;f=A;try{return L.apply(this,arguments)}finally{f=F}}}})(Xu);Gu.exports=Xu;var Wf=Gu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf=h,$e=Wf;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ku=new Set,mr={};function nn(e,t){_n(e,t),_n(e+"Capture",t)}function _n(e,t){for(mr[e]=t,e=0;e<t.length;e++)Ku.add(t[e])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=Object.prototype.hasOwnProperty,Gf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oa={},ia={};function Xf(e){return so.call(ia,e)?!0:so.call(oa,e)?!1:Gf.test(e)?ia[e]=!0:(oa[e]=!0,!1)}function Kf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qf(e,t,n,r){if(t===null||typeof t>"u"||Kf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,n,r,s,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var ri=/[\-:]([a-z])/g;function si(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ri,si);ke[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ri,si);ke[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ri,si);ke[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function li(e,t,n,r){var s=ke.hasOwnProperty(t)?ke[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qf(t,n,s,r)&&(n=null),r||s===null?Xf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yt=Hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$r=Symbol.for("react.element"),fn=Symbol.for("react.portal"),pn=Symbol.for("react.fragment"),oi=Symbol.for("react.strict_mode"),lo=Symbol.for("react.profiler"),Qu=Symbol.for("react.provider"),Yu=Symbol.for("react.context"),ii=Symbol.for("react.forward_ref"),oo=Symbol.for("react.suspense"),io=Symbol.for("react.suspense_list"),ai=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Zu=Symbol.for("react.offscreen"),aa=Symbol.iterator;function Bn(e){return e===null||typeof e!="object"?null:(e=aa&&e[aa]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Nl;function er(e){if(Nl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nl=t&&t[1]||""}return`
`+Nl+e}var jl=!1;function El(e,t){if(!e||jl)return"";jl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),l=r.stack.split(`
`),i=s.length-1,a=l.length-1;1<=i&&0<=a&&s[i]!==l[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==l[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==l[a]){var u=`
`+s[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=a);break}}}finally{jl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?er(e):""}function Yf(e){switch(e.tag){case 5:return er(e.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return e=El(e.type,!1),e;case 11:return e=El(e.type.render,!1),e;case 1:return e=El(e.type,!0),e;default:return""}}function ao(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pn:return"Fragment";case fn:return"Portal";case lo:return"Profiler";case oi:return"StrictMode";case oo:return"Suspense";case io:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yu:return(e.displayName||"Context")+".Consumer";case Qu:return(e._context.displayName||"Context")+".Provider";case ii:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ai:return t=e.displayName||null,t!==null?t:ao(e.type)||"Memo";case kt:t=e._payload,e=e._init;try{return ao(e(t))}catch{}}return null}function Zf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ao(t);case 8:return t===oi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qf(e){var t=qu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ur(e){e._valueTracker||(e._valueTracker=qf(e))}function Ju(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function uo(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ua(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ec(e,t){t=t.checked,t!=null&&li(e,"checked",t,!1)}function co(e,t){ec(e,t);var n=Dt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fo(e,t.type,n):t.hasOwnProperty("defaultValue")&&fo(e,t.type,Dt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ca(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fo(e,t,n){(t!=="number"||Ss(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tr=Array.isArray;function jn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function po(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function da(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(tr(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dt(n)}}function tc(e,t){var n=Dt(t.value),r=Dt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vr,rc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jf=["Webkit","ms","Moz","O"];Object.keys(lr).forEach(function(e){Jf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lr[t]=lr[e]})});function sc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lr.hasOwnProperty(e)&&lr[e]?(""+t).trim():t+"px"}function lc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var ep=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ho(e,t){if(t){if(ep[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function go(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function ui(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vo=null,En=null,Pn=null;function pa(e){if(e=Ir(e)){if(typeof vo!="function")throw Error(R(280));var t=e.stateNode;t&&(t=sl(t),vo(e.stateNode,e.type,t))}}function oc(e){En?Pn?Pn.push(e):Pn=[e]:En=e}function ic(){if(En){var e=En,t=Pn;if(Pn=En=null,pa(e),t)for(e=0;e<t.length;e++)pa(t[e])}}function ac(e,t){return e(t)}function uc(){}var Pl=!1;function cc(e,t,n){if(Pl)return e(t,n);Pl=!0;try{return ac(e,t,n)}finally{Pl=!1,(En!==null||Pn!==null)&&(uc(),ic())}}function gr(e,t){var n=e.stateNode;if(n===null)return null;var r=sl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var yo=!1;if(ht)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){yo=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{yo=!1}function tp(e,t,n,r,s,l,i,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var or=!1,ks=null,Ns=!1,wo=null,np={onError:function(e){or=!0,ks=e}};function rp(e,t,n,r,s,l,i,a,u){or=!1,ks=null,tp.apply(np,arguments)}function sp(e,t,n,r,s,l,i,a,u){if(rp.apply(this,arguments),or){if(or){var c=ks;or=!1,ks=null}else throw Error(R(198));Ns||(Ns=!0,wo=c)}}function rn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function dc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ma(e){if(rn(e)!==e)throw Error(R(188))}function lp(e){var t=e.alternate;if(!t){if(t=rn(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return ma(s),e;if(l===r)return ma(s),t;l=l.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=l;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=l;break}if(a===r){i=!0,r=s,n=l;break}a=a.sibling}if(!i){for(a=l.child;a;){if(a===n){i=!0,n=l,r=s;break}if(a===r){i=!0,r=l,n=s;break}a=a.sibling}if(!i)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function fc(e){return e=lp(e),e!==null?pc(e):null}function pc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pc(e);if(t!==null)return t;e=e.sibling}return null}var mc=$e.unstable_scheduleCallback,ha=$e.unstable_cancelCallback,op=$e.unstable_shouldYield,ip=$e.unstable_requestPaint,ce=$e.unstable_now,ap=$e.unstable_getCurrentPriorityLevel,ci=$e.unstable_ImmediatePriority,hc=$e.unstable_UserBlockingPriority,js=$e.unstable_NormalPriority,up=$e.unstable_LowPriority,gc=$e.unstable_IdlePriority,el=null,it=null;function cp(e){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(el,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:pp,dp=Math.log,fp=Math.LN2;function pp(e){return e>>>=0,e===0?32:31-(dp(e)/fp|0)|0}var Br=64,Wr=4194304;function nr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Es(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=nr(a):(l&=i,l!==0&&(r=nr(l)))}else i=n&~s,i!==0?r=nr(i):l!==0&&(r=nr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tt(t),s=1<<n,r|=e[n],t&=~s;return r}function mp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-tt(l),a=1<<i,u=s[i];u===-1?(!(a&n)||a&r)&&(s[i]=mp(a,t)):u<=t&&(e.expiredLanes|=a),l&=~a}}function So(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xc(){var e=Br;return Br<<=1,!(Br&4194240)&&(Br=64),e}function Cl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Lr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=n}function gp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-tt(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function di(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Y=0;function vc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yc,fi,wc,Sc,kc,ko=!1,Hr=[],Mt=null,bt=null,_t=null,xr=new Map,vr=new Map,jt=[],xp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ga(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vr.delete(t.pointerId)}}function Hn(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Ir(t),t!==null&&fi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function vp(e,t,n,r,s){switch(t){case"focusin":return Mt=Hn(Mt,e,t,n,r,s),!0;case"dragenter":return bt=Hn(bt,e,t,n,r,s),!0;case"mouseover":return _t=Hn(_t,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return xr.set(l,Hn(xr.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,vr.set(l,Hn(vr.get(l)||null,e,t,n,r,s)),!0}return!1}function Nc(e){var t=Ht(e.target);if(t!==null){var n=rn(t);if(n!==null){if(t=n.tag,t===13){if(t=dc(n),t!==null){e.blockedOn=t,kc(e.priority,function(){wc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=No(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xo=r,n.target.dispatchEvent(r),xo=null}else return t=Ir(n),t!==null&&fi(t),e.blockedOn=n,!1;t.shift()}return!0}function xa(e,t,n){cs(e)&&n.delete(t)}function yp(){ko=!1,Mt!==null&&cs(Mt)&&(Mt=null),bt!==null&&cs(bt)&&(bt=null),_t!==null&&cs(_t)&&(_t=null),xr.forEach(xa),vr.forEach(xa)}function Gn(e,t){e.blockedOn===t&&(e.blockedOn=null,ko||(ko=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,yp)))}function yr(e){function t(s){return Gn(s,e)}if(0<Hr.length){Gn(Hr[0],e);for(var n=1;n<Hr.length;n++){var r=Hr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mt!==null&&Gn(Mt,e),bt!==null&&Gn(bt,e),_t!==null&&Gn(_t,e),xr.forEach(t),vr.forEach(t),n=0;n<jt.length;n++)r=jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&(n=jt[0],n.blockedOn===null);)Nc(n),n.blockedOn===null&&jt.shift()}var Cn=yt.ReactCurrentBatchConfig,Ps=!0;function wp(e,t,n,r){var s=Y,l=Cn.transition;Cn.transition=null;try{Y=1,pi(e,t,n,r)}finally{Y=s,Cn.transition=l}}function Sp(e,t,n,r){var s=Y,l=Cn.transition;Cn.transition=null;try{Y=4,pi(e,t,n,r)}finally{Y=s,Cn.transition=l}}function pi(e,t,n,r){if(Ps){var s=No(e,t,n,r);if(s===null)Al(e,t,r,Cs,n),ga(e,r);else if(vp(s,e,t,n,r))r.stopPropagation();else if(ga(e,r),t&4&&-1<xp.indexOf(e)){for(;s!==null;){var l=Ir(s);if(l!==null&&yc(l),l=No(e,t,n,r),l===null&&Al(e,t,r,Cs,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else Al(e,t,r,null,n)}}var Cs=null;function No(e,t,n,r){if(Cs=null,e=ui(r),e=Ht(e),e!==null)if(t=rn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=dc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cs=e,null}function jc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ap()){case ci:return 1;case hc:return 4;case js:case up:return 16;case gc:return 536870912;default:return 16}default:return 16}}var Pt=null,mi=null,ds=null;function Ec(){if(ds)return ds;var e,t=mi,n=t.length,r,s="value"in Pt?Pt.value:Pt.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[l-r];r++);return ds=s.slice(e,1<r?1-r:void 0)}function fs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gr(){return!0}function va(){return!1}function Ve(e){function t(n,r,s,l,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Gr:va,this.isPropagationStopped=va,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),t}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Ve(On),Rr=oe({},On,{view:0,detail:0}),kp=Ve(Rr),Ml,bl,Xn,tl=oe({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(Ml=e.screenX-Xn.screenX,bl=e.screenY-Xn.screenY):bl=Ml=0,Xn=e),Ml)},movementY:function(e){return"movementY"in e?e.movementY:bl}}),ya=Ve(tl),Np=oe({},tl,{dataTransfer:0}),jp=Ve(Np),Ep=oe({},Rr,{relatedTarget:0}),_l=Ve(Ep),Pp=oe({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),Cp=Ve(Pp),Mp=oe({},On,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bp=Ve(Mp),_p=oe({},On,{data:0}),wa=Ve(_p),Tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ip(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rp[e])?!!t[e]:!1}function gi(){return Ip}var Fp=oe({},Rr,{key:function(e){if(e.key){var t=Tp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gi,charCode:function(e){return e.type==="keypress"?fs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dp=Ve(Fp),Ap=oe({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sa=Ve(Ap),Op=oe({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gi}),zp=Ve(Op),$p=oe({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),Up=Ve($p),Vp=oe({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bp=Ve(Vp),Wp=[9,13,27,32],xi=ht&&"CompositionEvent"in window,ir=null;ht&&"documentMode"in document&&(ir=document.documentMode);var Hp=ht&&"TextEvent"in window&&!ir,Pc=ht&&(!xi||ir&&8<ir&&11>=ir),ka=" ",Na=!1;function Cc(e,t){switch(e){case"keyup":return Wp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mn=!1;function Gp(e,t){switch(e){case"compositionend":return Mc(t);case"keypress":return t.which!==32?null:(Na=!0,ka);case"textInput":return e=t.data,e===ka&&Na?null:e;default:return null}}function Xp(e,t){if(mn)return e==="compositionend"||!xi&&Cc(e,t)?(e=Ec(),ds=mi=Pt=null,mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pc&&t.locale!=="ko"?null:t.data;default:return null}}var Kp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Kp[e.type]:t==="textarea"}function bc(e,t,n,r){oc(r),t=Ms(t,"onChange"),0<t.length&&(n=new hi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ar=null,wr=null;function Qp(e){$c(e,0)}function nl(e){var t=xn(e);if(Ju(t))return e}function Yp(e,t){if(e==="change")return t}var _c=!1;if(ht){var Tl;if(ht){var Ll="oninput"in document;if(!Ll){var Ea=document.createElement("div");Ea.setAttribute("oninput","return;"),Ll=typeof Ea.oninput=="function"}Tl=Ll}else Tl=!1;_c=Tl&&(!document.documentMode||9<document.documentMode)}function Pa(){ar&&(ar.detachEvent("onpropertychange",Tc),wr=ar=null)}function Tc(e){if(e.propertyName==="value"&&nl(wr)){var t=[];bc(t,wr,e,ui(e)),cc(Qp,t)}}function Zp(e,t,n){e==="focusin"?(Pa(),ar=t,wr=n,ar.attachEvent("onpropertychange",Tc)):e==="focusout"&&Pa()}function qp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nl(wr)}function Jp(e,t){if(e==="click")return nl(t)}function em(e,t){if(e==="input"||e==="change")return nl(t)}function tm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:tm;function Sr(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!so.call(t,s)||!rt(e[s],t[s]))return!1}return!0}function Ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ma(e,t){var n=Ca(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ca(n)}}function Lc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rc(){for(var e=window,t=Ss();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ss(e.document)}return t}function vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nm(e){var t=Rc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Lc(n.ownerDocument.documentElement,n)){if(r!==null&&vi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=Ma(n,l);var i=Ma(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rm=ht&&"documentMode"in document&&11>=document.documentMode,hn=null,jo=null,ur=null,Eo=!1;function ba(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Eo||hn==null||hn!==Ss(r)||(r=hn,"selectionStart"in r&&vi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ur&&Sr(ur,r)||(ur=r,r=Ms(jo,"onSelect"),0<r.length&&(t=new hi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hn)))}function Xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gn={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionend:Xr("Transition","TransitionEnd")},Rl={},Ic={};ht&&(Ic=document.createElement("div").style,"AnimationEvent"in window||(delete gn.animationend.animation,delete gn.animationiteration.animation,delete gn.animationstart.animation),"TransitionEvent"in window||delete gn.transitionend.transition);function rl(e){if(Rl[e])return Rl[e];if(!gn[e])return e;var t=gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ic)return Rl[e]=t[n];return e}var Fc=rl("animationend"),Dc=rl("animationiteration"),Ac=rl("animationstart"),Oc=rl("transitionend"),zc=new Map,_a="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ot(e,t){zc.set(e,t),nn(t,[e])}for(var Il=0;Il<_a.length;Il++){var Fl=_a[Il],sm=Fl.toLowerCase(),lm=Fl[0].toUpperCase()+Fl.slice(1);Ot(sm,"on"+lm)}Ot(Fc,"onAnimationEnd");Ot(Dc,"onAnimationIteration");Ot(Ac,"onAnimationStart");Ot("dblclick","onDoubleClick");Ot("focusin","onFocus");Ot("focusout","onBlur");Ot(Oc,"onTransitionEnd");_n("onMouseEnter",["mouseout","mouseover"]);_n("onMouseLeave",["mouseout","mouseover"]);_n("onPointerEnter",["pointerout","pointerover"]);_n("onPointerLeave",["pointerout","pointerover"]);nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),om=new Set("cancel close invalid load scroll toggle".split(" ").concat(rr));function Ta(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sp(r,t,void 0,e),e.currentTarget=null}function $c(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==l&&s.isPropagationStopped())break e;Ta(s,a,c),l=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,c=a.currentTarget,a=a.listener,u!==l&&s.isPropagationStopped())break e;Ta(s,a,c),l=u}}}if(Ns)throw e=wo,Ns=!1,wo=null,e}function J(e,t){var n=t[_o];n===void 0&&(n=t[_o]=new Set);var r=e+"__bubble";n.has(r)||(Uc(t,e,2,!1),n.add(r))}function Dl(e,t,n){var r=0;t&&(r|=4),Uc(n,e,r,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function kr(e){if(!e[Kr]){e[Kr]=!0,Ku.forEach(function(n){n!=="selectionchange"&&(om.has(n)||Dl(n,!1,e),Dl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kr]||(t[Kr]=!0,Dl("selectionchange",!1,t))}}function Uc(e,t,n,r){switch(jc(t)){case 1:var s=wp;break;case 4:s=Sp;break;default:s=pi}n=s.bind(null,t,n,e),s=void 0,!yo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Al(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Ht(a),i===null)return;if(u=i.tag,u===5||u===6){r=l=i;continue e}a=a.parentNode}}r=r.return}cc(function(){var c=l,m=ui(n),x=[];e:{var f=zc.get(e);if(f!==void 0){var y=hi,w=e;switch(e){case"keypress":if(fs(n)===0)break e;case"keydown":case"keyup":y=Dp;break;case"focusin":w="focus",y=_l;break;case"focusout":w="blur",y=_l;break;case"beforeblur":case"afterblur":y=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ya;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=zp;break;case Fc:case Dc:case Ac:y=Cp;break;case Oc:y=Up;break;case"scroll":y=kp;break;case"wheel":y=Bp;break;case"copy":case"cut":case"paste":y=bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Sa}var S=(t&4)!==0,k=!S&&e==="scroll",p=S?f!==null?f+"Capture":null:f;S=[];for(var d=c,g;d!==null;){g=d;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,p!==null&&(v=gr(d,p),v!=null&&S.push(Nr(d,v,g)))),k)break;d=d.return}0<S.length&&(f=new y(f,w,null,n,m),x.push({event:f,listeners:S}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&n!==xo&&(w=n.relatedTarget||n.fromElement)&&(Ht(w)||w[gt]))break e;if((y||f)&&(f=m.window===m?m:(f=m.ownerDocument)?f.defaultView||f.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=c,w=w?Ht(w):null,w!==null&&(k=rn(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=c),y!==w)){if(S=ya,v="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(S=Sa,v="onPointerLeave",p="onPointerEnter",d="pointer"),k=y==null?f:xn(y),g=w==null?f:xn(w),f=new S(v,d+"leave",y,n,m),f.target=k,f.relatedTarget=g,v=null,Ht(m)===c&&(S=new S(p,d+"enter",w,n,m),S.target=g,S.relatedTarget=k,v=S),k=v,y&&w)t:{for(S=y,p=w,d=0,g=S;g;g=an(g))d++;for(g=0,v=p;v;v=an(v))g++;for(;0<d-g;)S=an(S),d--;for(;0<g-d;)p=an(p),g--;for(;d--;){if(S===p||p!==null&&S===p.alternate)break t;S=an(S),p=an(p)}S=null}else S=null;y!==null&&La(x,f,y,S,!1),w!==null&&k!==null&&La(x,k,w,S,!0)}}e:{if(f=c?xn(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var P=Yp;else if(ja(f))if(_c)P=em;else{P=qp;var _=Zp}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=Jp);if(P&&(P=P(e,c))){bc(x,P,n,m);break e}_&&_(e,f,c),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&fo(f,"number",f.value)}switch(_=c?xn(c):window,e){case"focusin":(ja(_)||_.contentEditable==="true")&&(hn=_,jo=c,ur=null);break;case"focusout":ur=jo=hn=null;break;case"mousedown":Eo=!0;break;case"contextmenu":case"mouseup":case"dragend":Eo=!1,ba(x,n,m);break;case"selectionchange":if(rm)break;case"keydown":case"keyup":ba(x,n,m)}var N;if(xi)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else mn?Cc(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Pc&&n.locale!=="ko"&&(mn||j!=="onCompositionStart"?j==="onCompositionEnd"&&mn&&(N=Ec()):(Pt=m,mi="value"in Pt?Pt.value:Pt.textContent,mn=!0)),_=Ms(c,j),0<_.length&&(j=new wa(j,e,null,n,m),x.push({event:j,listeners:_}),N?j.data=N:(N=Mc(n),N!==null&&(j.data=N)))),(N=Hp?Gp(e,n):Xp(e,n))&&(c=Ms(c,"onBeforeInput"),0<c.length&&(m=new wa("onBeforeInput","beforeinput",null,n,m),x.push({event:m,listeners:c}),m.data=N))}$c(x,t)})}function Nr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ms(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=gr(e,n),l!=null&&r.unshift(Nr(e,l,s)),l=gr(e,t),l!=null&&r.push(Nr(e,l,s))),e=e.return}return r}function an(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function La(e,t,n,r,s){for(var l=t._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=gr(n,l),u!=null&&i.unshift(Nr(n,u,a))):s||(u=gr(n,l),u!=null&&i.push(Nr(n,u,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var im=/\r\n?/g,am=/\u0000|\uFFFD/g;function Ra(e){return(typeof e=="string"?e:""+e).replace(im,`
`).replace(am,"")}function Qr(e,t,n){if(t=Ra(t),Ra(e)!==t&&n)throw Error(R(425))}function bs(){}var Po=null,Co=null;function Mo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bo=typeof setTimeout=="function"?setTimeout:void 0,um=typeof clearTimeout=="function"?clearTimeout:void 0,Ia=typeof Promise=="function"?Promise:void 0,cm=typeof queueMicrotask=="function"?queueMicrotask:typeof Ia<"u"?function(e){return Ia.resolve(null).then(e).catch(dm)}:bo;function dm(e){setTimeout(function(){throw e})}function Ol(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),yr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);yr(t)}function Tt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zn=Math.random().toString(36).slice(2),ot="__reactFiber$"+zn,jr="__reactProps$"+zn,gt="__reactContainer$"+zn,_o="__reactEvents$"+zn,fm="__reactListeners$"+zn,pm="__reactHandles$"+zn;function Ht(e){var t=e[ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gt]||n[ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fa(e);e!==null;){if(n=e[ot])return n;e=Fa(e)}return t}e=n,n=e.parentNode}return null}function Ir(e){return e=e[ot]||e[gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function sl(e){return e[jr]||null}var To=[],vn=-1;function zt(e){return{current:e}}function ee(e){0>vn||(e.current=To[vn],To[vn]=null,vn--)}function q(e,t){vn++,To[vn]=e.current,e.current=t}var At={},Pe=zt(At),Ie=zt(!1),Zt=At;function Tn(e,t){var n=e.type.contextTypes;if(!n)return At;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(e){return e=e.childContextTypes,e!=null}function _s(){ee(Ie),ee(Pe)}function Da(e,t,n){if(Pe.current!==At)throw Error(R(168));q(Pe,t),q(Ie,n)}function Vc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,Zf(e)||"Unknown",s));return oe({},n,r)}function Ts(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||At,Zt=Pe.current,q(Pe,e),q(Ie,Ie.current),!0}function Aa(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=Vc(e,t,Zt),r.__reactInternalMemoizedMergedChildContext=e,ee(Ie),ee(Pe),q(Pe,e)):ee(Ie),q(Ie,n)}var dt=null,ll=!1,zl=!1;function Bc(e){dt===null?dt=[e]:dt.push(e)}function mm(e){ll=!0,Bc(e)}function $t(){if(!zl&&dt!==null){zl=!0;var e=0,t=Y;try{var n=dt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}dt=null,ll=!1}catch(s){throw dt!==null&&(dt=dt.slice(e+1)),mc(ci,$t),s}finally{Y=t,zl=!1}}return null}var yn=[],wn=0,Ls=null,Rs=0,He=[],Ge=0,qt=null,ft=1,pt="";function Vt(e,t){yn[wn++]=Rs,yn[wn++]=Ls,Ls=e,Rs=t}function Wc(e,t,n){He[Ge++]=ft,He[Ge++]=pt,He[Ge++]=qt,qt=e;var r=ft;e=pt;var s=32-tt(r)-1;r&=~(1<<s),n+=1;var l=32-tt(t)+s;if(30<l){var i=s-s%5;l=(r&(1<<i)-1).toString(32),r>>=i,s-=i,ft=1<<32-tt(t)+s|n<<s|r,pt=l+e}else ft=1<<l|n<<s|r,pt=e}function yi(e){e.return!==null&&(Vt(e,1),Wc(e,1,0))}function wi(e){for(;e===Ls;)Ls=yn[--wn],yn[wn]=null,Rs=yn[--wn],yn[wn]=null;for(;e===qt;)qt=He[--Ge],He[Ge]=null,pt=He[--Ge],He[Ge]=null,ft=He[--Ge],He[Ge]=null}var ze=null,Oe=null,te=!1,et=null;function Hc(e,t){var n=Xe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Oa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ze=e,Oe=Tt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ze=e,Oe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qt!==null?{id:ft,overflow:pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ze=e,Oe=null,!0):!1;default:return!1}}function Lo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ro(e){if(te){var t=Oe;if(t){var n=t;if(!Oa(e,t)){if(Lo(e))throw Error(R(418));t=Tt(n.nextSibling);var r=ze;t&&Oa(e,t)?Hc(r,n):(e.flags=e.flags&-4097|2,te=!1,ze=e)}}else{if(Lo(e))throw Error(R(418));e.flags=e.flags&-4097|2,te=!1,ze=e}}}function za(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ze=e}function Yr(e){if(e!==ze)return!1;if(!te)return za(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mo(e.type,e.memoizedProps)),t&&(t=Oe)){if(Lo(e))throw Gc(),Error(R(418));for(;t;)Hc(e,t),t=Tt(t.nextSibling)}if(za(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Oe=Tt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Oe=null}}else Oe=ze?Tt(e.stateNode.nextSibling):null;return!0}function Gc(){for(var e=Oe;e;)e=Tt(e.nextSibling)}function Ln(){Oe=ze=null,te=!1}function Si(e){et===null?et=[e]:et.push(e)}var hm=yt.ReactCurrentBatchConfig;function Kn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var a=s.refs;i===null?delete a[l]:a[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function Zr(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){var t=e._init;return t(e._payload)}function Xc(e){function t(p,d){if(e){var g=p.deletions;g===null?(p.deletions=[d],p.flags|=16):g.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function s(p,d){return p=Ft(p,d),p.index=0,p.sibling=null,p}function l(p,d,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<d?(p.flags|=2,d):g):(p.flags|=2,d)):(p.flags|=1048576,d)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,d,g,v){return d===null||d.tag!==6?(d=Gl(g,p.mode,v),d.return=p,d):(d=s(d,g),d.return=p,d)}function u(p,d,g,v){var P=g.type;return P===pn?m(p,d,g.props.children,v,g.key):d!==null&&(d.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===kt&&$a(P)===d.type)?(v=s(d,g.props),v.ref=Kn(p,d,g),v.return=p,v):(v=ys(g.type,g.key,g.props,null,p.mode,v),v.ref=Kn(p,d,g),v.return=p,v)}function c(p,d,g,v){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=Xl(g,p.mode,v),d.return=p,d):(d=s(d,g.children||[]),d.return=p,d)}function m(p,d,g,v,P){return d===null||d.tag!==7?(d=Yt(g,p.mode,v,P),d.return=p,d):(d=s(d,g),d.return=p,d)}function x(p,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Gl(""+d,p.mode,g),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case $r:return g=ys(d.type,d.key,d.props,null,p.mode,g),g.ref=Kn(p,null,d),g.return=p,g;case fn:return d=Xl(d,p.mode,g),d.return=p,d;case kt:var v=d._init;return x(p,v(d._payload),g)}if(tr(d)||Bn(d))return d=Yt(d,p.mode,g,null),d.return=p,d;Zr(p,d)}return null}function f(p,d,g,v){var P=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return P!==null?null:a(p,d,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $r:return g.key===P?u(p,d,g,v):null;case fn:return g.key===P?c(p,d,g,v):null;case kt:return P=g._init,f(p,d,P(g._payload),v)}if(tr(g)||Bn(g))return P!==null?null:m(p,d,g,v,null);Zr(p,g)}return null}function y(p,d,g,v,P){if(typeof v=="string"&&v!==""||typeof v=="number")return p=p.get(g)||null,a(d,p,""+v,P);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $r:return p=p.get(v.key===null?g:v.key)||null,u(d,p,v,P);case fn:return p=p.get(v.key===null?g:v.key)||null,c(d,p,v,P);case kt:var _=v._init;return y(p,d,g,_(v._payload),P)}if(tr(v)||Bn(v))return p=p.get(g)||null,m(d,p,v,P,null);Zr(d,v)}return null}function w(p,d,g,v){for(var P=null,_=null,N=d,j=d=0,b=null;N!==null&&j<g.length;j++){N.index>j?(b=N,N=null):b=N.sibling;var C=f(p,N,g[j],v);if(C===null){N===null&&(N=b);break}e&&N&&C.alternate===null&&t(p,N),d=l(C,d,j),_===null?P=C:_.sibling=C,_=C,N=b}if(j===g.length)return n(p,N),te&&Vt(p,j),P;if(N===null){for(;j<g.length;j++)N=x(p,g[j],v),N!==null&&(d=l(N,d,j),_===null?P=N:_.sibling=N,_=N);return te&&Vt(p,j),P}for(N=r(p,N);j<g.length;j++)b=y(N,p,j,g[j],v),b!==null&&(e&&b.alternate!==null&&N.delete(b.key===null?j:b.key),d=l(b,d,j),_===null?P=b:_.sibling=b,_=b);return e&&N.forEach(function(E){return t(p,E)}),te&&Vt(p,j),P}function S(p,d,g,v){var P=Bn(g);if(typeof P!="function")throw Error(R(150));if(g=P.call(g),g==null)throw Error(R(151));for(var _=P=null,N=d,j=d=0,b=null,C=g.next();N!==null&&!C.done;j++,C=g.next()){N.index>j?(b=N,N=null):b=N.sibling;var E=f(p,N,C.value,v);if(E===null){N===null&&(N=b);break}e&&N&&E.alternate===null&&t(p,N),d=l(E,d,j),_===null?P=E:_.sibling=E,_=E,N=b}if(C.done)return n(p,N),te&&Vt(p,j),P;if(N===null){for(;!C.done;j++,C=g.next())C=x(p,C.value,v),C!==null&&(d=l(C,d,j),_===null?P=C:_.sibling=C,_=C);return te&&Vt(p,j),P}for(N=r(p,N);!C.done;j++,C=g.next())C=y(N,p,j,C.value,v),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?j:C.key),d=l(C,d,j),_===null?P=C:_.sibling=C,_=C);return e&&N.forEach(function(T){return t(p,T)}),te&&Vt(p,j),P}function k(p,d,g,v){if(typeof g=="object"&&g!==null&&g.type===pn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case $r:e:{for(var P=g.key,_=d;_!==null;){if(_.key===P){if(P=g.type,P===pn){if(_.tag===7){n(p,_.sibling),d=s(_,g.props.children),d.return=p,p=d;break e}}else if(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===kt&&$a(P)===_.type){n(p,_.sibling),d=s(_,g.props),d.ref=Kn(p,_,g),d.return=p,p=d;break e}n(p,_);break}else t(p,_);_=_.sibling}g.type===pn?(d=Yt(g.props.children,p.mode,v,g.key),d.return=p,p=d):(v=ys(g.type,g.key,g.props,null,p.mode,v),v.ref=Kn(p,d,g),v.return=p,p=v)}return i(p);case fn:e:{for(_=g.key;d!==null;){if(d.key===_)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(p,d.sibling),d=s(d,g.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=Xl(g,p.mode,v),d.return=p,p=d}return i(p);case kt:return _=g._init,k(p,d,_(g._payload),v)}if(tr(g))return w(p,d,g,v);if(Bn(g))return S(p,d,g,v);Zr(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(p,d.sibling),d=s(d,g),d.return=p,p=d):(n(p,d),d=Gl(g,p.mode,v),d.return=p,p=d),i(p)):n(p,d)}return k}var Rn=Xc(!0),Kc=Xc(!1),Is=zt(null),Fs=null,Sn=null,ki=null;function Ni(){ki=Sn=Fs=null}function ji(e){var t=Is.current;ee(Is),e._currentValue=t}function Io(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Mn(e,t){Fs=e,ki=Sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Re=!0),e.firstContext=null)}function Qe(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},Sn===null){if(Fs===null)throw Error(R(308));Sn=e,Fs.dependencies={lanes:0,firstContext:e}}else Sn=Sn.next=e;return t}var Gt=null;function Ei(e){Gt===null?Gt=[e]:Gt.push(e)}function Qc(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ei(t)):(n.next=s.next,s.next=n),t.interleaved=n,xt(e,r)}function xt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nt=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xt(e,n)}return s=r.interleaved,s===null?(t.next=t,Ei(r)):(t.next=s.next,s.next=t),r.interleaved=t,xt(e,n)}function ps(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,di(e,n)}}function Ua(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ds(e,t,n,r){var s=e.updateQueue;Nt=!1;var l=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,i===null?l=c:i.next=c,i=u;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==i&&(a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=u))}if(l!==null){var x=s.baseState;i=0,m=c=u=null,a=l;do{var f=a.lane,y=a.eventTime;if((r&f)===f){m!==null&&(m=m.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,S=a;switch(f=t,y=n,S.tag){case 1:if(w=S.payload,typeof w=="function"){x=w.call(y,x,f);break e}x=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,f=typeof w=="function"?w.call(y,x,f):w,f==null)break e;x=oe({},x,f);break e;case 2:Nt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(c=m=y,u=x):m=m.next=y,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(m===null&&(u=x),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);en|=i,e.lanes=i,e.memoizedState=x}}function Va(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var Fr={},at=zt(Fr),Er=zt(Fr),Pr=zt(Fr);function Xt(e){if(e===Fr)throw Error(R(174));return e}function Ci(e,t){switch(q(Pr,t),q(Er,e),q(at,Fr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mo(t,e)}ee(at),q(at,t)}function In(){ee(at),ee(Er),ee(Pr)}function Zc(e){Xt(Pr.current);var t=Xt(at.current),n=mo(t,e.type);t!==n&&(q(Er,e),q(at,n))}function Mi(e){Er.current===e&&(ee(at),ee(Er))}var se=zt(0);function As(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $l=[];function bi(){for(var e=0;e<$l.length;e++)$l[e]._workInProgressVersionPrimary=null;$l.length=0}var ms=yt.ReactCurrentDispatcher,Ul=yt.ReactCurrentBatchConfig,Jt=0,le=null,pe=null,he=null,Os=!1,cr=!1,Cr=0,gm=0;function Ne(){throw Error(R(321))}function _i(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rt(e[n],t[n]))return!1;return!0}function Ti(e,t,n,r,s,l){if(Jt=l,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ms.current=e===null||e.memoizedState===null?wm:Sm,e=n(r,s),cr){l=0;do{if(cr=!1,Cr=0,25<=l)throw Error(R(301));l+=1,he=pe=null,t.updateQueue=null,ms.current=km,e=n(r,s)}while(cr)}if(ms.current=zs,t=pe!==null&&pe.next!==null,Jt=0,he=pe=le=null,Os=!1,t)throw Error(R(300));return e}function Li(){var e=Cr!==0;return Cr=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?le.memoizedState=he=e:he=he.next=e,he}function Ye(){if(pe===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=he===null?le.memoizedState:he.next;if(t!==null)he=t,pe=e;else{if(e===null)throw Error(R(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},he===null?le.memoizedState=he=e:he=he.next=e}return he}function Mr(e,t){return typeof t=="function"?t(e):t}function Vl(e){var t=Ye(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=pe,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var i=s.next;s.next=l.next,l.next=i}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var a=i=null,u=null,c=l;do{var m=c.lane;if((Jt&m)===m)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var x={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=x,i=r):u=u.next=x,le.lanes|=m,en|=m}c=c.next}while(c!==null&&c!==l);u===null?i=r:u.next=a,rt(r,t.memoizedState)||(Re=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,le.lanes|=l,en|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bl(e){var t=Ye(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do l=e(l,i.action),i=i.next;while(i!==s);rt(l,t.memoizedState)||(Re=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function qc(){}function Jc(e,t){var n=le,r=Ye(),s=t(),l=!rt(r.memoizedState,s);if(l&&(r.memoizedState=s,Re=!0),r=r.queue,Ri(nd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,br(9,td.bind(null,n,r,s,t),void 0,null),ge===null)throw Error(R(349));Jt&30||ed(n,t,s)}return s}function ed(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function td(e,t,n,r){t.value=n,t.getSnapshot=r,rd(t)&&sd(e)}function nd(e,t,n){return n(function(){rd(t)&&sd(e)})}function rd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rt(e,n)}catch{return!0}}function sd(e){var t=xt(e,1);t!==null&&nt(t,e,1,-1)}function Ba(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:e},t.queue=e,e=e.dispatch=ym.bind(null,le,e),[t.memoizedState,e]}function br(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ld(){return Ye().memoizedState}function hs(e,t,n,r){var s=lt();le.flags|=e,s.memoizedState=br(1|t,n,void 0,r===void 0?null:r)}function ol(e,t,n,r){var s=Ye();r=r===void 0?null:r;var l=void 0;if(pe!==null){var i=pe.memoizedState;if(l=i.destroy,r!==null&&_i(r,i.deps)){s.memoizedState=br(t,n,l,r);return}}le.flags|=e,s.memoizedState=br(1|t,n,l,r)}function Wa(e,t){return hs(8390656,8,e,t)}function Ri(e,t){return ol(2048,8,e,t)}function od(e,t){return ol(4,2,e,t)}function id(e,t){return ol(4,4,e,t)}function ad(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ud(e,t,n){return n=n!=null?n.concat([e]):null,ol(4,4,ad.bind(null,t,e),n)}function Ii(){}function cd(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_i(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dd(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_i(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fd(e,t,n){return Jt&21?(rt(n,t)||(n=xc(),le.lanes|=n,en|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Re=!0),e.memoizedState=n)}function xm(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=Ul.transition;Ul.transition={};try{e(!1),t()}finally{Y=n,Ul.transition=r}}function pd(){return Ye().memoizedState}function vm(e,t,n){var r=It(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},md(e))hd(t,n);else if(n=Qc(e,t,n,r),n!==null){var s=be();nt(n,e,r,s),gd(n,t,r)}}function ym(e,t,n){var r=It(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(md(e))hd(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,a=l(i,n);if(s.hasEagerState=!0,s.eagerState=a,rt(a,i)){var u=t.interleaved;u===null?(s.next=s,Ei(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Qc(e,t,s,r),n!==null&&(s=be(),nt(n,e,r,s),gd(n,t,r))}}function md(e){var t=e.alternate;return e===le||t!==null&&t===le}function hd(e,t){cr=Os=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,di(e,n)}}var zs={readContext:Qe,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},wm={readContext:Qe,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Qe,useEffect:Wa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hs(4194308,4,ad.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hs(4194308,4,e,t)},useInsertionEffect:function(e,t){return hs(4,2,e,t)},useMemo:function(e,t){var n=lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vm.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:Ba,useDebugValue:Ii,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=Ba(!1),t=e[0];return e=xm.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=le,s=lt();if(te){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),ge===null)throw Error(R(349));Jt&30||ed(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,Wa(nd.bind(null,r,l,e),[e]),r.flags|=2048,br(9,td.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=lt(),t=ge.identifierPrefix;if(te){var n=pt,r=ft;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Cr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sm={readContext:Qe,useCallback:cd,useContext:Qe,useEffect:Ri,useImperativeHandle:ud,useInsertionEffect:od,useLayoutEffect:id,useMemo:dd,useReducer:Vl,useRef:ld,useState:function(){return Vl(Mr)},useDebugValue:Ii,useDeferredValue:function(e){var t=Ye();return fd(t,pe.memoizedState,e)},useTransition:function(){var e=Vl(Mr)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:qc,useSyncExternalStore:Jc,useId:pd,unstable_isNewReconciler:!1},km={readContext:Qe,useCallback:cd,useContext:Qe,useEffect:Ri,useImperativeHandle:ud,useInsertionEffect:od,useLayoutEffect:id,useMemo:dd,useReducer:Bl,useRef:ld,useState:function(){return Bl(Mr)},useDebugValue:Ii,useDeferredValue:function(e){var t=Ye();return pe===null?t.memoizedState=e:fd(t,pe.memoizedState,e)},useTransition:function(){var e=Bl(Mr)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:qc,useSyncExternalStore:Jc,useId:pd,unstable_isNewReconciler:!1};function qe(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var il={isMounted:function(e){return(e=e._reactInternals)?rn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=be(),s=It(e),l=mt(r,s);l.payload=t,n!=null&&(l.callback=n),t=Lt(e,l,s),t!==null&&(nt(t,e,s,r),ps(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=be(),s=It(e),l=mt(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Lt(e,l,s),t!==null&&(nt(t,e,s,r),ps(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=be(),r=It(e),s=mt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Lt(e,s,r),t!==null&&(nt(t,e,r,n),ps(t,e,r))}};function Ha(e,t,n,r,s,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!Sr(n,r)||!Sr(s,l):!0}function xd(e,t,n){var r=!1,s=At,l=t.contextType;return typeof l=="object"&&l!==null?l=Qe(l):(s=Fe(t)?Zt:Pe.current,r=t.contextTypes,l=(r=r!=null)?Tn(e,s):At),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=il,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Ga(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&il.enqueueReplaceState(t,t.state,null)}function Do(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Pi(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Qe(l):(l=Fe(t)?Zt:Pe.current,s.context=Tn(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Fo(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&il.enqueueReplaceState(s,s.state,null),Ds(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fn(e,t){try{var n="",r=t;do n+=Yf(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Wl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ao(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Nm=typeof WeakMap=="function"?WeakMap:Map;function vd(e,t,n){n=mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Us||(Us=!0,Xo=r),Ao(e,t)},n}function yd(e,t,n){n=mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ao(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Ao(e,t),typeof r!="function"&&(Rt===null?Rt=new Set([this]):Rt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Xa(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Nm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Am.bind(null,e,t,n),t.then(e,e))}function Ka(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qa(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mt(-1,1),t.tag=2,Lt(n,t,1))),n.lanes|=1),e)}var jm=yt.ReactCurrentOwner,Re=!1;function Me(e,t,n,r){t.child=e===null?Kc(t,null,n,r):Rn(t,e.child,n,r)}function Ya(e,t,n,r,s){n=n.render;var l=t.ref;return Mn(t,s),r=Ti(e,t,n,r,l,s),n=Li(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vt(e,t,s)):(te&&n&&yi(t),t.flags|=1,Me(e,t,r,s),t.child)}function Za(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!Vi(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,wd(e,t,l,r,s)):(e=ys(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:Sr,n(i,r)&&e.ref===t.ref)return vt(e,t,s)}return t.flags|=1,e=Ft(l,r),e.ref=t.ref,e.return=t,t.child=e}function wd(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(Sr(l,r)&&e.ref===t.ref)if(Re=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(Re=!0);else return t.lanes=e.lanes,vt(e,t,s)}return Oo(e,t,n,r,s)}function Sd(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Nn,Ae),Ae|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(Nn,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,q(Nn,Ae),Ae|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,q(Nn,Ae),Ae|=r;return Me(e,t,s,n),t.child}function kd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Oo(e,t,n,r,s){var l=Fe(n)?Zt:Pe.current;return l=Tn(t,l),Mn(t,s),n=Ti(e,t,n,r,l,s),r=Li(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vt(e,t,s)):(te&&r&&yi(t),t.flags|=1,Me(e,t,n,s),t.child)}function qa(e,t,n,r,s){if(Fe(n)){var l=!0;Ts(t)}else l=!1;if(Mn(t,s),t.stateNode===null)gs(e,t),xd(t,n,r),Do(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qe(c):(c=Fe(n)?Zt:Pe.current,c=Tn(t,c));var m=n.getDerivedStateFromProps,x=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Ga(t,i,r,c),Nt=!1;var f=t.memoizedState;i.state=f,Ds(t,r,i,s),u=t.memoizedState,a!==r||f!==u||Ie.current||Nt?(typeof m=="function"&&(Fo(t,n,m,r),u=t.memoizedState),(a=Nt||Ha(t,n,a,r,f,u,c))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Yc(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:qe(t.type,a),i.props=c,x=t.pendingProps,f=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=Qe(u):(u=Fe(n)?Zt:Pe.current,u=Tn(t,u));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==x||f!==u)&&Ga(t,i,r,u),Nt=!1,f=t.memoizedState,i.state=f,Ds(t,r,i,s);var w=t.memoizedState;a!==x||f!==w||Ie.current||Nt?(typeof y=="function"&&(Fo(t,n,y,r),w=t.memoizedState),(c=Nt||Ha(t,n,c,r,f,w,u)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return zo(e,t,n,r,l,s)}function zo(e,t,n,r,s,l){kd(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Aa(t,n,!1),vt(e,t,l);r=t.stateNode,jm.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Rn(t,e.child,null,l),t.child=Rn(t,null,a,l)):Me(e,t,a,l),t.memoizedState=r.state,s&&Aa(t,n,!0),t.child}function Nd(e){var t=e.stateNode;t.pendingContext?Da(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(e,t.context,!1),Ci(e,t.containerInfo)}function Ja(e,t,n,r,s){return Ln(),Si(s),t.flags|=256,Me(e,t,n,r),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0};function Uo(e){return{baseLanes:e,cachePool:null,transitions:null}}function jd(e,t,n){var r=t.pendingProps,s=se.current,l=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),q(se,s&1),e===null)return Ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=cl(i,r,0,null),e=Yt(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Uo(n),t.memoizedState=$o,e):Fi(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Em(e,t,i,r,a,s,n);if(l){l=r.fallback,i=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ft(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?l=Ft(a,l):(l=Yt(l,i,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?Uo(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=$o,r}return l=e.child,e=l.sibling,r=Ft(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fi(e,t){return t=cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qr(e,t,n,r){return r!==null&&Si(r),Rn(t,e.child,null,n),e=Fi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Em(e,t,n,r,s,l,i){if(n)return t.flags&256?(t.flags&=-257,r=Wl(Error(R(422))),qr(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=cl({mode:"visible",children:r.children},s,0,null),l=Yt(l,s,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Rn(t,e.child,null,i),t.child.memoizedState=Uo(i),t.memoizedState=$o,l);if(!(t.mode&1))return qr(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,l=Error(R(419)),r=Wl(l,r,void 0),qr(e,t,i,r)}if(a=(i&e.childLanes)!==0,Re||a){if(r=ge,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,xt(e,s),nt(r,e,s,-1))}return Ui(),r=Wl(Error(R(421))),qr(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Om.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Oe=Tt(s.nextSibling),ze=t,te=!0,et=null,e!==null&&(He[Ge++]=ft,He[Ge++]=pt,He[Ge++]=qt,ft=e.id,pt=e.overflow,qt=t),t=Fi(t,r.children),t.flags|=4096,t)}function eu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Io(e.return,t,n)}function Hl(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function Ed(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(Me(e,t,r.children,n),r=se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eu(e,n,t);else if(e.tag===19)eu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(q(se,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&As(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Hl(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&As(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Hl(t,!0,n,null,l);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),en|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pm(e,t,n){switch(t.tag){case 3:Nd(t),Ln();break;case 5:Zc(t);break;case 1:Fe(t.type)&&Ts(t);break;case 4:Ci(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;q(Is,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(q(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?jd(e,t,n):(q(se,se.current&1),e=vt(e,t,n),e!==null?e.sibling:null);q(se,se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ed(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(se,se.current),r)break;return null;case 22:case 23:return t.lanes=0,Sd(e,t,n)}return vt(e,t,n)}var Pd,Vo,Cd,Md;Pd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vo=function(){};Cd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Xt(at.current);var l=null;switch(n){case"input":s=uo(e,s),r=uo(e,r),l=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),l=[];break;case"textarea":s=po(e,s),r=po(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bs)}ho(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mr.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(l||(l=[]),l.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(l=l||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&J("scroll",e),l||a===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};Md=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qn(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cm(e,t,n){var r=t.pendingProps;switch(wi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return Fe(t.type)&&_s(),je(t),null;case 3:return r=t.stateNode,In(),ee(Ie),ee(Pe),bi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(Yo(et),et=null))),Vo(e,t),je(t),null;case 5:Mi(t);var s=Xt(Pr.current);if(n=t.type,e!==null&&t.stateNode!=null)Cd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return je(t),null}if(e=Xt(at.current),Yr(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[ot]=t,r[jr]=l,e=(t.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(s=0;s<rr.length;s++)J(rr[s],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":ua(r,l),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},J("invalid",r);break;case"textarea":da(r,l),J("invalid",r)}ho(n,l),s=null;for(var i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="children"?typeof a=="string"?r.textContent!==a&&(l.suppressHydrationWarning!==!0&&Qr(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(l.suppressHydrationWarning!==!0&&Qr(r.textContent,a,e),s=["children",""+a]):mr.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&J("scroll",r)}switch(n){case"input":Ur(r),ca(r,l,!0);break;case"textarea":Ur(r),fa(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=bs)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[ot]=t,e[jr]=r,Pd(e,t,!1,!1),t.stateNode=e;e:{switch(i=go(n,r),n){case"dialog":J("cancel",e),J("close",e),s=r;break;case"iframe":case"object":case"embed":J("load",e),s=r;break;case"video":case"audio":for(s=0;s<rr.length;s++)J(rr[s],e);s=r;break;case"source":J("error",e),s=r;break;case"img":case"image":case"link":J("error",e),J("load",e),s=r;break;case"details":J("toggle",e),s=r;break;case"input":ua(e,r),s=uo(e,r),J("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),J("invalid",e);break;case"textarea":da(e,r),s=po(e,r),J("invalid",e);break;default:s=r}ho(n,s),a=s;for(l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="style"?lc(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&rc(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&hr(e,u):typeof u=="number"&&hr(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(mr.hasOwnProperty(l)?u!=null&&l==="onScroll"&&J("scroll",e):u!=null&&li(e,l,u,i))}switch(n){case"input":Ur(e),ca(e,r,!1);break;case"textarea":Ur(e),fa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dt(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?jn(e,!!r.multiple,l,!1):r.defaultValue!=null&&jn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)Md(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=Xt(Pr.current),Xt(at.current),Yr(t)){if(r=t.stateNode,n=t.memoizedProps,r[ot]=t,(l=r.nodeValue!==n)&&(e=ze,e!==null))switch(e.tag){case 3:Qr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qr(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ot]=t,t.stateNode=r}return je(t),null;case 13:if(ee(se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&Oe!==null&&t.mode&1&&!(t.flags&128))Gc(),Ln(),t.flags|=98560,l=!1;else if(l=Yr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(R(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(R(317));l[ot]=t}else Ln(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),l=!1}else et!==null&&(Yo(et),et=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?me===0&&(me=3):Ui())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return In(),Vo(e,t),e===null&&kr(t.stateNode.containerInfo),je(t),null;case 10:return ji(t.type._context),je(t),null;case 17:return Fe(t.type)&&_s(),je(t),null;case 19:if(ee(se),l=t.memoizedState,l===null)return je(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)Qn(l,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=As(e),i!==null){for(t.flags|=128,Qn(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return q(se,se.current&1|2),t.child}e=e.sibling}l.tail!==null&&ce()>Dn&&(t.flags|=128,r=!0,Qn(l,!1),t.lanes=4194304)}else{if(!r)if(e=As(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!te)return je(t),null}else 2*ce()-l.renderingStartTime>Dn&&n!==1073741824&&(t.flags|=128,r=!0,Qn(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ce(),t.sibling=null,n=se.current,q(se,r?n&1|2:n&1),t):(je(t),null);case 22:case 23:return $i(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ae&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Mm(e,t){switch(wi(t),t.tag){case 1:return Fe(t.type)&&_s(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return In(),ee(Ie),ee(Pe),bi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mi(t),null;case 13:if(ee(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(se),null;case 4:return In(),null;case 10:return ji(t.type._context),null;case 22:case 23:return $i(),null;case 24:return null;default:return null}}var Jr=!1,Ee=!1,bm=typeof WeakSet=="function"?WeakSet:Set,U=null;function kn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function Bo(e,t,n){try{n()}catch(r){ue(e,t,r)}}var tu=!1;function _m(e,t){if(Po=Ps,e=Rc(),vi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,c=0,m=0,x=e,f=null;t:for(;;){for(var y;x!==n||s!==0&&x.nodeType!==3||(a=i+s),x!==l||r!==0&&x.nodeType!==3||(u=i+r),x.nodeType===3&&(i+=x.nodeValue.length),(y=x.firstChild)!==null;)f=x,x=y;for(;;){if(x===e)break t;if(f===n&&++c===s&&(a=i),f===l&&++m===r&&(u=i),(y=x.nextSibling)!==null)break;x=f,f=x.parentNode}x=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Co={focusedElem:e,selectionRange:n},Ps=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,k=w.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?S:qe(t.type,S),k);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(v){ue(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return w=tu,tu=!1,w}function dr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Bo(t,n,l)}s=s.next}while(s!==r)}}function al(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Wo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bd(e){var t=e.alternate;t!==null&&(e.alternate=null,bd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ot],delete t[jr],delete t[_o],delete t[fm],delete t[pm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _d(e){return e.tag===5||e.tag===3||e.tag===4}function nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_d(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ho(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bs));else if(r!==4&&(e=e.child,e!==null))for(Ho(e,t,n),e=e.sibling;e!==null;)Ho(e,t,n),e=e.sibling}function Go(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Go(e,t,n),e=e.sibling;e!==null;)Go(e,t,n),e=e.sibling}var we=null,Je=!1;function St(e,t,n){for(n=n.child;n!==null;)Td(e,t,n),n=n.sibling}function Td(e,t,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(el,n)}catch{}switch(n.tag){case 5:Ee||kn(n,t);case 6:var r=we,s=Je;we=null,St(e,t,n),we=r,Je=s,we!==null&&(Je?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(Je?(e=we,n=n.stateNode,e.nodeType===8?Ol(e.parentNode,n):e.nodeType===1&&Ol(e,n),yr(e)):Ol(we,n.stateNode));break;case 4:r=we,s=Je,we=n.stateNode.containerInfo,Je=!0,St(e,t,n),we=r,Je=s;break;case 0:case 11:case 14:case 15:if(!Ee&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Bo(n,t,i),s=s.next}while(s!==r)}St(e,t,n);break;case 1:if(!Ee&&(kn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,t,a)}St(e,t,n);break;case 21:St(e,t,n);break;case 22:n.mode&1?(Ee=(r=Ee)||n.memoizedState!==null,St(e,t,n),Ee=r):St(e,t,n);break;default:St(e,t,n)}}function ru(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new bm),t.forEach(function(r){var s=zm.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ze(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,Je=!1;break e;case 3:we=a.stateNode.containerInfo,Je=!0;break e;case 4:we=a.stateNode.containerInfo,Je=!0;break e}a=a.return}if(we===null)throw Error(R(160));Td(l,i,s),we=null,Je=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ue(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ld(t,e),t=t.sibling}function Ld(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ze(t,e),st(e),r&4){try{dr(3,e,e.return),al(3,e)}catch(S){ue(e,e.return,S)}try{dr(5,e,e.return)}catch(S){ue(e,e.return,S)}}break;case 1:Ze(t,e),st(e),r&512&&n!==null&&kn(n,n.return);break;case 5:if(Ze(t,e),st(e),r&512&&n!==null&&kn(n,n.return),e.flags&32){var s=e.stateNode;try{hr(s,"")}catch(S){ue(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&l.type==="radio"&&l.name!=null&&ec(s,l),go(a,i);var c=go(a,l);for(i=0;i<u.length;i+=2){var m=u[i],x=u[i+1];m==="style"?lc(s,x):m==="dangerouslySetInnerHTML"?rc(s,x):m==="children"?hr(s,x):li(s,m,x,c)}switch(a){case"input":co(s,l);break;case"textarea":tc(s,l);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var y=l.value;y!=null?jn(s,!!l.multiple,y,!1):f!==!!l.multiple&&(l.defaultValue!=null?jn(s,!!l.multiple,l.defaultValue,!0):jn(s,!!l.multiple,l.multiple?[]:"",!1))}s[jr]=l}catch(S){ue(e,e.return,S)}}break;case 6:if(Ze(t,e),st(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(S){ue(e,e.return,S)}}break;case 3:if(Ze(t,e),st(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yr(t.containerInfo)}catch(S){ue(e,e.return,S)}break;case 4:Ze(t,e),st(e);break;case 13:Ze(t,e),st(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Oi=ce())),r&4&&ru(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Ee=(c=Ee)||m,Ze(t,e),Ee=c):Ze(t,e),st(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for(U=e,m=e.child;m!==null;){for(x=U=m;U!==null;){switch(f=U,y=f.child,f.tag){case 0:case 11:case 14:case 15:dr(4,f,f.return);break;case 1:kn(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(S){ue(r,n,S)}}break;case 5:kn(f,f.return);break;case 22:if(f.memoizedState!==null){lu(x);continue}}y!==null?(y.return=f,U=y):lu(x)}m=m.sibling}e:for(m=null,x=e;;){if(x.tag===5){if(m===null){m=x;try{s=x.stateNode,c?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(a=x.stateNode,u=x.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=sc("display",i))}catch(S){ue(e,e.return,S)}}}else if(x.tag===6){if(m===null)try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(S){ue(e,e.return,S)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;m===x&&(m=null),x=x.return}m===x&&(m=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Ze(t,e),st(e),r&4&&ru(e);break;case 21:break;default:Ze(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_d(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(hr(s,""),r.flags&=-33);var l=nu(e);Go(e,l,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=nu(e);Ho(e,a,i);break;default:throw Error(R(161))}}catch(u){ue(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tm(e,t,n){U=e,Rd(e)}function Rd(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var s=U,l=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Jr;if(!i){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Ee;a=Jr;var c=Ee;if(Jr=i,(Ee=u)&&!c)for(U=s;U!==null;)i=U,u=i.child,i.tag===22&&i.memoizedState!==null?ou(s):u!==null?(u.return=i,U=u):ou(s);for(;l!==null;)U=l,Rd(l),l=l.sibling;U=s,Jr=a,Ee=c}su(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,U=l):su(e)}}function su(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ee||al(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ee)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:qe(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Va(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Va(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var x=m.dehydrated;x!==null&&yr(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ee||t.flags&512&&Wo(t)}catch(f){ue(t,t.return,f)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function lu(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function ou(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(u){ue(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){ue(t,s,u)}}var l=t.return;try{Wo(t)}catch(u){ue(t,l,u)}break;case 5:var i=t.return;try{Wo(t)}catch(u){ue(t,i,u)}}}catch(u){ue(t,t.return,u)}if(t===e){U=null;break}var a=t.sibling;if(a!==null){a.return=t.return,U=a;break}U=t.return}}var Lm=Math.ceil,$s=yt.ReactCurrentDispatcher,Di=yt.ReactCurrentOwner,Ke=yt.ReactCurrentBatchConfig,K=0,ge=null,de=null,Se=0,Ae=0,Nn=zt(0),me=0,_r=null,en=0,ul=0,Ai=0,fr=null,Le=null,Oi=0,Dn=1/0,ct=null,Us=!1,Xo=null,Rt=null,es=!1,Ct=null,Vs=0,pr=0,Ko=null,xs=-1,vs=0;function be(){return K&6?ce():xs!==-1?xs:xs=ce()}function It(e){return e.mode&1?K&2&&Se!==0?Se&-Se:hm.transition!==null?(vs===0&&(vs=xc()),vs):(e=Y,e!==0||(e=window.event,e=e===void 0?16:jc(e.type)),e):1}function nt(e,t,n,r){if(50<pr)throw pr=0,Ko=null,Error(R(185));Lr(e,n,r),(!(K&2)||e!==ge)&&(e===ge&&(!(K&2)&&(ul|=n),me===4&&Et(e,Se)),De(e,r),n===1&&K===0&&!(t.mode&1)&&(Dn=ce()+500,ll&&$t()))}function De(e,t){var n=e.callbackNode;hp(e,t);var r=Es(e,e===ge?Se:0);if(r===0)n!==null&&ha(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ha(n),t===1)e.tag===0?mm(iu.bind(null,e)):Bc(iu.bind(null,e)),cm(function(){!(K&6)&&$t()}),n=null;else{switch(vc(r)){case 1:n=ci;break;case 4:n=hc;break;case 16:n=js;break;case 536870912:n=gc;break;default:n=js}n=Ud(n,Id.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Id(e,t){if(xs=-1,vs=0,K&6)throw Error(R(327));var n=e.callbackNode;if(bn()&&e.callbackNode!==n)return null;var r=Es(e,e===ge?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bs(e,r);else{t=r;var s=K;K|=2;var l=Dd();(ge!==e||Se!==t)&&(ct=null,Dn=ce()+500,Qt(e,t));do try{Fm();break}catch(a){Fd(e,a)}while(!0);Ni(),$s.current=l,K=s,de!==null?t=0:(ge=null,Se=0,t=me)}if(t!==0){if(t===2&&(s=So(e),s!==0&&(r=s,t=Qo(e,s))),t===1)throw n=_r,Qt(e,0),Et(e,r),De(e,ce()),n;if(t===6)Et(e,r);else{if(s=e.current.alternate,!(r&30)&&!Rm(s)&&(t=Bs(e,r),t===2&&(l=So(e),l!==0&&(r=l,t=Qo(e,l))),t===1))throw n=_r,Qt(e,0),Et(e,r),De(e,ce()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:Bt(e,Le,ct);break;case 3:if(Et(e,r),(r&130023424)===r&&(t=Oi+500-ce(),10<t)){if(Es(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){be(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bo(Bt.bind(null,e,Le,ct),t);break}Bt(e,Le,ct);break;case 4:if(Et(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-tt(r);l=1<<i,i=t[i],i>s&&(s=i),r&=~l}if(r=s,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lm(r/1960))-r,10<r){e.timeoutHandle=bo(Bt.bind(null,e,Le,ct),r);break}Bt(e,Le,ct);break;case 5:Bt(e,Le,ct);break;default:throw Error(R(329))}}}return De(e,ce()),e.callbackNode===n?Id.bind(null,e):null}function Qo(e,t){var n=fr;return e.current.memoizedState.isDehydrated&&(Qt(e,t).flags|=256),e=Bs(e,t),e!==2&&(t=Le,Le=n,t!==null&&Yo(t)),e}function Yo(e){Le===null?Le=e:Le.push.apply(Le,e)}function Rm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!rt(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Et(e,t){for(t&=~Ai,t&=~ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tt(t),r=1<<n;e[n]=-1,t&=~r}}function iu(e){if(K&6)throw Error(R(327));bn();var t=Es(e,0);if(!(t&1))return De(e,ce()),null;var n=Bs(e,t);if(e.tag!==0&&n===2){var r=So(e);r!==0&&(t=r,n=Qo(e,r))}if(n===1)throw n=_r,Qt(e,0),Et(e,t),De(e,ce()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bt(e,Le,ct),De(e,ce()),null}function zi(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(Dn=ce()+500,ll&&$t())}}function tn(e){Ct!==null&&Ct.tag===0&&!(K&6)&&bn();var t=K;K|=1;var n=Ke.transition,r=Y;try{if(Ke.transition=null,Y=1,e)return e()}finally{Y=r,Ke.transition=n,K=t,!(K&6)&&$t()}}function $i(){Ae=Nn.current,ee(Nn)}function Qt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,um(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(wi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_s();break;case 3:In(),ee(Ie),ee(Pe),bi();break;case 5:Mi(r);break;case 4:In();break;case 13:ee(se);break;case 19:ee(se);break;case 10:ji(r.type._context);break;case 22:case 23:$i()}n=n.return}if(ge=e,de=e=Ft(e.current,null),Se=Ae=t,me=0,_r=null,Ai=ul=en=0,Le=fr=null,Gt!==null){for(t=0;t<Gt.length;t++)if(n=Gt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=s,r.next=i}n.pending=r}Gt=null}return e}function Fd(e,t){do{var n=de;try{if(Ni(),ms.current=zs,Os){for(var r=le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Os=!1}if(Jt=0,he=pe=le=null,cr=!1,Cr=0,Di.current=null,n===null||n.return===null){me=1,_r=t,de=null;break}e:{var l=e,i=n.return,a=n,u=t;if(t=Se,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,m=a,x=m.tag;if(!(m.mode&1)&&(x===0||x===11||x===15)){var f=m.alternate;f?(m.updateQueue=f.updateQueue,m.memoizedState=f.memoizedState,m.lanes=f.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ka(i);if(y!==null){y.flags&=-257,Qa(y,i,a,l,t),y.mode&1&&Xa(l,c,t),t=y,u=c;var w=t.updateQueue;if(w===null){var S=new Set;S.add(u),t.updateQueue=S}else w.add(u);break e}else{if(!(t&1)){Xa(l,c,t),Ui();break e}u=Error(R(426))}}else if(te&&a.mode&1){var k=Ka(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Qa(k,i,a,l,t),Si(Fn(u,a));break e}}l=u=Fn(u,a),me!==4&&(me=2),fr===null?fr=[l]:fr.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var p=vd(l,u,t);Ua(l,p);break e;case 1:a=u;var d=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Rt===null||!Rt.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var v=yd(l,a,t);Ua(l,v);break e}}l=l.return}while(l!==null)}Od(n)}catch(P){t=P,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Dd(){var e=$s.current;return $s.current=zs,e===null?zs:e}function Ui(){(me===0||me===3||me===2)&&(me=4),ge===null||!(en&268435455)&&!(ul&268435455)||Et(ge,Se)}function Bs(e,t){var n=K;K|=2;var r=Dd();(ge!==e||Se!==t)&&(ct=null,Qt(e,t));do try{Im();break}catch(s){Fd(e,s)}while(!0);if(Ni(),K=n,$s.current=r,de!==null)throw Error(R(261));return ge=null,Se=0,me}function Im(){for(;de!==null;)Ad(de)}function Fm(){for(;de!==null&&!op();)Ad(de)}function Ad(e){var t=$d(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?Od(e):de=t,Di.current=null}function Od(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Mm(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,de=null;return}}else if(n=Cm(n,t,Ae),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);me===0&&(me=5)}function Bt(e,t,n){var r=Y,s=Ke.transition;try{Ke.transition=null,Y=1,Dm(e,t,n,r)}finally{Ke.transition=s,Y=r}return null}function Dm(e,t,n,r){do bn();while(Ct!==null);if(K&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(gp(e,l),e===ge&&(de=ge=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||es||(es=!0,Ud(js,function(){return bn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ke.transition,Ke.transition=null;var i=Y;Y=1;var a=K;K|=4,Di.current=null,_m(e,n),Ld(n,e),nm(Co),Ps=!!Po,Co=Po=null,e.current=n,Tm(n),ip(),K=a,Y=i,Ke.transition=l}else e.current=n;if(es&&(es=!1,Ct=e,Vs=s),l=e.pendingLanes,l===0&&(Rt=null),cp(n.stateNode),De(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Us)throw Us=!1,e=Xo,Xo=null,e;return Vs&1&&e.tag!==0&&bn(),l=e.pendingLanes,l&1?e===Ko?pr++:(pr=0,Ko=e):pr=0,$t(),null}function bn(){if(Ct!==null){var e=vc(Vs),t=Ke.transition,n=Y;try{if(Ke.transition=null,Y=16>e?16:e,Ct===null)var r=!1;else{if(e=Ct,Ct=null,Vs=0,K&6)throw Error(R(331));var s=K;for(K|=4,U=e.current;U!==null;){var l=U,i=l.child;if(U.flags&16){var a=l.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(U=c;U!==null;){var m=U;switch(m.tag){case 0:case 11:case 15:dr(8,m,l)}var x=m.child;if(x!==null)x.return=m,U=x;else for(;U!==null;){m=U;var f=m.sibling,y=m.return;if(bd(m),m===c){U=null;break}if(f!==null){f.return=y,U=f;break}U=y}}}var w=l.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}U=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,U=i;else e:for(;U!==null;){if(l=U,l.flags&2048)switch(l.tag){case 0:case 11:case 15:dr(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,U=p;break e}U=l.return}}var d=e.current;for(U=d;U!==null;){i=U;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,U=g;else e:for(i=d;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:al(9,a)}}catch(P){ue(a,a.return,P)}if(a===i){U=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,U=v;break e}U=a.return}}if(K=s,$t(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(el,e)}catch{}r=!0}return r}finally{Y=n,Ke.transition=t}}return!1}function au(e,t,n){t=Fn(n,t),t=vd(e,t,1),e=Lt(e,t,1),t=be(),e!==null&&(Lr(e,1,t),De(e,t))}function ue(e,t,n){if(e.tag===3)au(e,e,n);else for(;t!==null;){if(t.tag===3){au(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rt===null||!Rt.has(r))){e=Fn(n,e),e=yd(t,e,1),t=Lt(t,e,1),e=be(),t!==null&&(Lr(t,1,e),De(t,e));break}}t=t.return}}function Am(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(Se&n)===n&&(me===4||me===3&&(Se&130023424)===Se&&500>ce()-Oi?Qt(e,0):Ai|=n),De(e,t)}function zd(e,t){t===0&&(e.mode&1?(t=Wr,Wr<<=1,!(Wr&130023424)&&(Wr=4194304)):t=1);var n=be();e=xt(e,t),e!==null&&(Lr(e,t,n),De(e,n))}function Om(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zd(e,n)}function zm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),zd(e,n)}var $d;$d=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ie.current)Re=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Re=!1,Pm(e,t,n);Re=!!(e.flags&131072)}else Re=!1,te&&t.flags&1048576&&Wc(t,Rs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;gs(e,t),e=t.pendingProps;var s=Tn(t,Pe.current);Mn(t,n),s=Ti(null,t,r,e,s,n);var l=Li();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(r)?(l=!0,Ts(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pi(t),s.updater=il,t.stateNode=s,s._reactInternals=t,Do(t,r,e,n),t=zo(null,t,r,!0,l,n)):(t.tag=0,te&&l&&yi(t),Me(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(gs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Um(r),e=qe(r,e),s){case 0:t=Oo(null,t,r,e,n);break e;case 1:t=qa(null,t,r,e,n);break e;case 11:t=Ya(null,t,r,e,n);break e;case 14:t=Za(null,t,r,qe(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qe(r,s),Oo(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qe(r,s),qa(e,t,r,s,n);case 3:e:{if(Nd(t),e===null)throw Error(R(387));r=t.pendingProps,l=t.memoizedState,s=l.element,Yc(e,t),Ds(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Fn(Error(R(423)),t),t=Ja(e,t,r,n,s);break e}else if(r!==s){s=Fn(Error(R(424)),t),t=Ja(e,t,r,n,s);break e}else for(Oe=Tt(t.stateNode.containerInfo.firstChild),ze=t,te=!0,et=null,n=Kc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ln(),r===s){t=vt(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return Zc(t),e===null&&Ro(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,i=s.children,Mo(r,s)?i=null:l!==null&&Mo(r,l)&&(t.flags|=32),kd(e,t),Me(e,t,i,n),t.child;case 6:return e===null&&Ro(t),null;case 13:return jd(e,t,n);case 4:return Ci(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rn(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qe(r,s),Ya(e,t,r,s,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,i=s.value,q(Is,r._currentValue),r._currentValue=i,l!==null)if(rt(l.value,i)){if(l.children===s.children&&!Ie.current){t=vt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){i=l.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=mt(-1,n&-n),u.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Io(l.return,n,t),a.lanes|=n;break}u=u.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(R(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Io(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Me(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Mn(t,n),s=Qe(s),r=r(s),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,s=qe(r,t.pendingProps),s=qe(r.type,s),Za(e,t,r,s,n);case 15:return wd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qe(r,s),gs(e,t),t.tag=1,Fe(r)?(e=!0,Ts(t)):e=!1,Mn(t,n),xd(t,r,s),Do(t,r,s,n),zo(null,t,r,!0,e,n);case 19:return Ed(e,t,n);case 22:return Sd(e,t,n)}throw Error(R(156,t.tag))};function Ud(e,t){return mc(e,t)}function $m(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,n,r){return new $m(e,t,n,r)}function Vi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Um(e){if(typeof e=="function")return Vi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ii)return 11;if(e===ai)return 14}return 2}function Ft(e,t){var n=e.alternate;return n===null?(n=Xe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ys(e,t,n,r,s,l){var i=2;if(r=e,typeof e=="function")Vi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case pn:return Yt(n.children,s,l,t);case oi:i=8,s|=8;break;case lo:return e=Xe(12,n,t,s|2),e.elementType=lo,e.lanes=l,e;case oo:return e=Xe(13,n,t,s),e.elementType=oo,e.lanes=l,e;case io:return e=Xe(19,n,t,s),e.elementType=io,e.lanes=l,e;case Zu:return cl(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qu:i=10;break e;case Yu:i=9;break e;case ii:i=11;break e;case ai:i=14;break e;case kt:i=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Xe(i,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function Yt(e,t,n,r){return e=Xe(7,e,r,t),e.lanes=n,e}function cl(e,t,n,r){return e=Xe(22,e,r,t),e.elementType=Zu,e.lanes=n,e.stateNode={isHidden:!1},e}function Gl(e,t,n){return e=Xe(6,e,null,t),e.lanes=n,e}function Xl(e,t,n){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vm(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cl(0),this.expirationTimes=Cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bi(e,t,n,r,s,l,i,a,u){return e=new Vm(e,t,n,a,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Xe(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(l),e}function Bm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Vd(e){if(!e)return At;e=e._reactInternals;e:{if(rn(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Fe(n))return Vc(e,n,t)}return t}function Bd(e,t,n,r,s,l,i,a,u){return e=Bi(n,r,!0,e,s,l,i,a,u),e.context=Vd(null),n=e.current,r=be(),s=It(n),l=mt(r,s),l.callback=t??null,Lt(n,l,s),e.current.lanes=s,Lr(e,s,r),De(e,r),e}function dl(e,t,n,r){var s=t.current,l=be(),i=It(s);return n=Vd(n),t.context===null?t.context=n:t.pendingContext=n,t=mt(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Lt(s,t,i),e!==null&&(nt(e,s,i,l),ps(e,s,i)),i}function Ws(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wi(e,t){uu(e,t),(e=e.alternate)&&uu(e,t)}function Wm(){return null}var Wd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hi(e){this._internalRoot=e}fl.prototype.render=Hi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));dl(e,t,null,null)};fl.prototype.unmount=Hi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tn(function(){dl(null,e,null,null)}),t[gt]=null}};function fl(e){this._internalRoot=e}fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&t!==0&&t<jt[n].priority;n++);jt.splice(n,0,e),n===0&&Nc(e)}};function Gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cu(){}function Hm(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var c=Ws(i);l.call(c)}}var i=Bd(t,r,e,0,null,!1,!1,"",cu);return e._reactRootContainer=i,e[gt]=i.current,kr(e.nodeType===8?e.parentNode:e),tn(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Ws(u);a.call(c)}}var u=Bi(e,0,!1,null,null,!1,!1,"",cu);return e._reactRootContainer=u,e[gt]=u.current,kr(e.nodeType===8?e.parentNode:e),tn(function(){dl(t,u,n,r)}),u}function ml(e,t,n,r,s){var l=n._reactRootContainer;if(l){var i=l;if(typeof s=="function"){var a=s;s=function(){var u=Ws(i);a.call(u)}}dl(t,i,e,s)}else i=Hm(n,t,e,s,r);return Ws(i)}yc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=nr(t.pendingLanes);n!==0&&(di(t,n|1),De(t,ce()),!(K&6)&&(Dn=ce()+500,$t()))}break;case 13:tn(function(){var r=xt(e,1);if(r!==null){var s=be();nt(r,e,1,s)}}),Wi(e,1)}};fi=function(e){if(e.tag===13){var t=xt(e,134217728);if(t!==null){var n=be();nt(t,e,134217728,n)}Wi(e,134217728)}};wc=function(e){if(e.tag===13){var t=It(e),n=xt(e,t);if(n!==null){var r=be();nt(n,e,t,r)}Wi(e,t)}};Sc=function(){return Y};kc=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};vo=function(e,t,n){switch(t){case"input":if(co(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=sl(r);if(!s)throw Error(R(90));Ju(r),co(r,s)}}}break;case"textarea":tc(e,n);break;case"select":t=n.value,t!=null&&jn(e,!!n.multiple,t,!1)}};ac=zi;uc=tn;var Gm={usingClientEntryPoint:!1,Events:[Ir,xn,sl,oc,ic,zi]},Yn={findFiberByHostInstance:Ht,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xm={bundleType:Yn.bundleType,version:Yn.version,rendererPackageName:Yn.rendererPackageName,rendererConfig:Yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fc(e),e===null?null:e.stateNode},findFiberByHostInstance:Yn.findFiberByHostInstance||Wm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ts.isDisabled&&ts.supportsFiber)try{el=ts.inject(Xm),it=ts}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gm;Ue.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gi(t))throw Error(R(200));return Bm(e,t,null,n)};Ue.createRoot=function(e,t){if(!Gi(e))throw Error(R(299));var n=!1,r="",s=Wd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bi(e,1,!1,null,null,n,!1,r,s),e[gt]=t.current,kr(e.nodeType===8?e.parentNode:e),new Hi(t)};Ue.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=fc(t),e=e===null?null:e.stateNode,e};Ue.flushSync=function(e){return tn(e)};Ue.hydrate=function(e,t,n){if(!pl(t))throw Error(R(200));return ml(null,e,t,!0,n)};Ue.hydrateRoot=function(e,t,n){if(!Gi(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",i=Wd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Bd(t,null,e,1,n??null,s,!1,l,i),e[gt]=t.current,kr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new fl(t)};Ue.render=function(e,t,n){if(!pl(t))throw Error(R(200));return ml(null,e,t,!1,n)};Ue.unmountComponentAtNode=function(e){if(!pl(e))throw Error(R(40));return e._reactRootContainer?(tn(function(){ml(null,null,e,!1,function(){e._reactRootContainer=null,e[gt]=null})}),!0):!1};Ue.unstable_batchedUpdates=zi;Ue.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!pl(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return ml(e,t,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function Hd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hd)}catch(e){console.error(e)}}Hd(),Hu.exports=Ue;var Km=Hu.exports,du=Km;ro.createRoot=du.createRoot,ro.hydrateRoot=du.hydrateRoot;const Qm="-0000-1000-8000-00805f9b34fb",un=e=>`0000${e.toString(16).padStart(4,"0")}${Qm}`.toLowerCase(),Kl={FTMS:un(6182),INDOOR_BIKE_DATA:un(10962),CPS:un(6168),CYCLING_POWER_MEASUREMENT:un(10851),HRS:un(6157),HEART_RATE_MEASUREMENT:un(10807)},Ym=()=>{if(typeof document>"u")return!0;const e=document.permissionsPolicy??document.featurePolicy;if(!e)return!0;try{if(typeof e.allowsFeature=="function")return e.allowsFeature("bluetooth");if(typeof e.allowedFeatures=="function")return e.allowedFeatures().includes("bluetooth")}catch(t){console.warn("Unable to evaluate Permissions Policy for bluetooth",t)}return!0};function Gd(e,t=0){if(!Number.isFinite(e)||e<=0)return 0;const n=Math.cbrt(Math.max(0,e)),r=1.7,s=1-.06*t,l=Math.max(.3,Math.min(1.2,s)),i=r*n*l;return Math.max(0,Math.min(60,i))}function Zm(e){return Gd(e)}function fu(e,t){const r=[["timestamp","elapsed_s","power_w","cadence_rpm","speed_kph","distance_km","heart_bpm"].join(",")].concat(t.map(a=>{var u,c,m,x,f,y,w,S;return[new Date(a.ts).toISOString(),a.elapsed.toFixed(1),((c=(u=a.power)==null?void 0:u.toFixed)==null?void 0:c.call(u,0))??"",((x=(m=a.cadence)==null?void 0:m.toFixed)==null?void 0:x.call(m,0))??"",((y=(f=a.speed)==null?void 0:f.toFixed)==null?void 0:y.call(f,2))??"",((S=(w=a.distance)==null?void 0:w.toFixed)==null?void 0:S.call(w,3))??"",a.hr??""].join(",")})),s=new Blob([r.join(`
`)],{type:"text/csv"}),l=URL.createObjectURL(s),i=document.createElement("a");i.href=l,i.download=e,i.click(),URL.revokeObjectURL(l)}function qm(){const[e,t]=h.useState({isConnecting:{},lastConnected:{},connectionHistory:[]}),n=h.useCallback(i=>{t(a=>({...a,isConnecting:{...a.isConnecting,[i]:!0}}))},[]),r=h.useCallback((i,a,u)=>{t(c=>({...c,isConnecting:{...c.isConnecting,[i]:!1},lastConnected:a?{...c.lastConnected,[i]:Date.now()}:c.lastConnected,connectionHistory:[...c.connectionHistory.slice(-9),{deviceType:i,timestamp:Date.now(),success:a,error:u}]}))},[]),s=h.useCallback(i=>{const a=e.lastConnected[i];if(!a)return null;const c=Date.now()-a;return c<6e4?`${Math.floor(c/1e3)}s`:c<36e5?`${Math.floor(c/6e4)}m`:`${Math.floor(c/36e5)}h`},[e.lastConnected]),l=h.useCallback(()=>{t(i=>({...i,connectionHistory:[]}))},[]);return{connectionState:e,startConnection:n,endConnection:r,getConnectionTime:s,clearHistory:l}}const Be={ftms:6182,cps:6168,hr:6157},Jm={isTopLevel:null,isSecure:null,hasBT:null,policy:null,availability:null,canUse:null,supportsBluetooth:!1,bluetoothAvailable:!1,bluetoothEnabled:!1},eh={ftms:"idle",cps:"idle",hr:"idle"},ns=e=>{var t;return{id:e.id,name:e.name??"Unknown device",connected:((t=e.gatt)==null?void 0:t.connected)??!1}},Zn=e=>e.policy===!1||e.isSecure===!1||e.hasBT===!1?!1:e.supportsBluetooth?e.availability===!1||e.bluetoothAvailable===!1||e.bluetoothEnabled===!1?!1:e.policy===null||e.isSecure===null||e.hasBT===null||e.availability===null?e.canUse:!0:e.hasBT===null?e.canUse:!1,qn=e=>typeof e<"u"&&typeof e.bluetooth<"u",th=e=>typeof e=="function",nh=()=>{const[e,t]=h.useState(Jm),[n,r]=h.useState(eh),[s,l]=h.useState({}),[i,a]=h.useState({}),{connectionState:u,startConnection:c,endConnection:m,getConnectionTime:x}=qm(),f=h.useRef({}),y=h.useRef({}),w=h.useRef({}),S=h.useRef({}),k=h.useRef(null),p=h.useCallback((E,T)=>{r(z=>({...z,[E]:T}))},[]),d=h.useCallback(E=>{l(T=>{if(!(E in T))return T;const z={...T};return delete z[E],z})},[]),g=h.useCallback((E,T)=>{l(z=>({...z,[E]:T}))},[]),v=h.useCallback(async()=>{const E=typeof navigator>"u"?void 0:navigator,T=typeof navigator<"u",z=qn(E),O=Ym(),V=typeof window>"u"?null:typeof window.top<"u"?window.top===window.self:null,M=typeof window>"u"?null:window.isSecureContext??null;let $=!1,L=!1;if(z&&E){const{bluetooth:B}=E;if(th(B.getAvailability))try{$=await B.getAvailability()}catch(W){console.warn("Failed to determine bluetooth availability",W),$=!0}else $=!0;L=$}const D={isTopLevel:V,isSecure:M,hasBT:T?z:null,policy:typeof document>"u"?null:O,availability:z?$:T?!1:null,canUse:null,supportsBluetooth:z,bluetoothAvailable:$,bluetoothEnabled:L};t({...D,canUse:Zn(D)})},[]),P=h.useCallback((E,T={})=>{var A;const{resetStatus:z=!0,clearError:O=!0}=T,V=f.current[E],M=y.current[E],$=w.current[E],L=S.current[E];if(E==="cps"){const F=w.current.cps,D=S.current.cps;if(F&&D)try{F.removeEventListener("characteristicvaluechanged",D)}catch(B){console.warn("Failed to remove characteristic listener",B)}}if($){if(L&&E!=="cps")try{$.removeEventListener("characteristicvaluechanged",L)}catch(F){console.warn("Failed to remove characteristic listener",F)}try{const F=$.stopNotifications();F instanceof Promise&&F.catch(D=>{console.warn("Failed to stop notifications",D)})}catch(F){console.warn("Failed to stop notifications",F)}}if(V&&M&&V.removeEventListener("gattserverdisconnected",M),(A=V==null?void 0:V.gatt)!=null&&A.connected)try{V.gatt.disconnect()}catch(F){console.warn("Failed to disconnect device",F)}f.current[E]=void 0,y.current[E]=void 0,E==="cps"?(S.current.cps=void 0,w.current.cps=void 0,k.current=null):(w.current[E]=void 0,S.current[E]=void 0),a(F=>{if(!(E in F))return F;const D={...F};return delete D[E],D}),z&&p(E,"idle"),O&&d(E)},[d,p]),_=h.useCallback(E=>()=>{P(E)},[P]);h.useCallback(async E=>{const T=typeof navigator>"u"?void 0:navigator;if(!qn(T)){g(E,"This environment does not support Web Bluetooth."),p(E,"error");return}c(E),p(E,"requesting"),d(E);const{bluetooth:z}=T;try{const O=await z.requestDevice({filters:[{services:[Be[E]]}],optionalServices:[Be[E]]});p(E,"connecting"),f.current[E]=O;const V=_(E);if(O.addEventListener("gattserverdisconnected",V),y.current[E]=V,!O.gatt)throw new Error("Device does not support GATT.");if(!(await O.gatt.connect()).connected)throw new Error("Failed to establish a GATT connection.");p(E,"connected"),t($=>{const L={...$,bluetoothAvailable:!0,bluetoothEnabled:!0,availability:!0};return{...L,canUse:Zn(L)}}),a($=>({...$,[E]:ns(O)})),m(E,!0)}catch(O){console.error("Failed to connect to device",O);const V=O instanceof Error?O.message:"Failed to connect to device.";g(E,V),p(E,"error"),m(E,!1,V),P(E,{resetStatus:!1,clearError:!1})}},[d,P,m,_,g,c,p]);const N=h.useCallback(E=>{P(E)},[P]),j=h.useCallback(async()=>{const E=typeof navigator>"u"?void 0:navigator;if(!qn(E)){g("ftms","This environment does not support Web Bluetooth."),p("ftms","error");return}c("ftms"),p("ftms","requesting"),d("ftms");const{bluetooth:T}=E;try{const z=await T.requestDevice({filters:[{services:[Be.ftms]}],optionalServices:[Be.ftms]});p("ftms","connecting"),f.current.ftms=z;const O=_("ftms");if(z.addEventListener("gattserverdisconnected",O),y.current.ftms=O,!z.gatt)throw new Error("Device does not support GATT.");const V=await z.gatt.connect();if(!V.connected)throw new Error("Failed to establish a GATT connection.");const $=await(await V.getPrimaryService(Be.ftms)).getCharacteristic(Kl.INDOOR_BIKE_DATA),L=A=>{const F=A.target,D=F==null?void 0:F.value;if(!D)return;let B=0;const W=D.getUint16(B,!0);B+=2;let X=0,Z=0,Q=0;if(W&1){const Ce=D.getUint16(B,!0);B+=2,X=Ce/100*3.6}if(W&4){const Ce=D.getUint16(B,!0);B+=2,Z=Ce/2}W&64&&(Q=D.getInt16(B,!0),B+=2),typeof window<"u"&&typeof window.dispatchEvent=="function"&&window.dispatchEvent(new CustomEvent("ftms-data",{detail:{source:"ftms",speed:X,cadence:Z,power:Q}}))};$.addEventListener("characteristicvaluechanged",L),S.current.ftms=L,w.current.ftms=$,await $.startNotifications(),p("ftms","connected"),t(A=>{const F={...A,bluetoothAvailable:!0,bluetoothEnabled:!0,availability:!0};return{...F,canUse:Zn(F)}}),a(A=>({...A,ftms:ns(z)})),m("ftms",!0)}catch(z){console.error("Failed to connect to FTMS device",z);const O=z instanceof Error?z.message:"Failed to connect to device.";g("ftms",O),p("ftms","error"),m("ftms",!1,O),P("ftms",{resetStatus:!1,clearError:!1})}},[d,P,m,_,g,c,p,t]),b=h.useCallback(async()=>{const E=typeof navigator>"u"?void 0:navigator;if(!qn(E)){g("cps","This environment does not support Web Bluetooth."),p("cps","error");return}c("cps"),p("cps","requesting"),d("cps");try{const T=await E.bluetooth.requestDevice({filters:[{services:[Be.cps]}],optionalServices:[Be.cps]});p("cps","connecting"),f.current.cps=T;const z=_("cps");if(T.addEventListener("gattserverdisconnected",z),y.current.cps=z,!T.gatt)throw new Error("Device does not support GATT.");const O=await T.gatt.connect();if(!O.connected)throw new Error("Failed to establish a GATT connection.");const M=await(await O.getPrimaryService(Be.cps)).getCharacteristic(Kl.CYCLING_POWER_MEASUREMENT),$=L=>{const A=L.target,F=A==null?void 0:A.value;if(!F)return;let D=0;const B=F.getUint16(D,!0);D+=2;const W=F.getInt16(D,!0);D+=2,B&1&&(D+=1),B&4&&(D+=2),B&16&&(D+=6);let X;if(B&32){if(F.byteLength>=D+4){const Q=k.current,Ce=F.getUint16(D,!0);D+=2;const sn=F.getUint16(D,!0);if(D+=2,Q){const xe=Ce>=Q.revolutions?Ce-Q.revolutions:Ce+65536-Q.revolutions,ln=sn>=Q.eventTime?sn-Q.eventTime:sn+65536-Q.eventTime;if(ln>0&&xe>=0){const Dr=ln/1024,Ar=xe/Dr*60;Number.isFinite(Ar)&&(X=Ar)}}k.current={revolutions:Ce,eventTime:sn}}}else k.current=null;const Z=Zm(W);if(typeof window<"u"){const Q={source:"cps",power:W};typeof X=="number"&&(Q.cadence=X),typeof Z=="number"&&(Q.speed=Z),window.dispatchEvent(new CustomEvent("ftms-data",{detail:Q}))}};M.addEventListener("characteristicvaluechanged",$),S.current.cps=$,w.current.cps=M,await M.startNotifications(),p("cps","connected"),t(L=>{const A={...L,bluetoothAvailable:!0,bluetoothEnabled:!0,availability:!0};return{...A,canUse:Zn(A)}}),a(L=>({...L,cps:ns(T)})),m("cps",!0)}catch(T){console.error("Failed to connect to CPS device",T);const z=T instanceof Error?T.message:"Failed to connect to device.";g("cps",z),p("cps","error"),m("cps",!1,z),P("cps",{resetStatus:!1,clearError:!1})}},[d,P,m,_,a,t,g,c,p]),C=h.useCallback(async()=>{const E=typeof navigator>"u"?void 0:navigator;if(!qn(E)){g("hr","This environment does not support Web Bluetooth."),p("hr","error");return}c("hr"),p("hr","requesting"),d("hr");const{bluetooth:T}=E;try{const z=await T.requestDevice({filters:[{services:[Be.hr]}],optionalServices:[Be.hr]});p("hr","connecting"),f.current.hr=z;const O=_("hr");if(z.addEventListener("gattserverdisconnected",O),y.current.hr=O,!z.gatt)throw new Error("Device does not support GATT.");const V=await z.gatt.connect();if(!V.connected)throw new Error("Failed to establish a GATT connection.");const $=await(await V.getPrimaryService(Be.hr)).getCharacteristic(Kl.HEART_RATE_MEASUREMENT),L=A=>{const F=A.target,D=F==null?void 0:F.value;if(!D)return;let B=0;const W=D.getUint8(B);B+=1;const Z=(W&1)!==0?D.getUint16(B,!0):D.getUint8(B);typeof window<"u"&&typeof window.dispatchEvent=="function"&&window.dispatchEvent(new CustomEvent("hr-data",{detail:{hr:Z}}))};$.addEventListener("characteristicvaluechanged",L),S.current.hr=L,w.current.hr=$,await $.startNotifications(),p("hr","connected"),t(A=>{const F={...A,bluetoothAvailable:!0,bluetoothEnabled:!0,availability:!0};return{...F,canUse:Zn(F)}}),a(A=>({...A,hr:ns(z)})),m("hr",!0)}catch(z){console.error("Failed to connect to HR device",z);const O=z instanceof Error?z.message:"Failed to connect to device.";g("hr",O),p("hr","error"),m("hr",!1,O),P("hr",{resetStatus:!1,clearError:!1})}},[d,P,m,_,g,c,p,t]);return h.useEffect(()=>{v()},[v]),h.useEffect(()=>()=>{Object.keys(Be).forEach(E=>{P(E)})},[P]),h.useMemo(()=>({environment:e,statuses:n,errors:s,connectedDevices:i,refreshEnvironment:v,connectFTMS:j,connectCPS:b,connectHR:C,disconnect:N,connectionState:u,getConnectionTime:x}),[b,j,C,i,u,N,e,s,x,v,n])},rs={power:0,cadence:0,speed:0,distance:0,hr:0},rh=.001,sh=2e3,pu=2e3,lh=e=>{const t=Math.floor(e/60),n=Math.floor(e%60),r=Math.floor(t/60),s=t%60;return r>0?`${r}:${s.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`:`${s}:${n.toString().padStart(2,"0")}`},oh=(e,t)=>{const n=200+40*Math.sin(e/8)+(Math.random()-.5)*20,r=90+5*Math.sin((e+3)/6)+(Math.random()-.5)*5,s=32+4*Math.sin((e+1)/7)+(Math.random()-.5)*2,l=150+8*Math.sin((e+2)/10)+(Math.random()-.5)*6,i=t.distance+Math.max(s,0)/3600;return{power:Math.max(n,0),cadence:Math.max(r,0),speed:Math.max(s,0),distance:i,hr:Math.max(l,0)}},ih=(e,t,n={})=>{const[r,s]=h.useState(rs),[l,i]=h.useState([]),[a,u]=h.useState(0),[c,m]=h.useState(!1),x=h.useRef(rs),f=h.useRef(null),y=h.useRef(0),w=h.useRef(0),S=h.useRef({ftmsSpeed:null,ftmsPower:null,cpsPower:null,cadence:null,hr:null}),k=h.useRef(n.usePowerToDriveSpeed??!0),p=h.useRef(null),d=h.useRef({ftms:null,cps:null});h.useEffect(()=>{k.current=n.usePowerToDriveSpeed??!0},[n.usePowerToDriveSpeed]);const g=h.useCallback(b=>{const C=x.current,E=Object.entries(b);if(E.length>0&&E.every(([z,O])=>{if(typeof O>"u")return!0;const V=C[z];return typeof O=="number"&&typeof V=="number"?Math.abs(V-O)<=rh:V===O})||E.length===0)return;const T={...C,...b};x.current=T,w.current=T.distance,s(T)},[]);h.useEffect(()=>{x.current=r},[r]);const v=()=>{const b=x.current,C=S.current,E=k.current;let T=Number.isFinite(C.ftmsSpeed??NaN)?C.ftmsSpeed:null;const z=Date.now();T!=null&&p.current!=null&&z-p.current>sh&&(T=null);const O=d.current.ftms!=null&&z-d.current.ftms<=pu,V=d.current.cps!=null&&z-d.current.cps<=pu,M=O&&Number.isFinite(C.ftmsPower??NaN)?C.ftmsPower:null,$=V&&Number.isFinite(C.cpsPower??NaN)?C.cpsPower:null;(T==null||!Number.isFinite(T))&&E&&(T=Gd($??M??0));const L=Math.max(0,Math.min(60,Number.isFinite(T??NaN)?T:0)),F=(Number.isFinite(w.current)?w.current:b.distance)+L/3600;w.current=F;const D=M??$??0,B=Number.isFinite(C.cadence??NaN)?C.cadence:b.cadence,W=Number.isFinite(C.hr??NaN)?C.hr:b.hr;return{power:Number.isFinite(D??NaN)?D:0,cadence:Number.isFinite(B??NaN)?B:0,speed:L,distance:F,hr:Number.isFinite(W??NaN)?W:0}};h.useEffect(()=>{!t&&c&&m(!1)},[t,c]),h.useEffect(()=>{if(!c){f.current&&(clearInterval(f.current),f.current=null);return}return f.current=setInterval(()=>{const b=y.current+1;y.current=b,u(b);const C=e?oh(b,x.current):v();x.current=C,w.current=C.distance,s(C);const E={ts:Date.now(),elapsed:b,...C};i(T=>[...T,E])},1e3),()=>{f.current&&(clearInterval(f.current),f.current=null)}},[c,e]),h.useEffect(()=>()=>{f.current&&clearInterval(f.current)},[]),h.useEffect(()=>{if(e||typeof window>"u")return;const b=E=>{const T=E.detail;if(!T)return;const z=T.source??"ftms",O=S.current,V={};typeof T.power=="number"&&(z==="ftms"?(O.ftmsPower=T.power,d.current.ftms=Date.now()):z==="cps"&&(O.cpsPower=T.power,d.current.cps=Date.now()),V.power=T.power),typeof T.cadence=="number"&&(O.cadence=T.cadence,V.cadence=T.cadence),z==="ftms"&&typeof T.speed=="number"&&(Number.isFinite(T.speed)?(O.ftmsSpeed=T.speed,p.current=Date.now(),V.speed=T.speed):(O.ftmsSpeed=null,p.current=null)),Object.keys(V).length>0&&g(V)},C=E=>{const T=E.detail;T&&typeof T.hr=="number"&&(S.current.hr=T.hr,g({hr:T.hr}))};return window.addEventListener("ftms-data",b),window.addEventListener("hr-data",C),()=>{window.removeEventListener("ftms-data",b),window.removeEventListener("hr-data",C)}},[g,e]);const P=()=>c?!1:(m(!0),!0),_=()=>c?(m(!1),!0):!1,N=()=>(m(!1),y.current=0,u(0),x.current=rs,w.current=0,S.current={ftmsSpeed:null,ftmsPower:null,cpsPower:null,cadence:null,hr:null},p.current=null,d.current={ftms:null,cps:null},s(rs),i([]),!0),j=h.useMemo(()=>lh(a),[a]);return{metrics:r,samples:l,elapsed:j,startRide:P,stopRide:_,resetRide:N}};function Ql(e){return e*Math.PI/180}function ah(e){return e*180/Math.PI}function uh(e,t){const n=Ql(e.y),r=Ql(t.y),s=Ql(t.x-e.x),l=Math.sin(s)*Math.cos(r),i=Math.cos(n)*Math.sin(r)-Math.sin(n)*Math.cos(r)*Math.cos(s),a=Math.atan2(l,i);return(ah(a)+360)%360}function mu(e){let t=e%360;return t<0&&(t+=360),t}function hu(e,t){return(t-e+540)%360-180}function ch(e,t){const n=e.length;if(n===0)return[];const r=t==null?void 0:t.lookahead,s=t==null?void 0:t.medianWindow,l=t==null?void 0:t.maxTurnDeg,i=new Array(n).fill(0);for(let m=0;m<n;m++){const x=Math.min(n-1,m+r);i[m]=m===x?m>0?i[m-1]:0:uh(e[m],e[x])}const a=new Array(n).fill(0),u=Math.floor(s/2);for(let m=0;m<n;m++){const x=[];for(let S=m-u;S<=m+u;S++){const k=Math.min(n-1,Math.max(0,S));x.push(i[k])}const f=i[m],y=x.map(S=>hu(f,S));y.sort((S,k)=>S-k);const w=y[Math.floor(y.length/2)];a[m]=mu(f+w)}const c=new Array(n).fill(0);c[0]=a[0];for(let m=1;m<n;m++){const x=c[m-1],f=a[m],y=hu(x,f),w=Math.max(-l,Math.min(l,y));c[m]=mu(x+w)}return c}const dh={elevationAmplitude:40,curvature:.15};function Xd(e,t,n){if(e.length<2)throw new Error("Route requires at least two points");const r=new Array(e.length).fill(0);for(let a=1;a<e.length;a+=1){const u=e[a-1],c=e[a],m=c.x-u.x,x=c.y-u.y;r[a]=r[a-1]+Math.hypot(m,x)}const s=[];let l=!0;for(const a of e){const u=typeof a.lat=="number"?a.lat:void 0,c=typeof a.lon=="number"?a.lon:typeof a.lng=="number"?a.lng:void 0;if(u==null||c==null){l=!1;break}s.push({x:c,y:u})}const i=l&&s.length>1?ch(s,{lookahead:5,medianWindow:7,maxTurnDeg:45}):void 0;return{pts:e,cum:r,total:r[r.length-1],name:t,...n?{bounds:n}:{},...i?{headings:i}:{}}}function fh(e,t,n={}){if(!Number.isFinite(e)||e<=0)throw new Error("Route length must be a positive number");if(!Number.isInteger(t)||t<2)throw new Error("Route must contain at least two points");const{name:r,...s}=n,{elevationAmplitude:l,curvature:i}={...dh,...s},a=e/(t-1),u=[];for(let c=0;c<t;c+=1){const m=a*c,x=c/(t-1),f=m,y=Math.sin(x*Math.PI*2)*e*i,w=l*Math.sin(x*Math.PI*4);u.push({x:f,y,elevation:w})}return Xd(u,r??"Synthetic Route")}function Kd(e,t){if(e.pts.length<2)throw new Error("Route requires at least two points for interpolation");if(!Number.isFinite(t))throw new Error("Fraction must be a finite number");const n=Math.min(Math.max(t,0),1),r=e.total*n,{pts:s,cum:l}=e;let i=l.findIndex(S=>S>=r);if(i===-1&&(i=l.length-1),i===0)return{...s[0]};const a=i-1,u=l[a],m=l[i]-u||1,x=(r-u)/m,f=s[a],y=s[i],w=(S,k)=>{if(S===void 0&&k===void 0)return;const p=S??k??0;return p+((k??S??0)-p)*x};return{x:f.x+(y.x-f.x)*x,y:f.y+(y.y-f.y)*x,elevation:w(f.elevation,y.elevation),lat:w(f.lat,y.lat),lon:w(f.lon??f.lng,y.lon??y.lng),lng:w(f.lng??f.lon,y.lng??y.lon)}}function ph(e){try{if(console.log("Starting GPX parsing..."),!e||typeof e!="string"||!e.trim())throw new Error("Invalid GPX data: Empty or not a string");if(!e.includes("<gpx")||!e.includes("</gpx>"))throw new Error("Invalid GPX format: Missing GPX tags");const n=new DOMParser().parseFromString(e,"text/xml");if(n.querySelector("parsererror"))throw new Error("XML parsing error: Invalid XML format");let s=n.querySelectorAll("trkpt");if(s.length===0&&(s=n.querySelectorAll("wpt")),s.length===0&&(s=n.querySelectorAll("rtept")),s.length===0)throw new Error("No track points found in GPX file");console.log(`Found ${s.length} track points`);const l=[];let i=90,a=-90,u=180,c=-180,m=!1,x=0;if(s.forEach(N=>{var E;const j=parseFloat(N.getAttribute("lat")??"NaN"),b=parseFloat(N.getAttribute("lon")??"NaN"),C=((E=N.querySelector("ele"))==null?void 0:E.textContent)??void 0;if(!Number.isFinite(j)||!Number.isFinite(b)){console.warn("Invalid coordinates found, skipping point");return}i=Math.min(i,j),a=Math.max(a,j),u=Math.min(u,b),c=Math.max(c,b),x+=1,C!==void 0&&(m=!0)}),x===0||i===90&&a===-90&&u===180&&c===-180)throw new Error("No valid coordinates found in GPX file");const f=a-i||1,y=c-u||1,w=f*.05,S=y*.05,k=i-w,p=a+w,d=u-S,g=c+S;if(console.log(`Bounds: lat[${k.toFixed(6)}, ${p.toFixed(6)}] lon[${d.toFixed(6)}, ${g.toFixed(6)}]`),s.forEach((N,j)=>{var O;const b=parseFloat(N.getAttribute("lat")??"NaN"),C=parseFloat(N.getAttribute("lon")??"NaN"),E=((O=N.querySelector("ele"))==null?void 0:O.textContent)??void 0;if(!Number.isFinite(b)||!Number.isFinite(C)){console.warn(`Skipping invalid point at index ${j}`);return}const T=(C-d)/(g-d||1),z=1-(b-k)/(p-k||1);l.push({x:Math.max(0,Math.min(1,T)),y:Math.max(0,Math.min(1,z)),elevation:E&&m&&Number.isFinite(parseFloat(E))?parseFloat(E):void 0,lat:b,lon:C,lng:C})}),l.length===0)throw new Error("No valid points could be extracted from GPX file");if(l.length<2)throw new Error("GPX file must contain at least two valid points");console.log(`Extracted ${l.length} valid points`);const v=[n.querySelector("trk > name"),n.querySelector("name"),n.querySelector("metadata > name")];let P;for(const N of v)if(N!=null&&N.textContent){P=N.textContent.trim();break}const _=Xd(l,P??"GPX Route",{minLat:i,maxLat:a,minLon:u,maxLon:c});return console.log(`Route "${_.name??"Unnamed"}" parsed successfully: ${_.pts.length} points, ${_.total.toFixed(2)} total distance`),_}catch(t){throw console.error("Error parsing GPX:",t),t instanceof Error?t:new Error("An unknown error occurred while parsing GPX")}}const mh=fh(2e4,400,{name:"Rolling Hills"}),hh=10*1024*1024,gh=e=>typeof e=="string"?e:e instanceof ArrayBuffer?new TextDecoder().decode(e):"",xh=(e={})=>{const{defaultRoute:t}=e,n=h.useMemo(()=>t??mh,[t]),[r,s]=h.useState(n),[l,i]=h.useState(!1),[a,u]=h.useState(null),[c,m]=h.useState(null),x=h.useRef(null),f=h.useCallback(()=>{u(null)},[]);h.useEffect(()=>{s(n),m(null)},[n]),h.useEffect(()=>()=>{const S=x.current;S&&S.readyState===FileReader.LOADING&&S.abort()},[]);const y=h.useCallback(()=>{const S=x.current;S&&S.readyState===FileReader.LOADING&&S.abort(),f(),i(!1),s(n),m(null)},[f,n]),w=h.useCallback(S=>new Promise((k,p)=>{if(!(S instanceof File)){const v="No GPX file provided";u(v),p(new Error(v));return}if(i(!0),f(),m(null),S.size>hh){const v="File too large. Please select a GPX file smaller than 10MB.";u(v),i(!1),p(new Error(v));return}if(!S.name.toLowerCase().endsWith(".gpx")){const v="Invalid file type. Please select a GPX file.";u(v),i(!1),p(new Error(v));return}x.current&&x.current.readyState===FileReader.LOADING&&x.current.abort();const d=new FileReader;x.current=d;const g=()=>{x.current===d&&(x.current=null)};d.onload=()=>{try{const v=gh(d.result);if(!v)throw new Error("GPX file is empty or unreadable");const P=ph(v);s(P),i(!1),f(),m(S.name),g(),k(P)}catch(v){const P=v instanceof Error?v.message:"Unable to parse GPX file";u(P),i(!1),m(null),g(),p(v instanceof Error?v:new Error(P))}},d.onerror=()=>{var P;const v=((P=d.error)==null?void 0:P.message)??"Failed to read GPX file";u(v),i(!1),m(null),g(),p(new Error(v))},d.onabort=()=>{const v="GPX file reading was aborted";u(v),i(!1),m(null),g(),p(new Error(v))};try{d.readAsText(S)}catch(v){const P=v instanceof Error?v.message:"Failed to start reading GPX file";u(P),i(!1),m(null),g(),p(v instanceof Error?v:new Error(P))}}),[f]);return h.useEffect(()=>{if(!a)return;const S=window.setTimeout(()=>{f()},5e3);return()=>{window.clearTimeout(S)}},[f,a]),{route:r,isLoading:l,error:a,lastLoadedFile:c,loadGPX:w,resetToDefault:y,clearError:f}},vh={tickIntervalMs:1e3},Hs=(e,t,n)=>Math.min(n,Math.max(t,e)),yh=e=>{if(e<=0)return 0;const r=85+(e-200)*.06;return Math.round(Hs(r,70,110))},wh=e=>e.reduce((t,n)=>t+Hs(n.duration,0,Number.MAX_SAFE_INTEGER),0),Sh=(e={})=>{const{tickIntervalMs:t,plan:n=null}={...vh,...e},[r,s]=h.useState(n),[l,i]=h.useState(!1),[a,u]=h.useState(0),[c,m]=h.useState(0),[x,f]=h.useState(0),y=h.useRef(null),w=h.useRef(null),S=h.useRef(null),k=h.useMemo(()=>r?wh(r.intervals):0,[r]),p=h.useMemo(()=>r?r.intervals[x]??null:null,[r,x]),d=(p==null?void 0:p.targetPower)??0,g=h.useMemo(()=>yh(d),[d]),v=h.useMemo(()=>k?Hs(a/k,0,1):0,[a,k]),P=h.useCallback(()=>{S.current&&(clearInterval(S.current),S.current=null)},[]),_=h.useCallback(()=>l?(P(),i(!1),!0):!1,[P,l]),N=h.useCallback(()=>{P(),y.current=null,w.current=null,i(!1),u(0),m(0),f(0)},[P]),j=h.useCallback(b=>{const C=b??r;if(!C||C.intervals.length===0)return!1;l&&P();const E=Date.now();return y.current=E,w.current=E,s(C),u(0),m(0),f(0),i(!0),!0},[P,l,r]);return h.useEffect(()=>{if(!l)return;const b=()=>{const C=Date.now(),E=y.current??C,T=w.current??C;y.current=E,w.current=T;const z=(C-E)/1e3,O=(C-T)/1e3;u(z),m(O),r&&f(V=>{const M=r.intervals[V];if(!M)return _(),V;if(O<M.duration)return V;const $=V+1;return $>=r.intervals.length?(_(),V):(w.current=C,m(0),$)})};return S.current=setInterval(b,t),()=>{P()}},[P,l,r,_,t]),h.useEffect(()=>()=>P(),[P]),h.useEffect(()=>{if(!r||r.intervals.length===0){N();return}f(b=>Hs(b,0,r.intervals.length-1))},[r,N]),{isActive:l,elapsed:a,intervalElapsed:c,currentIntervalIndex:x,currentInterval:p,targetPower:d,targetCadence:g,totalDuration:k,progress:v,start:j,stop:_,reset:N,setPlan:s}},kh=[{id:"beginner-endurance",name:"Beginner Endurance",intervals:[{duration:10,targetPower:.5},{duration:20,targetPower:.65},{duration:5,targetPower:.45},{duration:10,targetPower:.75},{duration:5,targetPower:.4}]},{id:"hiit-intervals",name:"HIIT Intervals",intervals:[{duration:5,targetPower:.5},{duration:1,targetPower:.95},{duration:2,targetPower:.4},{duration:1,targetPower:1},{duration:2,targetPower:.4},{duration:1,targetPower:.95},{duration:2,targetPower:.4},{duration:5,targetPower:.5}]},{id:"threshold-training",name:"Threshold Training",intervals:[{duration:8,targetPower:.55},{duration:7,targetPower:.7},{duration:12,targetPower:.9},{duration:6,targetPower:.5},{duration:7,targetPower:.45}]}],Qd=e=>new Intl.NumberFormat(void 0,{minimumFractionDigits:e,maximumFractionDigits:e}),Nh=(e,t)=>typeof e=="number"&&Number.isFinite(e)?Qd(t).format(e):typeof e=="string"&&e.trim().length>0?e.trim():"--",jh=(e,t=0)=>typeof e=="number"&&Number.isFinite(e)?Qd(t).format(e):null,Wt=({label:e,value:t=null,unit:n,target:r,precision:s=0,priority:l="medium"})=>{const i=typeof t=="number"&&Number.isFinite(t)?t:null,a=Nh(t,s),u=typeof r=="number"&&Number.isFinite(r),c=u?jh(r,s):null,m="rounded-2xl border border-slate-200 bg-white/80 p-4 shadow-sm backdrop-blur-sm dark:border-slate-800 dark:bg-slate-900/80",x={high:`${m} border-2 border-blue-200/80 ring-1 ring-blue-200/60 dark:border-blue-400/60 dark:ring-blue-400/40`,medium:m,low:`${m} border border-slate-200/80 dark:border-slate-700`},f={high:"text-slate-900 dark:text-slate-100",medium:"text-slate-900 dark:text-slate-100",low:"text-slate-900 dark:text-slate-100"},y={high:"text-slate-500 dark:text-slate-400 font-semibold",medium:"text-slate-500 dark:text-slate-400",low:"text-slate-500 dark:text-slate-400"},w=u?"grid grid-cols-1 gap-3 md:grid-cols-[1fr_10.5rem] md:items-center":"flex flex-col gap-3",S=()=>{if(!u||c===null)return null;const k=i!==null?i>=r:null,p=k===null?"bg-slate-300 text-slate-600":k?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700",d=k===null?o.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 8 8",fill:"currentColor","aria-hidden":"true",children:o.jsx("circle",{cx:"4",cy:"4",r:"3"})}):k?o.jsx("svg",{className:"h-3 w-3",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:o.jsx("path",{d:"M3.5 8.5 6.5 11.5 12.5 4.5"})}):o.jsxs("svg",{className:"h-3 w-3",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[o.jsx("path",{d:"M4 4 12 12"}),o.jsx("path",{d:"M12 4 4 12"})]});return o.jsxs("div",{className:"flex flex-col items-start gap-1 text-xs sm:text-sm md:items-end",children:[o.jsxs("span",{className:`flex items-center gap-1 rounded-full px-2 py-1 font-medium whitespace-nowrap ${p}`,children:[o.jsx("span",{className:"flex h-4 w-4 items-center justify-center rounded-full bg-white/60 p-0.5 text-inherit",children:d}),k===null?"No target":k?"On target":"Below target"]}),o.jsxs("span",{className:"text-slate-500 whitespace-nowrap",children:["Target: ",c]})]})};return o.jsx("section",{"aria-label":`${e} metric`,className:`sm:p-5 transition-all duration-300 min-h-[96px] ${x[l]}`,children:o.jsxs("div",{className:w,children:[o.jsxs("div",{className:"flex flex-col gap-1 text-left",children:[o.jsx("span",{className:`text-xs font-semibold uppercase tracking-wide ${y[l]}`,children:e}),o.jsxs("div",{className:`
              flex flex-wrap items-baseline gap-1
              text-3xl sm:text-4xl font-bold tabular-nums ${f[l]}
            `,children:[o.jsx("span",{children:a}),n?o.jsx("span",{className:"text-base font-medium text-slate-500 sm:text-lg",children:n}):null]})]}),S()]})})},We=.08,ss=(e,t,n)=>Math.max(t,Math.min(n,e)),Eh={minX:0,minY:0,spanX:1,spanY:1},Ph=({route:e,metrics:t,waypoints:n=[],onRouteClick:r,showRouteInfo:s=!1,realCoordinates:l})=>{const i=h.useRef(null),a=h.useId(),u=`${a}-grid`,c=`${a}-routeGradient`,m=`${a}-glow`,x=h.useMemo(()=>l!=null&&l.length?l.map(({lat:v,lng:P})=>[P,v]):e.pts.map(({x:v,y:P})=>[v,P]),[l,e.pts]),f=h.useMemo(()=>{if(!x.length)return Eh;const v=x.map(([C])=>C),P=x.map(([,C])=>C),_=Math.min(...v),N=Math.max(...v),j=Math.min(...P),b=Math.max(...P);return{minX:_,minY:j,spanX:Math.max(N-_,1),spanY:Math.max(b-j,1)}},[x]),y=h.useCallback(v=>{const P=f.spanX||1,_=f.spanY||1,N=We+(v.x-f.minX)/P*(1-We*2),j=We+(1-(v.y-f.minY)/_)*(1-We*2);return{x:ss(N,We,1-We),y:ss(j,We,1-We)}},[f.minX,f.spanX,f.spanY,f.minY]),w=h.useMemo(()=>x.length?x.map(([v,P])=>{const _=y({x:v,y:P});return`${(_.x*1e3).toFixed(2)},${(_.y*500).toFixed(2)}`}).join(" "):"",[y,x]),S=h.useMemo(()=>{if(e.total>0)return e.total;const v=e.cum.at(-1);return v&&v>0?v:0},[e.cum,e.total]),k=S?t.distance%S/S:0,p=h.useMemo(()=>{if(l!=null&&l.length){if(l.length===1)return l[0];const v=Math.min(l.length-1,Math.floor(k*(l.length-1)));return l[v]}return e.pts.length?Kd(e,k):null},[k,l,e]),d=h.useMemo(()=>p?"lat"in p&&"lng"in p?y({x:p.lng,y:p.lat}):y(p):null,[p,y]),g=h.useMemo(()=>n.length?n.map(v=>y(v)):[],[y,n]);return h.useEffect(()=>{if(!i.current||!r)return;const v=i.current,P=_=>{const N=v.getBoundingClientRect();if(!N.width||!N.height)return;const j=(_.clientX-N.left)/N.width,b=(_.clientY-N.top)/N.height,C=ss((j-We)/(1-We*2),0,1),E=ss((b-We)/(1-We*2),0,1),T=f.minX+f.spanX*C,z=f.minY+f.spanY*(1-E);r({x:T,y:z})};return v.addEventListener("click",P),()=>v.removeEventListener("click",P)},[f.minX,f.spanX,f.spanY,f.minY,r]),o.jsxs("div",{className:"relative rounded-3xl border border-glass-border bg-dark-950/40 p-6 shadow-lg shadow-dark-900/20 backdrop-blur-xl",children:[o.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-dark-900/60 via-dark-900/20 to-dark-800/20"}),o.jsxs("div",{className:"relative z-10 flex flex-col gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:e.name??"Virtual Route"}),o.jsxs("p",{className:"text-sm text-dark-400",children:["Distance ridden: ",t.distance.toFixed(1)," km of ",S.toFixed(1)," km"]})]}),o.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-dark-900/60 px-3 py-1 text-xs font-medium text-success-300",children:[o.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-success-400"}),"Live Tracking"]})]}),o.jsx("div",{className:"w-full overflow-hidden rounded-2xl border border-glass-border bg-dark-950/60 shadow-inner",children:o.jsxs("svg",{ref:i,viewBox:"0 0 1000 500",className:"h-full w-full",role:"img","aria-label":"Virtual route map",children:[o.jsxs("defs",{children:[o.jsx("pattern",{id:u,width:"50",height:"50",patternUnits:"userSpaceOnUse",children:o.jsx("path",{d:"M 50 0 L 0 0 0 50",fill:"none",stroke:"rgba(148, 163, 184, 0.12)",strokeWidth:"1"})}),o.jsxs("linearGradient",{id:c,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#38bdf8",stopOpacity:"0.9"}),o.jsx("stop",{offset:"50%",stopColor:"#34d399",stopOpacity:"0.9"}),o.jsx("stop",{offset:"100%",stopColor:"#fbbf24",stopOpacity:"0.9"})]}),o.jsxs("filter",{id:m,children:[o.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),o.jsx("rect",{x:"0",y:"0",width:"1000",height:"500",fill:`url(#${u})`}),w?o.jsxs(o.Fragment,{children:[o.jsx("polyline",{fill:"none",stroke:"rgba(56, 189, 248, 0.3)",strokeWidth:"10",points:w,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("polyline",{fill:"none",stroke:`url(#${c})`,strokeWidth:"5",points:w,strokeLinecap:"round",strokeLinejoin:"round",filter:`url(#${m})`})]}):null,g.map((v,P)=>o.jsxs("g",{children:[o.jsx("circle",{cx:v.x*1e3,cy:v.y*500,r:10,fill:"#ef4444",stroke:"#fff",strokeWidth:2,filter:`url(#${m})`}),o.jsx("circle",{cx:v.x*1e3,cy:v.y*500,r:16,fill:"none",stroke:"#ef4444",strokeWidth:1.5,opacity:.5,className:"animate-pulse"})]},`waypoint-${P}`)),d?o.jsxs("g",{children:[o.jsx("circle",{cx:d.x*1e3,cy:d.y*500,r:18,fill:"#fbbf24",opacity:.25,className:"animate-pulse"}),o.jsx("circle",{cx:d.x*1e3,cy:d.y*500,r:10,fill:"#f59e0b",stroke:"#fff",strokeWidth:2,filter:`url(#${m})`}),o.jsx("circle",{cx:d.x*1e3,cy:d.y*500,r:14,fill:"none",stroke:"#fbbf24",strokeWidth:1.5,className:"animate-pulse"})]}):null]})}),s&&o.jsxs("div",{className:"mt-4 p-4 bg-dark-800/50 border border-dark-700 rounded-xl",children:[o.jsx("h4",{className:"text-sm font-medium text-dark-300 mb-2",children:"Route Information"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-dark-500",children:"Points:"}),o.jsx("span",{className:"ml-2 text-dark-300",children:e.pts.length})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-dark-500",children:"Distance:"}),o.jsx("span",{className:"ml-2 text-dark-300",children:e.total.toFixed(2)})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-dark-500",children:"Elevation:"}),o.jsx("span",{className:"ml-2 text-dark-300",children:e.pts.some(v=>v.elevation!==void 0)?"Yes":"No"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-dark-500",children:"Name:"}),o.jsx("span",{className:"ml-2 text-dark-300",children:e.name||"Default Route"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 text-center sm:grid-cols-3",children:[o.jsxs("div",{className:"rounded-2xl border border-glass-border bg-dark-900/50 p-4",children:[o.jsx("p",{className:"text-xs uppercase tracking-widest text-dark-500",children:"Distance"}),o.jsxs("p",{className:"text-xl font-semibold text-dark-100",children:[t.distance.toFixed(2)," km"]})]}),o.jsxs("div",{className:"rounded-2xl border border-glass-border bg-dark-900/50 p-4",children:[o.jsx("p",{className:"text-xs uppercase tracking-widest text-dark-500",children:"Loop Progress"}),o.jsxs("p",{className:"text-xl font-semibold text-dark-100",children:[(k*100).toFixed(0),"%"]})]}),o.jsxs("div",{className:"rounded-2xl border border-glass-border bg-dark-900/50 p-4",children:[o.jsx("p",{className:"text-xs uppercase tracking-widest text-dark-500",children:"Waypoints"}),o.jsx("p",{className:"text-xl font-semibold text-dark-100",children:n.length})]})]})]})]})},Ch="https://esm.sh/maplibre-gl@3.7.0",Mh="https://unpkg.com/maplibre-gl@3.7.0/dist/maplibre-gl.css",gu="mapbox/streets-v12",bh="mapbox/traffic-day-v2",ls="route-line-source",xu="route-line-layer",Yl="3d-buildings-layer",os="mapbox-dem",_h=typeof window<"u",vu={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[]}},yu=[-122.4194,37.7749],wu=11,Jn=(e,t)=>{if(!e.startsWith("mapbox://"))return e;const n=e.replace("mapbox://","");if(n.startsWith("styles/"))return`https://api.mapbox.com/styles/v1/${n.replace("styles/","")}?access_token=${t}`;if(n.startsWith("sprites/")){const m=n.replace("sprites/","").split("/"),x=m.pop();if(!x)return e;const f=x.match(/([^@]+)(@[^.]*)?\.(png|json)$/);if(!f)return e;const[,y,w="",S]=f,k=m.join("/");return`https://api.mapbox.com/styles/v1/${k?`${k}/${y}`:y}/sprite${w}.${S}?access_token=${t}`}if(n.startsWith("glyphs/"))return`https://api.mapbox.com/fonts/v1/${n.replace("glyphs/","")}?access_token=${t}`;const[r,s=""]=n.split("?"),i=!r.endsWith(".json")&&!r.endsWith(".pbf")?`${r}.json`:r,a=new URLSearchParams(s);a.has("secure")||a.set("secure","1"),a.set("access_token",t);const u=a.toString();return`https://api.mapbox.com/v4/${i}${u?`?${u}`:""}`},Th=()=>{if(typeof document>"u"||document.getElementById("maplibre-gl-css"))return;const e=document.createElement("link");e.id="maplibre-gl-css",e.rel="stylesheet",e.href=Mh,document.head.appendChild(e)},Lh=({accessToken:e,route:t,options:n})=>{const r=h.useRef(null),s=h.useRef(null),l=h.useRef(),[i,a]=h.useState(!1),[u,c]=h.useState(!1),m=h.useRef(!1),x=h.useRef(""),f=h.useRef(null),y=h.useRef();if(!y.current){const N=t.pts[0],j=N&&typeof N.lat=="number"&&(typeof N.lon=="number"||typeof N.lng=="number");y.current={center:j?[N.lon??N.lng,N.lat]:yu,zoom:N?wu:2}}const w=h.useMemo(()=>t.pts.length?{type:"Feature",properties:t.name?{name:t.name}:{},geometry:{type:"LineString",coordinates:t.pts.filter(N=>typeof N.lat=="number"&&(typeof N.lon=="number"||typeof N.lng=="number")).map(N=>[N.lon??N.lng,N.lat])}}:null,[t]),S=h.useCallback(()=>{const N=s.current;if(!N||!N.isStyleLoaded())return;N.getSource(ls)||N.addSource(ls,{type:"geojson",data:w??vu});const j=N.getSource(ls);j==null||j.setData(w??vu),N.getLayer(xu)||N.addLayer({id:xu,type:"line",source:ls,layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":3,"line-color":"#38bdf8"}})},[w]),k=h.useCallback(N=>{var C,E;const j=s.current;if(!j||!j.isStyleLoaded())return;const b=j.getLayer(Yl);if(N){if(b)return;const z=(E=(((C=j.getStyle())==null?void 0:C.layers)??[]).find(O=>{if(O.type!=="symbol")return!1;const V=O.layout;return!!(V&&"text-field"in V&&V["text-field"])}))==null?void 0:E.id;j.addLayer({id:Yl,source:"composite","source-layer":"building",filter:["==","extrude","true"],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":"#aaa","fill-extrusion-height":["get","height"],"fill-extrusion-base":["get","min_height"],"fill-extrusion-opacity":.6}},z);return}b&&j.removeLayer(Yl)},[]),p=h.useCallback(N=>{const j=s.current;if(!j||!j.isStyleLoaded())return;const b=!!j.getSource(os);if(N){b||j.addSource(os,{type:"raster-dem",url:Jn("mapbox://mapbox.terrain-rgb",e),tileSize:512,maxzoom:14}),j.setTerrain({source:os,exaggeration:1});return}j.setTerrain(null),b&&j.removeSource(os)},[e]),d=h.useCallback(()=>{const N=s.current,j=l.current;if(!N||!N.isStyleLoaded()||!w||!j)return;const b=w.geometry.coordinates;if(!b.length)return;if(b.length===1){N.easeTo({center:b[0],zoom:14,duration:0}),m.current=!0;return}const C=b.reduce((E,T)=>E?E.extend(T):new j.LngLatBounds(T,T),null);C&&(N.fitBounds(C,{padding:48,maxZoom:16,duration:800}),m.current=!0)},[w]),g=h.useCallback(()=>{const N=s.current;if(!N)return;const j=n.show3D?60:0;N.easeTo({pitch:j,duration:600})},[n.show3D]),v=h.useCallback(()=>{S(),p(n.show3D),k(n.showBuildings||n.show3D)},[S,p,k,n.show3D,n.showBuildings]);h.useEffect(()=>{if(!_h)return;let N=!1;return(async()=>{try{Th();const b=await import(Ch);if(N)return;const C=b.default??b;l.current=C,c(!0)}catch(b){console.error("[MapboxDisplay] Failed to load maplibre-gl",b)}})(),()=>{N=!0}},[]),h.useEffect(()=>{if(!u)return;const N=l.current,j=r.current;if(!N||!j||s.current)return;const{center:b,zoom:C}=y.current??{center:yu,zoom:wu},E=Jn(`mapbox://styles/${gu}`,e),T=new N.Map({container:j,style:E,center:b,zoom:C,antialias:!0,transformRequest:V=>{if(V.startsWith("mapbox://"))return{url:Jn(V,e)};if(V.startsWith("https://api.mapbox.com")&&!V.includes("access_token=")){const M=V.includes("?")?"&":"?";return{url:`${V}${M}access_token=${e}`}}return{url:V}}});s.current=T,x.current=E;const z=()=>{a(!0)};T.once("load",z);const O=()=>{f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{T.resize()},150)};return window.addEventListener("resize",O),()=>{window.removeEventListener("resize",O),f.current&&clearTimeout(f.current),T.remove(),s.current=null,a(!1)}},[e,u]),h.useEffect(()=>{const N=s.current;if(!N)return;const j=()=>{v(),m.current||d(),g()};return N.on("style.load",j),()=>{N.off("style.load",j)}},[v,d,g]),h.useEffect(()=>{var N;i&&(v(),m.current||d(),g(),(N=s.current)==null||N.resize())},[i,v,d,g]),h.useEffect(()=>{m.current=!1},[t.name,t.pts.length]),h.useEffect(()=>{i&&(m.current||d())},[i,w,d]);const P=h.useMemo(()=>Jn(`mapbox://styles/${gu}`,e),[e]),_=h.useMemo(()=>Jn(`mapbox://styles/${bh}`,e),[e]);return h.useEffect(()=>{if(!i)return;const N=s.current;if(!N)return;const j=n.showTraffic?_:P;x.current!==j&&(x.current=j,N.setStyle(j))},[i,n.showTraffic,P,_]),o.jsx("div",{ref:r,className:"h-full w-full"})};class Kt{constructor(t){this.mapsLoaded=!1,this.loadPromise=null,this.apiKey=t.apiKey,this.mapId=t.mapId}static getInstance(t){if(!Kt.instance){if(!t)throw new Error("GoogleMapsManager requires config on first instantiation");Kt.instance=new Kt(t)}return Kt.instance}async loadGoogleMaps(){if(!this.mapsLoaded)return this.loadPromise?this.loadPromise:(this.loadPromise=new Promise((t,n)=>{var w,S;let r=null;const s=window.gm_authFailure,l=window.initGoogleMaps,i=()=>{window.gm_authFailure===c&&(s?window.gm_authFailure=s:delete window.gm_authFailure),window.initGoogleMaps===m&&(l?window.initGoogleMaps=l:delete window.initGoogleMaps)},a=()=>{if(this.mapsLoaded){i(),t();return}r&&(r.dataset.googleMapsLoaderStatus="loaded"),this.mapsLoaded=!0,i(),t()},u=k=>{r&&(r.dataset.googleMapsLoaderStatus="error",r.remove(),r=null),i(),this.loadPromise=null,"google"in window&&delete window.google,n(new Error(k))},c=()=>{s==null||s();const k=window.location.origin,p=window.location.pathname.replace(/[^/]*$/,""),d=`${k}${p}*`;u(`Google Maps authentication failed. Please verify that "${k}" or "${d}" is included in your API key restrictions.`)},m=()=>{l==null||l(),a()};if(typeof((S=(w=window.google)==null?void 0:w.maps)==null?void 0:S.StreetViewPanorama)=="function"){a();return}const f=document.querySelector('script[data-google-maps-loader="true"]');if(f){const{googleMapsLoaderStatus:k}=f.dataset;if(k==="loaded"){r=f,a();return}if(k==="loading"){r=f,window.initGoogleMaps=m,window.gm_authFailure=c;return}f.remove()}r=document.createElement("script"),r.async=!0,r.defer=!0,r.dataset.googleMapsLoader="true",r.dataset.googleMapsLoaderStatus="loading",r.dataset.googleMapsLoaderKey=this.apiKey;const y=new URLSearchParams({key:this.apiKey,libraries:"geometry",callback:"initGoogleMaps",loading:"async",v:"weekly"});this.mapId&&y.append("map_id",this.mapId),r.src=`https://maps.googleapis.com/maps/api/js?${y.toString()}`,window.initGoogleMaps=m,window.gm_authFailure=c,r.onerror=()=>{u("Failed to load Google Maps API")},document.head.appendChild(r)}).finally(()=>{this.mapsLoaded||(this.loadPromise=null)}),this.loadPromise)}isLoaded(){return this.mapsLoaded}geocodeAddress(t){return new Promise((n,r)=>{if(!this.mapsLoaded){r(new Error("Google Maps not loaded"));return}new google.maps.Geocoder().geocode({address:t},(l,i)=>{i===google.maps.GeocoderStatus.OK&&l[0]?n(l[0].geometry.location):r(new Error(`Geocoding failed: ${i}`))})})}reverseGeocode(t){return new Promise((n,r)=>{if(!this.mapsLoaded){r(new Error("Google Maps not loaded"));return}new google.maps.Geocoder().geocode({location:t},(l,i)=>{i===google.maps.GeocoderStatus.OK&&l[0]?n(l[0].formatted_address):r(new Error(`Reverse geocoding failed: ${i}`))})})}calculateDistance(t,n){if(!this.mapsLoaded)throw new Error("Google Maps not loaded");return google.maps.geometry.spherical.computeDistanceBetween(t,n)}interpolateAlongPath(t,n){if(!this.mapsLoaded)throw new Error("Google Maps not loaded");return google.maps.geometry.spherical.interpolate(t[0],t[t.length-1],n)}}class Rh{constructor(t){this.mapsManager=Kt.getInstance({apiKey:t})}async convertVirtualRouteToReal(t,n,r=1){if(!t.pts.length)throw new Error("Virtual route must contain at least one point");await this.mapsManager.loadGoogleMaps();const s=await this.mapsManager.geocodeAddress(n),l=t.pts.map(a=>{const u=(a.x-.5)*2*Math.PI,c=a.y*r,m=s.lat()*Math.PI/180,x=c*Math.cos(u)/111.32,f=c*Math.sin(u)/(111.32*Math.cos(m));return{...a,lat:s.lat()+x,lng:s.lng()+f}}),i=new Array(l.length).fill(0);for(let a=1;a<l.length;a+=1){const u=new google.maps.LatLng(l[a-1].lat,l[a-1].lng),c=new google.maps.LatLng(l[a].lat,l[a].lng),m=this.mapsManager.calculateDistance(u,c)/1e3;i[a]=i[a-1]+m}return{pts:l,cum:i,total:i[i.length-1],name:t.name}}async findNearbyStreetView(t,n=50){await this.mapsManager.loadGoogleMaps();const r=new google.maps.StreetViewService,s=new google.maps.LatLng(t.lat,t.lng);return new Promise(l=>{r.getPanorama({location:s,radius:n,source:google.maps.StreetViewSource.OUTDOOR},(i,a)=>{var u,c;if(a===google.maps.StreetViewStatus.OK&&i){l({lat:((u=i.location.latLng)==null?void 0:u.lat())??t.lat,lng:((c=i.location.latLng)==null?void 0:c.lng())??t.lng});return}l(null)})})}}const fe={streetViewUpdateMs:2e3,streetViewPointsPerStep:3,hudPosition:"top-left",streetViewPanMs:0,streetViewMinStepMs:800,streetViewMetersPerStep:15},Gs=500,Xs=1e4,hl=1,Ks=0,Qs=200,Ys=800,Zs=0,qs=5e3,re={updateMs:"streetViewUpdateMs",usePointStep:"streetViewUsePointStep",pointsPerStep:"streetViewPointsPerStep",hudPosition:"hudPosition",panMs:"streetViewPanMs",minStepMs:"streetViewMinStepMs",lockForwardHeading:"streetViewLockForwardHeading",usePowerToDriveSpeed:"usePowerToDriveSpeed",streetViewMetersPerStep:"streetViewMetersPerStep",headingMode:"streetViewHeadingMode",reverseRoute:"streetViewReverseRoute"},ws=(e,t,n)=>Number.isFinite(e)?Math.min(n,Math.max(t,Math.trunc(e))):t,Ih=e=>e==="1",Zl=(e,t,n,r)=>{if(e===null||e==="")return t;const s=Number(e);return Number.isFinite(s)?ws(s,n,r):t},Fh=(e,t)=>{if(e===null||e==="")return t;const n=Number(e);return Number.isFinite(n)?Math.max(hl,Math.trunc(n)):t},ae=()=>{if(typeof window>"u")return null;try{return window.localStorage}catch{return null}},Xi=()=>{const[e,t]=h.useState(()=>{const M=ae();return Zl((M==null?void 0:M.getItem(re.updateMs))??null,fe.streetViewUpdateMs,Gs,Xs)}),[n,r]=h.useState(()=>{const M=ae();return Ih((M==null?void 0:M.getItem(re.usePointStep))??null)}),[s,l]=h.useState(()=>{const M=ae();return Fh((M==null?void 0:M.getItem(re.pointsPerStep))??null,fe.streetViewPointsPerStep)}),[i,a]=h.useState(()=>{const M=ae(),$=(M==null?void 0:M.getItem(re.hudPosition))??fe.hudPosition;return $==="top-left"||$==="top-right"||$==="bottom-left"||$==="bottom-right"?$:fe.hudPosition}),[u,c]=h.useState(()=>{const M=ae(),$=Zl((M==null?void 0:M.getItem(re.panMs))??null,fe.streetViewPanMs,Ks,Ys);return $<=0?0:Math.max(Qs,$)}),[m,x]=h.useState(()=>{const M=ae();return Zl((M==null?void 0:M.getItem(re.minStepMs))??null,fe.streetViewMinStepMs,Zs,qs)}),[f,y]=h.useState(()=>{const M=ae();return(M==null?void 0:M.getItem(re.lockForwardHeading))!=="false"}),[w,S]=h.useState(()=>{const M=ae();return(M==null?void 0:M.getItem(re.usePowerToDriveSpeed))!=="false"}),[k,p]=h.useState(()=>{const M=ae(),$=(M==null?void 0:M.getItem(re.streetViewMetersPerStep))??null,L=$?Number($):fe.streetViewMetersPerStep;if(!Number.isFinite(L))return fe.streetViewMetersPerStep;const A=Math.trunc(L);return Math.max(3,Math.min(50,A))}),[d,g]=h.useState(()=>{const M=ae();return(M==null?void 0:M.getItem(re.headingMode))==="fixed"?"fixed":"forward"}),[v,P]=h.useState(()=>{const M=ae();return(M==null?void 0:M.getItem(re.reverseRoute))==="true"});h.useEffect(()=>{const M=ae();if(M)try{M.setItem(re.updateMs,String(e))}catch{}},[e]),h.useEffect(()=>{const M=ae();if(M)try{n?M.setItem(re.usePointStep,"1"):M.removeItem(re.usePointStep)}catch{}},[n]),h.useEffect(()=>{const M=ae();if(M)try{M.setItem(re.pointsPerStep,String(s))}catch{}},[s]),h.useEffect(()=>{const M=ae();if(M)try{M.setItem(re.hudPosition,i)}catch{}},[i]),h.useEffect(()=>{const M=ae();if(M)try{M.setItem(re.panMs,String(u))}catch{}},[u]),h.useEffect(()=>{const M=ae();if(M)try{M.setItem(re.minStepMs,String(m))}catch{}},[m]),h.useEffect(()=>{const M=ae();if(M)try{M.setItem(re.lockForwardHeading,String(f))}catch{}},[f]),h.useEffect(()=>{const M=ae();if(M)try{M.setItem(re.usePowerToDriveSpeed,String(w))}catch{}},[w]),h.useEffect(()=>{const M=ae();if(M)try{M.setItem(re.streetViewMetersPerStep,String(k))}catch{}},[k]),h.useEffect(()=>{const M=ae();if(M)try{M.setItem(re.headingMode,d)}catch{}},[d]),h.useEffect(()=>{const M=ae();if(M)try{M.setItem(re.reverseRoute,String(v))}catch{}},[v]);const _=h.useCallback(M=>{t($=>{const L=typeof $=="number"?$:fe.streetViewUpdateMs,A=Number.isFinite(M)?M:L;return ws(A,Gs,Xs)})},[]),N=h.useCallback(M=>{r(!!M)},[]),j=h.useCallback(M=>{l($=>{const L=typeof $=="number"?$:fe.streetViewPointsPerStep,A=Number.isFinite(M)?M:L;return Math.max(hl,Math.trunc(A))})},[]),b=h.useCallback(M=>{a(M)},[]),C=h.useCallback(M=>{c($=>{const L=typeof $=="number"?$:fe.streetViewPanMs,A=Number.isFinite(M)?Math.trunc(M):L;return A<=0?0:ws(Math.max(Qs,A),Ks,Ys)})},[]),E=h.useCallback(M=>{x($=>{const L=typeof $=="number"?$:fe.streetViewMinStepMs,A=Number.isFinite(M)?M:L;return ws(A,Zs,qs)})},[]),T=h.useCallback(M=>{S(!!M)},[]),z=h.useCallback(M=>{p($=>{const L=typeof $=="number"?$:fe.streetViewMetersPerStep,A=Number.isFinite(M)?Math.trunc(M):L;return Math.max(3,Math.min(50,A))})},[]),O=h.useCallback(M=>{g(M==="fixed"?"fixed":"forward")},[]),V=h.useCallback(M=>{P(!!M)},[]);return{streetViewUpdateMs:e,setStreetViewUpdateMs:_,usePointStep:n,setUsePointStep:N,streetViewPointsPerStep:s,setStreetViewPointsPerStep:j,hudPosition:i,setHudPosition:b,streetViewPanMs:u,setStreetViewPanMs:C,streetViewMinStepMs:m,setStreetViewMinStepMs:E,lockForwardHeading:f,setLockForwardHeading:y,usePowerToDriveSpeed:w,setUsePowerToDriveSpeed:T,streetViewMetersPerStep:k,setStreetViewMetersPerStep:z,headingMode:d,setHeadingMode:O,reverseRoute:v,setReverseRoute:V}},ql=2,Dh=200,Su=5,Jl=15,Ah="Golden Gate Park, San Francisco, CA",Yd=(e,t,n)=>Math.min(n,Math.max(t,e)),Oh=(e,t)=>{if(t<=0)return-1;const n=Yd(e,0,1);return t===1?0:Math.min(t-1,Math.floor(n*(t-1)))},zh=(e,t=Dh)=>{var x;if(!e.length)return[];const n=e.map(f=>new google.maps.LatLng(f.lat,f.lng));if(n.length===1)return n;const r=(x=google.maps.geometry)==null?void 0:x.spherical;if(!(r!=null&&r.computeDistanceBetween)){const f=[],y=Math.max(1,Math.floor(e.length/Math.max(Su,1)));for(let k=0;k<e.length&&(f.push(new google.maps.LatLng(e[k].lat,e[k].lng)),!(f.length>=Jl));k+=y);const w=f.at(-1),S=n.at(-1);return(!w||!w.equals(S))&&f.push(S),f}const s=new Array(n.length).fill(0);for(let f=1;f<n.length;f+=1)s[f]=s[f-1]+r.computeDistanceBetween(n[f-1],n[f]);const l=s[s.length-1];if(l<=0)return[n[0],n.at(-1)??n[0]].filter(Boolean);const i=Yd(Math.round(l/t)+1,Su,Jl),a=Math.min(i,n.length);if(a<=1)return[n[0]];const u=[],c=new Set,m=f=>{const y=`${f.lat().toFixed(6)}:${f.lng().toFixed(6)}`;c.has(y)||(c.add(y),u.push(f))};for(let f=0;f<a;f+=1){const y=l*f/(a-1);let w=s.findIndex(S=>S>=y);if(w===-1&&(w=s.length-1),m(n[w]),u.length>=Jl)break}return u.length||m(n[0]),m(n.at(-1)),u},$h=async e=>{if(!e.length)return[];const t=new google.maps.StreetViewService,n=[],r=new Set;for(const s of e){const l=await new Promise(i=>{t.getPanorama({location:s,radius:150,source:google.maps.StreetViewSource.OUTDOOR},(a,u)=>{var c;if(u===google.maps.StreetViewStatus.OK&&((c=a==null?void 0:a.location)!=null&&c.pano)){i({panoId:a.location.pano,description:a.location.description??void 0,latLng:a.location.latLng??s});return}i(null)})});l&&!r.has(l.panoId)&&(r.add(l.panoId),n.push(l))}return n},Uh=({route:e,distance:t,routeTotal:n,isRiding:r,apiKey:s,onLocationUpdate:l,onError:i})=>{const[a,u]=h.useState(!1),[c,m]=h.useState(!1),[x,f]=h.useState(null),[y,w]=h.useState(""),[S,k]=h.useState([]),[p,d]=h.useState([]),[g,v]=h.useState(!1),[P,_]=h.useState(0),N=h.useRef(null),j=h.useRef(null),b=h.useRef(null),C=h.useRef(null),E=h.useRef(-1),{reverseRoute:T}=Xi(),z=a||c,O=h.useCallback(()=>{d([]),E.current=-1,w("")},[]),V=h.useCallback(async()=>{var X;if(!s)return[];if(!((X=e==null?void 0:e.pts)!=null&&X.length))return[];const D=e.pts.filter(Z=>typeof Z.lat=="number"&&(typeof Z.lon=="number"||typeof Z.lng=="number"));if(D.length>=ql)return D.map(Z=>({lat:Z.lat,lng:Z.lon??Z.lng}));let B=C.current;B||(B=new Rh(s),C.current=B);const W=e.bounds?`${(e.bounds.minLat+e.bounds.maxLat)/2}, ${(e.bounds.minLon+e.bounds.maxLon)/2}`:Ah;try{return(await B.convertVirtualRouteToReal(e,W,2)).pts.filter(Q=>typeof Q.lat=="number"&&(typeof Q.lon=="number"||typeof Q.lng=="number")).map(Q=>({lat:Q.lat,lng:Q.lon??Q.lng}))}catch(Z){return console.error("StreetViewDisplay: failed to convert virtual route",Z),[]}},[s,e]);h.useEffect(()=>{if(!s){v(!1),b.current=null,j.current=null,k([]),O(),u(!1),m(!1),f(null);return}let D=!1;return u(!0),f(null),(async()=>{try{const W=Kt.getInstance({apiKey:s});if(b.current=W,await W.loadGoogleMaps(),D)return;v(!0),u(!1)}catch(W){if(D)return;const X=W instanceof Error?W.message:"Failed to load Google Maps";f(X),u(!1),v(!1),i==null||i(X)}})(),()=>{D=!0}},[s,P,i,O]),h.useEffect(()=>{if(!g||!N.current)return;const D={visible:!1,zoom:1,addressControl:!1,linksControl:!1,panControl:!1,zoomControl:!1,fullscreenControl:!1,motionTracking:!1,motionTrackingControl:!1};return j.current=new google.maps.StreetViewPanorama(N.current,D),()=>{j.current=null}},[g]),h.useEffect(()=>{if(!g||!s){k([]),O();return}let D=!1;return(async()=>{try{const W=await V();D||k(W)}catch(W){D||(console.error("StreetViewDisplay: unable to prepare Street View route",W),k([]),O(),i==null||i("Failed to prepare Street View route"))}})(),()=>{D=!0}},[s,V,g,i,O]),h.useEffect(()=>{O(),f(null)},[e,O]);const M=h.useMemo(()=>!g||S.length<ql?[]:zh(S),[g,S]);h.useEffect(()=>{if(!g)return;if(!M.length){d([]),E.current=-1,m(!1),f(null);return}let D=!1;return m(!0),(async()=>{try{const W=await $h(M);if(D)return;W.length?f(null):(f("No Street View imagery found along this route."),i==null||i("No Street View imagery found along this route.")),d(W)}catch(W){if(!D){console.error("StreetViewDisplay: failed to load panoramas",W);const X="Failed to load Street View imagery.";f(X),i==null||i(X),d([])}}finally{D||m(!1)}})(),()=>{D=!0}},[g,i,M]),h.useEffect(()=>{j.current&&(j.current.setVisible(p.length>0&&!x),E.current=-1)},[x,p]);const $=h.useMemo(()=>{const D=n>0?n:e.total,B=Math.max(1,D||1),W=(t%B+B)%B,X=D>0?W/B:0;return{fraction:X,percent:Math.round(X*100)}},[t,e.total,n]);h.useEffect(()=>{var Z;if(!j.current||!p.length)return;const D=T?1-$.fraction:$.fraction,B=Oh(D,p.length);if(B<0||B===E.current)return;const W=p[B];j.current.setPano(W.panoId),j.current.setPov({heading:0,pitch:0}),j.current.setZoom(1),j.current.setVisible(!0),E.current=B;const X=(Z=W.description)!=null&&Z.trim()&&W.description.trim().length>0?W.description.trim():W.latLng?`${W.latLng.lat().toFixed(4)}, ${W.latLng.lng().toFixed(4)}`:"Street View";w(X),l==null||l(X)},[l,p,$.fraction,T]);const L=h.useCallback(()=>{s&&(f(null),v(!1),k([]),O(),_(D=>D+1))},[s,O]),A=!s,F=S.length<ql;return o.jsxs("div",{className:"glass-card p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-dark-200",children:"Street View"}),y&&o.jsx("div",{className:"text-sm text-dark-400 max-w-xs truncate",children:y})]}),o.jsxs("div",{className:"relative w-full aspect-video bg-dark-900 rounded-xl overflow-hidden",children:[z&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-900/80 z-10",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"loading-spinner mx-auto mb-2"}),o.jsx("p",{className:"text-sm text-dark-400",children:"Loading Street View..."})]})}),x&&!A&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-900/80 z-20",children:o.jsxs("div",{className:"text-center p-4 max-w-md",children:[o.jsx("div",{className:"text-danger-400 mb-2",children:o.jsx("svg",{className:"w-8 h-8 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("p",{className:"text-sm text-dark-400",children:x}),o.jsx("button",{type:"button",onClick:L,className:"mt-4 rounded-lg bg-primary-500 px-4 py-2 text-sm font-medium text-white transition hover:bg-primary-400 focus:outline-none focus-visible:ring-2",children:"Try Again"})]})}),A&&!x&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-900/80 z-20 px-6 text-center",children:o.jsx("p",{className:"text-sm text-dark-300",children:"Add your Google Maps API key in Settings to enable Street View."})}),!A&&F&&!x&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-900/80 z-20 px-6 text-center",children:o.jsx("p",{className:"text-sm text-dark-300",children:"Street View needs GPX points with latitude/longitude."})}),o.jsx("div",{ref:N,className:"w-full h-full",style:{display:A||F?"none":"block"}})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${r?"bg-success-400 animate-pulse":"bg-dark-600"}`}),o.jsx("span",{className:"text-dark-400",children:r?"Riding":"Paused"})]}),o.jsxs("div",{className:"text-dark-400",children:["Position:",p.length>0?` ${$.percent}%`:" --"]})]})]})},Vh=e=>e<=0?1:e<=2?.5:e<=5?1:e<=20?2:e<=50?5:e<=100?10:20,Zo=(e,t,n)=>Math.min(Math.max(e,t),n),Bh=(e,t)=>h.useMemo(()=>{const{pts:n,cum:r,total:s}=e;if(!n.length||!r.length)return null;const l=Number.isFinite(t)&&t>0&&Number.isFinite(s)?t/(s||1):1,i=n.map((j,b)=>{const C=j.elevation,E=r[b]??0;return typeof C!="number"||!Number.isFinite(C)?null:{distanceKm:E*l,elevation:C}}).filter(j=>j!==null);if(i.length===0)return null;const a=i.map(j=>j.distanceKm),u=i.map(j=>j.elevation),c=Math.min(...a),m=Math.max(...a),x=m-c||1,f=Math.min(...u),y=Math.max(...u),w=y-f,S=Math.max(w*.1,5),k=f-S,d=y+S-k||1,g=j=>(j-c)/x*100,v=j=>100-(j-k)/d*100,P=i.map(j=>({x:g(j.distanceKm),y:v(j.elevation)})),_=P.map((j,b)=>`${b===0?"M":"L"} ${j.x},${j.y}`).join(" "),N=`${_} L ${P[P.length-1].x},100 L ${P[0].x},100 Z`;return{points:P,areaPath:N,linePath:_,minElevation:f,maxElevation:y,toX:j=>Zo(g(j),0,100),toY:j=>Zo(v(j),0,100),minDistance:c,maxDistance:m}},[e,t]),ku=e=>`${Math.round(e)} m`,Nu=e=>!Number.isFinite(e)||e<=0?"0 km":e<1?`${e.toFixed(1)} km`:e<10?`${e.toFixed(1)} km`:`${Math.round(e)} km`,Wh=({route:e,currentProgress:t,totalDistance:n})=>{const r=Bh(e,n),l=`elevation-profile-${h.useId().replace(/:/g,"")}`,i=r&&r.points.length>1,a=Number.isFinite(t)?Zo(t,0,1):0,u=Number.isFinite(n)&&n>0?n*a:0,c=h.useMemo(()=>{if(!e||e.pts.length<2)return null;try{return Kd(e,a)}catch{return null}},[e,a]),m=r?r.toX(u):0,x=r&&(c==null?void 0:c.elevation)!=null?r.toY(c.elevation):100,f=h.useMemo(()=>{if(!r||n<=0)return[];const y=Vh(n),w=[];for(let S=0;S<=n+y/2;S+=y){const k=Math.min(S,n);w.push({distance:k,label:Nu(Number(k.toFixed(2))),x:r.toX(k)})}return(w.length===0||w[w.length-1].distance<n)&&w.push({distance:n,label:Nu(n),x:r.toX(n)}),w.filter((S,k,p)=>{if(k===0)return!0;const d=p[k-1];return Math.abs(S.distance-d.distance)>.001})},[r,n]);return!i||!r?o.jsxs("section",{className:"mt-4 flex min-h-[140px] w-full flex-col items-center justify-center gap-2 rounded-2xl border border-dashed border-neutral-700 bg-neutral-900/40 p-6 text-center text-sm text-neutral-400","aria-label":"Elevation profile",children:[o.jsxs("svg",{className:"h-10 w-10 text-neutral-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",children:[o.jsx("path",{d:"M3 17H21"}),o.jsx("path",{d:"M5 13L9 9 13 12 21 4"}),o.jsx("path",{d:"M17 4H21V8"})]}),o.jsx("p",{children:"No elevation data available for this route."})]}):o.jsxs("section",{className:"mt-4 w-full rounded-2xl border border-neutral-800 bg-neutral-900/60 p-4 shadow-inner","aria-label":"Route elevation profile",children:[o.jsxs("header",{className:"mb-3 flex items-baseline justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold text-neutral-200",children:"Elevation profile"}),o.jsxs("p",{className:"text-xs text-neutral-400",children:[ku(r.minElevation)," – ",ku(r.maxElevation)]})]}),o.jsx("div",{className:"relative h-32 w-full",children:o.jsxs("svg",{className:"h-full w-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",role:"img","aria-labelledby":`${l}-title`,children:[o.jsx("title",{id:`${l}-title`,children:"Route elevation in metres across distance"}),o.jsx("defs",{children:o.jsxs("linearGradient",{id:`${l}-fill`,x1:"0",x2:"0",y1:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:"rgb(59 130 246)",stopOpacity:"0.35"}),o.jsx("stop",{offset:"100%",stopColor:"rgb(59 130 246)",stopOpacity:"0"})]})}),[20,40,60,80].map(y=>o.jsx("line",{x1:"0",y1:y,x2:"100",y2:y,stroke:"currentColor",strokeWidth:.3,className:"text-neutral-800",strokeDasharray:"2 2"},`grid-${y}`)),o.jsx("path",{d:r.areaPath,fill:`url(#${l}-fill)`}),o.jsx("path",{d:r.linePath,fill:"none",stroke:"rgb(59 130 246)",strokeWidth:1.4,strokeLinejoin:"round",strokeLinecap:"round"}),o.jsx("line",{x1:m,y1:"0",x2:m,y2:"100",stroke:"rgb(248 250 252 / 0.4)",strokeWidth:.6,strokeDasharray:"1 3",className:"transition-all duration-300 ease-out"}),o.jsx("g",{className:"transition-all duration-300 ease-out",transform:`translate(${m}, ${x})`,children:o.jsx("circle",{r:1.5,fill:"#22c55e",stroke:"#065f46",strokeWidth:.5})})]})}),o.jsx("div",{className:"relative mt-3 h-6",children:f.map(y=>o.jsxs("div",{className:"absolute flex -translate-x-1/2 flex-col items-center text-[10px] text-neutral-400",style:{left:`${y.x}%`},"aria-hidden":"true",children:[o.jsx("span",{className:"h-2 w-px bg-neutral-700"}),o.jsx("span",{className:"mt-1 whitespace-nowrap",children:y.label})]},`marker-${y.distance.toFixed(2)}`))})]})},ju=e=>e?e.intervals.reduce((t,n)=>t+Math.max(n.duration,0),0):0,Hh=(e,t)=>Number.isNaN(e)||e<0?0:Math.min(e,Math.max(t-1,0)),cn=e=>{const t=Number.isFinite(e)&&e>0?e:0,n=Math.floor(t/60),r=Math.floor(t%60);return`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},Gh=({workouts:e,activeWorkoutId:t=null,currentIntervalIndex:n=0,overallElapsedSeconds:r=0,intervalElapsedSeconds:s=0,targetMetrics:l,onStartWorkout:i})=>{const a=e.find(k=>k.id===t)??null,u=ju(a),c=a?Hh(n,a.intervals.length):0,m=(a==null?void 0:a.intervals[c])??null,x=(m==null?void 0:m.duration)??0,f=Math.max(x-s,0),y=u>0?Math.min(Math.max(r/u,0),1):0,w=x>0?Math.min(Math.max(s/x,0),1):0,S=sr.useMemo(()=>l&&l.length>0?l:m?[{label:"Target Power",value:m.targetPower,unit:"W"}]:[],[m,l]);return o.jsxs("section",{className:"flex flex-col gap-6 rounded-2xl border border-slate-200 bg-white/70 p-6 shadow-sm backdrop-blur","aria-label":"Workout management panel",children:[o.jsxs("header",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Workout"}),a?o.jsx("span",{className:"rounded-full bg-sky-100 px-3 py-1 text-xs font-medium uppercase tracking-wide text-sky-700",children:"Active"}):o.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium uppercase tracking-wide text-slate-500",children:"Idle"})]}),a?o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[o.jsx("span",{className:"font-medium text-slate-800",children:a.name}),o.jsxs("span",{children:[Math.round(y*100),"%"]})]}),o.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200",children:o.jsx("div",{className:"h-full rounded-full bg-sky-500 transition-all",style:{width:`${y*100}%`},role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(y*100),"aria-label":"Overall workout progress"})}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[o.jsx("span",{children:cn(r)}),o.jsx("span",{children:cn(u)})]})]}):o.jsx("p",{className:"text-sm text-slate-500",children:"Choose a workout from the list to begin your training session."})]}),o.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[o.jsxs("section",{className:"flex flex-col gap-4 rounded-xl border border-slate-200 bg-white/90 p-4 shadow-sm","aria-label":"Workout interval timer",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Interval Timer"}),a&&m?o.jsxs("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:["Interval ",c+1," of ",a.intervals.length]}):null]}),a&&m?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-baseline justify-between text-sm text-slate-600",children:[o.jsx("span",{children:"Elapsed"}),o.jsx("span",{children:cn(s)})]}),o.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200",children:o.jsx("div",{className:"h-full rounded-full bg-emerald-500 transition-all",style:{width:`${w*100}%`},role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Math.round(w*100),"aria-label":"Interval progress"})}),o.jsxs("div",{className:"flex items-baseline justify-between text-sm text-slate-600",children:[o.jsx("span",{children:"Remaining"}),o.jsx("span",{children:cn(f)})]})]}):o.jsx("p",{className:"text-sm text-slate-500",children:"Start a workout to see live interval timing updates."})]}),o.jsxs("section",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white/90 p-4 shadow-sm","aria-label":"Target metrics",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Target Metrics"}),a&&m?o.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-500",children:"Current Interval"}):null]}),S.length>0?o.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:S.map(k=>o.jsx(Wt,{label:k.label,value:k.value,unit:k.unit,precision:k.precision},k.label))}):o.jsx("p",{className:"text-sm text-slate-500",children:"No target metrics available."})]})]}),o.jsxs("section",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-white/90 p-4 shadow-sm","aria-label":"Workout list",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Available Workouts"}),e.length>0?o.jsx("ul",{className:"flex flex-col gap-3",children:e.map(k=>{const p=ju(k),d=(a==null?void 0:a.id)===k.id;return o.jsxs("li",{className:`flex flex-col gap-3 rounded-lg border p-4 transition-colors ${d?"border-sky-300 bg-sky-50/60":"border-transparent bg-white"}`,children:[o.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-base font-semibold text-slate-900",children:k.name}),o.jsxs("span",{className:"text-xs uppercase tracking-wide text-slate-500",children:[k.intervals.length," intervals · ",cn(p)]})]}),o.jsx("button",{type:"button",onClick:()=>i==null?void 0:i(k.id),className:`inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-semibold transition-colors focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-500 ${d?"bg-slate-200 text-slate-600":"bg-sky-600 text-white hover:bg-sky-500"}`,disabled:d,children:d?"In Progress":"Start"})]}),o.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:k.intervals.map((g,v)=>o.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-100 px-3 py-2 text-xs font-medium text-slate-600",children:[o.jsxs("span",{children:["Interval ",v+1]}),o.jsxs("span",{children:[cn(g.duration)," · ",g.targetPower," W"]})]},`${k.id}-interval-${v}`))})]},k.id)})}):o.jsx("p",{className:"text-sm text-slate-500",children:"No workouts available."})]})]})},Xh=e=>e?new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"}).format(e):"Never",Kh=({environment:e,connectedDevices:t=[],isScanning:n=!1,lastScanAt:r=null,errorMessage:s=null})=>{const l=[{label:"Bluetooth Supported",value:e.supportsBluetooth?"Yes":"No"},{label:"Bluetooth Available",value:e.bluetoothAvailable?"Available":"Unavailable"},{label:"Bluetooth Enabled",value:e.bluetoothEnabled?"Enabled":"Disabled"}],i=!!s,a=t.filter(u=>u.connected);return o.jsxs("section",{className:"flex flex-col gap-6 rounded-2xl border border-slate-200 bg-white/80 p-6 shadow-sm backdrop-blur-sm",children:[o.jsxs("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Bluetooth Diagnostics"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Review the current environment support and active bluetooth devices."})]}),o.jsxs("div",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-sm font-medium ${n?"bg-sky-100 text-sky-700":a.length>0?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,"aria-live":"polite",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-current"}),n?"Scanning for devices":a.length>0?`${a.length} device${a.length===1?"":"s"} connected`:"Idle"]})]}),i?o.jsxs("div",{role:"alert",className:"rounded-xl border border-rose-200 bg-rose-50 p-4 text-sm text-rose-700",children:[o.jsx("h3",{className:"mb-1 font-semibold",children:"Connection error"}),o.jsx("p",{children:s})]}):null,o.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[l.map(u=>o.jsxs("dl",{className:"rounded-xl border border-slate-100 bg-white p-4 shadow-sm",children:[o.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:u.label}),o.jsx("dd",{className:"mt-2 text-lg font-medium text-slate-900",children:u.value})]},u.label)),o.jsxs("dl",{className:"rounded-xl border border-slate-100 bg-white p-4 shadow-sm",children:[o.jsx("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Last Scan"}),o.jsx("dd",{className:"mt-2 text-lg font-medium text-slate-900",children:Xh(r)})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Connected devices"}),a.length>0?o.jsx("ul",{className:"grid gap-3 sm:grid-cols-2",children:a.map(u=>o.jsxs("li",{className:"flex flex-col gap-1 rounded-xl border border-emerald-100 bg-emerald-50/80 p-4 text-sm text-emerald-800",children:[o.jsx("span",{className:"font-semibold text-emerald-900",children:u.name||"Unnamed"}),o.jsxs("span",{className:"text-xs uppercase tracking-wide text-emerald-700",children:["ID: ",u.id]}),o.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-emerald-600",children:"Status: Connected"})]},u.id))}):o.jsx("p",{className:"rounded-xl border border-slate-100 bg-slate-50 p-4 text-sm text-slate-600",children:"No active bluetooth connections detected."})]})]})},Zd=({size:e="md",className:t=""})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return o.jsx("div",{className:`loading-spinner ${n[e]} ${t}`.trim(),role:"status","aria-label":"Loading",children:o.jsx("style",{jsx:!0,children:`
        .loading-spinner {
          border: 2px solid rgba(59, 130, 246, 0.2);
          border-top: 2px solid #3b82f6;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }
      `})})},Qh=(e,t)=>t?o.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary-400",children:[o.jsx(Zd,{size:"sm"}),"Connecting..."]}):e!=null&&e.connected?o.jsxs("div",{className:"flex items-center gap-2 text-xs text-success-400",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-success-400 animate-pulse"}),"Connected"]}):o.jsxs("div",{className:"flex items-center gap-2 text-xs text-dark-500",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-dark-600"}),"Disconnected"]}),Yh=({env:e,devices:t,status:n,onConnectFTMS:r,onConnectCPS:s,onConnectHR:l,onRefreshEnv:i,onShowFix:a,onDisconnectDevice:u,onDisconnectAll:c,isConnecting:m={}})=>{const[x,f]=h.useState(null),y=h.useMemo(()=>[{key:"ftms",name:"Smart Trainer",description:"Controls resistance and provides power/cadence/speed data",icon:"🚴",color:"primary",connect:r,isConnecting:!!m.ftms,device:t.ftms},{key:"cps",name:"Power Meter",description:"Provides accurate power and cadence data",icon:"⚡",color:"warning",connect:s,isConnecting:!!m.cps,device:t.cps},{key:"hr",name:"Heart Rate Monitor",description:"Provides real-time heart rate data",icon:"❤️",color:"danger",connect:l,isConnecting:!!m.hr,device:t.hr}],[t,m,s,r,l]),w=e.canUse??!1,S=()=>{if(c){c();return}u&&Object.keys(t).forEach(k=>{const p=t[k];p!=null&&p.connected&&u(k)})};return o.jsxs("div",{className:"glass-card p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-dark-200",children:"Device Connections"}),o.jsx("p",{className:"text-sm text-dark-400 mt-1",children:"Connect your Bluetooth devices to start tracking metrics"})]}),!w&&o.jsx("button",{onClick:a,className:"btn-warning text-sm",children:"Fix Bluetooth"})]}),o.jsx("div",{className:"space-y-4",children:y.map(k=>{var p,d,g,v,P,_,N,j;return o.jsxs("div",{className:`glass-card-hover p-4 cursor-pointer transition-all duration-200 ${x===k.key?"ring-2 ring-primary-500/50":""}`,onClick:()=>f(x===k.key?null:k.key),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"text-3xl",children:k.icon}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-dark-200",children:k.name}),o.jsx("p",{className:"text-sm text-dark-400",children:k.description}),((p=k.device)==null?void 0:p.name)&&o.jsxs("p",{className:"text-xs text-dark-500 mt-1",children:["Device: ",k.device.name]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[Qh(k.device,k.isConnecting),o.jsx("button",{onClick:b=>{var C;b.stopPropagation(),!((C=k.device)!=null&&C.connected)&&!k.isConnecting&&k.connect()},disabled:!w||((d=k.device)==null?void 0:d.connected)||k.isConnecting,className:`px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${(g=k.device)!=null&&g.connected?"bg-success-500/20 text-success-400 border border-success-500/30":k.isConnecting?"bg-primary-500/20 text-primary-400 border border-primary-500/30":w?`btn-${k.color}`:"bg-dark-800 text-dark-500 cursor-not-allowed"}`,children:(v=k.device)!=null&&v.connected?"Connected":k.isConnecting?"Connecting...":w?"Connect":"Unavailable"})]})]}),x===k.key&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-glass-border space-y-3 animate-slide-down",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-dark-500",children:"Status:"}),o.jsx("span",{className:"ml-2 text-dark-300",children:(P=k.device)!=null&&P.connected?"Connected":"Disconnected"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-dark-500",children:"Type:"}),o.jsx("span",{className:"ml-2 text-dark-300 capitalize",children:k.key.replace(/([A-Z])/g," $1").trim()})]}),((_=k.device)==null?void 0:_.id)&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-dark-500",children:"Device ID:"}),o.jsx("span",{className:"ml-2 text-dark-300 font-mono text-xs",children:k.device.id})]})]}),((N=k.device)==null?void 0:N.connected)&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-success-400",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-success-400 animate-pulse"}),"Device is actively transmitting data"]}),((j=k.device)==null?void 0:j.connected)&&u&&o.jsx("button",{type:"button",className:"btn-secondary text-xs text-danger-400 hover:text-danger-300",onClick:b=>{b.stopPropagation(),u(k.key)},children:"Disconnect Device"})]})]},k.key)})}),n&&o.jsx("div",{className:"p-4 bg-dark-800/50 border border-dark-700 rounded-xl",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-400 animate-pulse"}),o.jsx("span",{className:"text-sm text-dark-300",children:n})]})}),!w&&o.jsx("div",{className:"p-4 bg-warning-500/10 border border-warning-500/20 rounded-xl",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-warning-400 text-xl",children:"⚠️"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-warning-400",children:"Bluetooth Not Available"}),o.jsx("p",{className:"text-sm text-dark-400 mt-1",children:"Your browser or environment doesn't support Bluetooth connections. Try using Chrome/Edge on desktop or check your connection settings."}),o.jsx("button",{onClick:a,className:"mt-2 text-sm text-warning-400 hover:text-warning-300 underline",children:"Learn how to fix this"})]})]})}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx("button",{onClick:i,className:"btn-secondary text-sm",children:"Refresh Connections"}),Object.values(t).some(k=>k==null?void 0:k.connected)&&o.jsx("button",{onClick:S,className:"btn-secondary text-sm text-danger-400 hover:text-danger-300",children:"Disconnect All"})]})]})},Zh=10*1024*1024,qh=({route:e,isLoading:t,error:n,onLoadGPX:r,onResetToDefault:s})=>{const l=h.useId(),i=h.useRef(null),[a,u]=h.useState(!1),[c,m]=h.useState(null),[x,f]=h.useState(null),[y,w]=h.useState(null);h.useEffect(()=>{n&&(m(null),f(null))},[n]);const S=h.useCallback(()=>{i.current&&(i.current.value="")},[]),k=h.useCallback(b=>b.name.toLowerCase().endsWith(".gpx")?b.size>Zh?(f("File is too large. Please upload a GPX file smaller than 10MB."),!1):!0:(f("Unsupported file type. Please choose a .gpx file."),!1),[]),p=h.useCallback(async b=>{if(!t){if(m(null),f(null),!k(b)){S();return}w(b.name);try{await r(b),m(`Loaded route from ${b.name}`)}catch(C){const E=C instanceof Error?C.message:"Unable to load the selected GPX file.";f(E),w(null)}finally{S()}}},[S,t,r,k]),d=h.useCallback(async b=>{var E;const C=(E=b.target.files)==null?void 0:E[0];C&&await p(C)},[p]),g=h.useCallback(()=>{var b;t||(b=i.current)==null||b.click()},[t]),v=h.useCallback(()=>{s(),S(),w(null),f(null),m("Restored default route")},[S,s]),P=h.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?u(!0):b.type==="dragleave"&&u(!1)},[]),_=h.useCallback(b=>{var E;b.preventDefault(),b.stopPropagation(),u(!1);const C=(E=b.dataTransfer.files)==null?void 0:E[0];C&&p(C)},[p]),N=h.useMemo(()=>x??n,[n,x]),j=!N&&!t?c:null;return o.jsxs("section",{className:"glass-card space-y-4 p-6","aria-label":"Route loader",children:[o.jsxs("header",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-50",children:"Route"}),e.name?o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-success-500/10 px-3 py-1 text-xs font-medium text-success-300",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-success-400"}),e.name]}):null]}),o.jsx("p",{className:"text-sm text-slate-300",children:"Load a GPX file to override the current route or restore the default route at any time."}),o.jsxs("p",{className:"text-sm text-slate-400",children:[o.jsx("span",{className:"font-medium text-slate-200",children:"Current route:"})," ",e.name??"Unnamed route"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsx("input",{id:l,ref:i,type:"file",accept:".gpx,application/gpx+xml",className:"sr-only",onChange:d}),o.jsx("button",{type:"button",className:"btn-primary relative inline-flex items-center gap-2",onClick:g,disabled:t,children:t?o.jsxs(o.Fragment,{children:[o.jsx(Zd,{size:"sm"}),"Loading..."]}):o.jsxs(o.Fragment,{children:[o.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Select GPX file"]})}),o.jsx("label",{htmlFor:l,className:"sr-only",children:"Select a GPX file to load a new route"}),o.jsx("button",{type:"button",className:"btn-secondary",onClick:v,disabled:t,children:"Reset to default route"})]}),o.jsx("div",{className:`relative rounded-2xl border-2 border-dashed p-6 transition-all duration-200 ${a?"border-primary-500 bg-primary-500/10":"border-white/10 bg-white/5 hover:border-white/20"}`,onDragEnter:P,onDragLeave:P,onDragOver:P,onDrop:_,children:o.jsxs("div",{className:"text-center",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs("p",{className:"text-sm text-slate-300",children:["Drag and drop your GPX file here, or",o.jsx("button",{type:"button",onClick:g,className:"ml-1 text-primary-300 underline transition hover:text-primary-200",disabled:t,children:"browse"})]}),o.jsx("p",{className:"text-xs text-slate-400",children:"Supports GPX format files up to 10MB."}),y?o.jsxs("p",{className:"text-xs text-slate-300",children:["Selected file: ",o.jsx("span",{className:"font-medium text-slate-100",children:y})]}):null]})]})}),o.jsxs("div",{className:"space-y-3","aria-live":"polite",children:[N?o.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-danger-500/20 bg-danger-500/10 p-4",role:"alert",children:[o.jsx("svg",{className:"mt-0.5 h-5 w-5 text-danger-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-danger-200",children:"Failed to load GPX file"}),o.jsx("p",{className:"mt-1 text-xs text-slate-300",children:N})]})]}):null,j?o.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-success-500/20 bg-success-500/10 p-4",children:[o.jsx("svg",{className:"mt-0.5 h-5 w-5 text-success-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-success-200",children:"Route loaded successfully"}),o.jsx("p",{className:"mt-1 text-xs text-slate-300",children:j})]})]}):null,!N&&!t&&e.pts.length>0?o.jsxs("div",{className:"flex items-start gap-3 rounded-xl border border-primary-500/20 bg-primary-500/10 p-4",children:[o.jsx("svg",{className:"mt-0.5 h-5 w-5 text-primary-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6l4 2"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-primary-200",children:"Route details"}),o.jsxs("p",{className:"mt-1 text-xs text-slate-300",children:[e.pts.length," waypoints • ",e.total.toFixed(2)," total distance"]})]})]}):null]})]})},Eu=`# Using mkcert for local HTTPS
devcert generate localhost
# Start vite with https
vite --https --cert ./localhost.pem --key ./localhost-key.pem`,Pu=`<meta http="Permissions-Policy" content="bluetooth=(self)">
<!-- Or HTTP header -->
Permissions-Policy: bluetooth=(self)`,Cu=`server {
    listen 443 ssl;
    server_name trainer.example.com;

    ssl_certificate /etc/letsencrypt/live/trainer.example.com/fullchain.pem;
    ssl_certificate_key /etc/letsencrypt/live/trainer.example.com/privkey.pem;

    add_header Permissions-Policy "bluetooth=(self)" always;
    add_header Cross-Origin-Opener-Policy "same-origin" always;
    add_header Cross-Origin-Embedder-Policy "require-corp" always;

    location / {
        proxy_pass http://localhost:5173;
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-Proto https;
    }
}`,Mu=`trainer.example.com {
    tls you@example.com
    header Permissions-Policy "bluetooth=(self)"
    header Cross-Origin-Opener-Policy "same-origin"
    header Cross-Origin-Embedder-Policy "require-corp"
    reverse_proxy localhost:5173
}`,Jh=({isOpen:e,onClose:t})=>{const[n,r]=sr.useState(null),s=sr.useCallback((l,i)=>{const a=()=>{r(l),window.setTimeout(()=>{r(c=>c===l?null:c)},2500)};if(navigator.clipboard&&typeof navigator.clipboard.writeText=="function"){navigator.clipboard.writeText(i).then(a);return}const u=document.createElement("textarea");u.value=i,u.setAttribute("readonly",""),u.style.position="absolute",u.style.left="-9999px",document.body.appendChild(u),u.select(),document.execCommand("copy"),document.body.removeChild(u),a()},[]);return sr.useEffect(()=>{e||r(null)},[e]),e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/70 px-4 py-8",role:"dialog","aria-modal":"true","aria-labelledby":"fix-bluetooth-modal-heading",children:o.jsxs("div",{className:"relative flex max-h-full w-full max-w-4xl flex-col gap-6 overflow-hidden rounded-2xl bg-white p-6 shadow-2xl",children:[o.jsx("button",{type:"button",className:"absolute right-4 top-4 text-slate-400 transition hover:text-slate-600",onClick:t,"aria-label":"Close troubleshooting modal",children:o.jsx("span",{"aria-hidden":!0,children:"×"})}),o.jsxs("header",{className:"flex flex-col gap-2",children:[o.jsx("h2",{id:"fix-bluetooth-modal-heading",className:"text-2xl font-semibold text-slate-900",children:"Fix Web Bluetooth Connection Issues"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Follow these steps to unlock Web Bluetooth in modern browsers. This checklist covers secure contexts, permissions policy headers, and embedding gotchas that commonly block device pairing."})]}),o.jsxs("section",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"1. Serve the app over HTTPS"}),o.jsxs("p",{className:"text-sm text-slate-600",children:["Web Bluetooth only works from a secure origin. Use a trusted certificate in production and locally via self-signed certificates or tooling such as ",o.jsx("code",{children:"mkcert"}),". Upgrade all development URLs to",o.jsx("code",{children:"https://"})," before re-trying device discovery."]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[o.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[o.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Quick start with mkcert"}),o.jsx("button",{type:"button",className:"inline-flex items-center gap-1 rounded-lg bg-sky-600 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white transition hover:bg-sky-500",onClick:()=>s("https",Eu),children:n==="https"?"Copied!":"Copy"})]}),o.jsx("pre",{className:"overflow-x-auto text-xs text-slate-800",children:o.jsx("code",{children:Eu})})]})]}),o.jsxs("section",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"2. Allow Bluetooth in the Permissions Policy"}),o.jsxs("p",{className:"text-sm text-slate-600",children:["Chromium-based browsers require a ",o.jsx("code",{children:"Permissions-Policy"})," header or meta tag that lists",o.jsx("code",{children:"bluetooth"}),". Without it, the Web Bluetooth API silently rejects connection requests."]}),o.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[o.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[o.jsx("p",{className:"text-sm font-medium text-slate-700",children:"HTML meta or response header"}),o.jsx("button",{type:"button",className:"inline-flex items-center gap-1 rounded-lg bg-sky-600 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white transition hover:bg-sky-500",onClick:()=>s("policy",Pu),children:n==="policy"?"Copied!":"Copy"})]}),o.jsx("pre",{className:"overflow-x-auto text-xs text-slate-800",children:o.jsx("code",{children:Pu})})]})]}),o.jsxs("section",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"3. Escape restrictive iframes"}),o.jsxs("p",{className:"text-sm text-slate-600",children:["Embedded contexts frequently block Web Bluetooth because of missing ",o.jsx("code",{children:"allow"})," tokens or sandbox attributes. Whenever possible, run the dashboard in a top-level tab."]}),o.jsxs("ul",{className:"list-disc space-y-2 pl-6 text-sm text-slate-600",children:[o.jsxs("li",{children:["Add ",o.jsx("code",{children:'allow="bluetooth *; fullscreen *"'})," to the iframe and remove the ",o.jsx("code",{children:"sandbox"}),"flag or include ",o.jsx("code",{children:"allow-scripts allow-same-origin"}),"."]}),o.jsxs("li",{children:["Provide an “Open in new tab” escape hatch that links to the HTTPS version of the dashboard using",o.jsx("code",{children:'target="_blank" rel="noopener"'}),"."]}),o.jsxs("li",{children:["If you must stay embedded, ensure the parent origin lists the child in its ",o.jsx("code",{children:"Permissions-Policy"}),"and ",o.jsx("code",{children:"Cross-Origin-Embedder-Policy"})," headers."]})]})]}),o.jsxs("section",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"4. Harden the server configuration"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Send headers that opt into secure cross-origin isolation and expose Bluetooth permissions. Below are two production-ready examples you can adapt to your deployment."}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("article",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-slate-50 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-800",children:"Nginx reverse proxy"}),o.jsx("button",{type:"button",className:"inline-flex items-center gap-1 rounded-lg bg-sky-600 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white transition hover:bg-sky-500",onClick:()=>s("nginx",Cu),children:n==="nginx"?"Copied!":"Copy"})]}),o.jsx("pre",{className:"overflow-x-auto text-xs text-slate-800",children:o.jsx("code",{children:Cu})})]}),o.jsxs("article",{className:"flex flex-col gap-3 rounded-xl border border-slate-200 bg-slate-50 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-800",children:"Caddy server"}),o.jsx("button",{type:"button",className:"inline-flex items-center gap-1 rounded-lg bg-sky-600 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white transition hover:bg-sky-500",onClick:()=>s("caddy",Mu),children:n==="caddy"?"Copied!":"Copy"})]}),o.jsx("pre",{className:"overflow-x-auto text-xs text-slate-800",children:o.jsx("code",{children:Mu})})]})]})]}),o.jsxs("footer",{className:"flex flex-col gap-2 rounded-xl border border-emerald-200 bg-emerald-50 p-4 text-sm text-emerald-700",children:[o.jsx("p",{className:"font-semibold",children:"Quick verification"}),o.jsxs("ol",{className:"list-decimal space-y-1 pl-5",children:[o.jsx("li",{children:"Reload the page over HTTPS and open DevTools → Security to confirm a secure connection."}),o.jsxs("li",{children:["Check the Permissions Policy tab to ensure ",o.jsx("code",{children:"bluetooth"})," is allowed for your origin."]}),o.jsx("li",{children:"Retry scanning with the iframe removed or after opening the dedicated tab."})]})]})]})}):null},e0=[{id:"virtual",label:"Virtual",icon:"🚴"},{id:"street",label:"Street",icon:"🏙️"},{id:"mapbox",label:"Mapbox 3D",icon:"🗺️"},{id:"osm",label:"OpenStreetMap",icon:"🌍"}],t0=({value:e,onChange:t,disabledOptions:n})=>o.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-dark-900/80 p-2 shadow-inner",children:e0.map(r=>{const s=e===r.id,l=!!(n!=null&&n[r.id]);return o.jsxs("button",{type:"button",onClick:()=>t(r.id),className:`flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-all ${s?"bg-primary-500 text-white shadow-lg":"text-dark-300 hover:bg-dark-800 hover:text-dark-50"} ${l?"cursor-not-allowed opacity-50":""}`,disabled:l,children:[o.jsx("span",{children:r.icon}),r.label]},r.id)})}),bu=({label:e,description:t,value:n,placeholder:r,onChange:s,saved:l=!1,error:i,initiallyRevealed:a=!1,"data-testid":u})=>{const c=h.useId(),m=t?`${c}-description`:void 0,x=i?`${c}-error`:void 0,f=l&&!i?`${c}-status`:void 0,[y,w]=h.useState(a),S=y?"Hide API key":"Show API key";return o.jsxs("div",{className:"space-y-2 text-sm","data-testid":u,children:[o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsx("label",{htmlFor:c,className:"font-medium text-neutral-200",children:e}),i?o.jsx("span",{id:x,role:"alert",className:"text-xs font-medium text-rose-400","data-testid":"api-key-status",children:i}):l?o.jsx("span",{id:f,role:"status",className:"text-xs font-medium text-emerald-400","data-testid":"api-key-status","aria-live":"polite",children:"Saved"}):null]}),t?o.jsx("p",{id:m,className:"text-xs text-neutral-400",children:t}):null,o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:c,type:y?"text":"password",value:n,onChange:k=>s(k.target.value),placeholder:r,"aria-describedby":[m,x,f].filter(Boolean).join(" ")||void 0,"aria-invalid":!!i||void 0,className:"w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-neutral-100 placeholder-neutral-500 focus-visible:border-emerald-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500",autoComplete:"off"}),o.jsx("button",{type:"button",onClick:()=>w(k=>!k),"aria-label":S,"aria-pressed":y,className:"absolute inset-y-0 right-2 flex items-center rounded-md px-2 text-lg text-neutral-400 transition-colors hover:text-neutral-100 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-500","data-testid":"api-key-toggle",children:o.jsx("span",{"aria-hidden":"true",children:y?"🙈":"👁️"})})]})]})},eo=e=>{const{value:t}=e.target;if(t==="")return null;const n=Number(t);return Number.isFinite(n)?Math.trunc(n):null},to=(e,t,n)=>Math.min(n,Math.max(t,e)),n0=e=>Math.max(hl,Math.trunc(e));function r0(){const{streetViewUpdateMs:e,setStreetViewUpdateMs:t,usePointStep:n,setUsePointStep:r,streetViewPointsPerStep:s,setStreetViewPointsPerStep:l,hudPosition:i,setHudPosition:a,streetViewPanMs:u,setStreetViewPanMs:c,streetViewMinStepMs:m,setStreetViewMinStepMs:x,lockForwardHeading:f,setLockForwardHeading:y,usePowerToDriveSpeed:w,setUsePowerToDriveSpeed:S,streetViewMetersPerStep:k,setStreetViewMetersPerStep:p,headingMode:d,setHeadingMode:g,reverseRoute:v,setReverseRoute:P}=Xi(),_=C=>{const E=eo(C),T=E===null?fe.streetViewUpdateMs:to(E,Gs,Xs);t(T)},N=C=>{const E=eo(C),T=E===null?fe.streetViewPointsPerStep:n0(E);l(T)},j=C=>{const E=Number(C.target.value);if(!Number.isFinite(E)){c(fe.streetViewPanMs);return}const T=Math.trunc(E),z=T<=0?0:to(Math.max(Qs,T),Ks,Ys);c(z)},b=C=>{const E=eo(C),T=E===null?fe.streetViewMinStepMs:to(E,Zs,qs);x(T)};return o.jsxs("section",{className:"space-y-4 pt-4 border-t border-neutral-800",children:[o.jsx("h3",{className:"text-sm font-semibold text-neutral-200",children:"Street View"}),o.jsxs("label",{className:"block text-sm text-neutral-300",children:[o.jsx("span",{className:"text-xs text-neutral-400",children:"Update every (ms)"}),o.jsx("input",{type:"number",min:Gs,max:Xs,step:100,placeholder:String(fe.streetViewUpdateMs),value:e,onChange:_,className:"mt-1 w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100 placeholder-neutral-500 focus-visible:border-emerald-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"}),o.jsx("span",{className:"mt-1 block text-[11px] text-neutral-500",children:"Controls how often the panorama advances. Larger = slower."})]}),o.jsxs("label",{className:"block text-sm text-neutral-300",children:[o.jsx("span",{className:"text-xs text-neutral-400",children:"HUD position (fullscreen)"}),o.jsxs("select",{value:i,onChange:C=>a(C.target.value),className:"mt-1 w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100 focus-visible:border-emerald-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500",children:[o.jsx("option",{value:"top-left",children:"Top-left"}),o.jsx("option",{value:"top-right",children:"Top-right"}),o.jsx("option",{value:"bottom-left",children:"Bottom-left"}),o.jsx("option",{value:"bottom-right",children:"Bottom-right"})]}),o.jsx("span",{className:"mt-1 block text-[11px] text-neutral-500",children:"Choose where the stats HUD appears while in fullscreen."})]}),o.jsxs("details",{className:"rounded-lg border border-neutral-800 bg-neutral-950/40 p-3 text-sm text-neutral-300",children:[o.jsx("summary",{className:"cursor-pointer text-xs font-medium text-neutral-200",children:"Advanced: step by points"}),o.jsxs("div",{className:"mt-3 space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-xs text-neutral-300",children:[o.jsx("input",{type:"checkbox",checked:n,onChange:C=>r(C.target.checked),className:"h-4 w-4"}),o.jsx("span",{children:"Use points instead of time"})]}),o.jsxs("label",{className:"block text-xs text-neutral-300",children:[o.jsx("span",{className:"text-neutral-400",children:"Points per step"}),o.jsx("input",{type:"number",min:hl,step:1,value:s,onChange:N,disabled:!n,className:"mt-1 w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100 placeholder-neutral-500 focus-visible:border-emerald-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500 disabled:cursor-not-allowed disabled:opacity-60"})]})]})]}),o.jsxs("label",{className:"block text-sm text-neutral-300",title:"Ease Street View heading/pitch over this time. 0 = off (snaps).",children:[o.jsx("span",{className:"text-xs text-neutral-400",children:"Pan Duration (ms)"}),o.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[o.jsx("input",{type:"range",min:Ks,max:Ys,step:50,value:u===0?0:Math.max(Qs,u),onChange:j,className:"h-2 w-full cursor-pointer accent-emerald-500",list:"street-view-pan-duration-ticks","aria-valuetext":u===0?"Off":`${u} milliseconds`}),o.jsx("span",{className:"w-14 text-right text-xs text-neutral-400",children:u===0?"Off":`${u} ms`})]}),o.jsxs("datalist",{id:"street-view-pan-duration-ticks",children:[o.jsx("option",{value:"0",label:"Off"}),o.jsx("option",{value:"200"}),o.jsx("option",{value:"400"}),o.jsx("option",{value:"600"}),o.jsx("option",{value:"800"}),o.jsx("option",{value:"1000"}),o.jsx("option",{value:"1200"}),o.jsx("option",{value:"1500"})]}),o.jsx("span",{className:"mt-1 block text-[11px] text-neutral-500",children:"Ease Street View heading/pitch over this time. 0 = off (snaps)."})]}),o.jsxs("label",{className:"block text-sm text-neutral-300",children:[o.jsx("span",{className:"text-xs text-neutral-400",children:"Min time between Street View changes (ms)"}),o.jsx("input",{type:"number",min:Zs,max:qs,step:50,placeholder:String(fe.streetViewMinStepMs),value:m,onChange:b,className:"mt-1 w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm text-neutral-100 placeholder-neutral-500 focus-visible:border-emerald-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-500"}),o.jsx("span",{className:"mt-1 block text-[11px] text-neutral-500",children:"Cooldown between panorama switches. Prevents rapid oscillation when moving slowly."})]}),o.jsxs("label",{className:"mt-3 flex items-center gap-2 text-sm text-neutral-300",children:[o.jsx("input",{type:"checkbox",checked:w,onChange:C=>S(C.target.checked),className:"h-4 w-4"}),o.jsx("span",{children:"Use power to drive speed (fallback when FTMS speed missing)"})]}),o.jsxs("label",{className:"mt-2 block text-sm text-neutral-300",children:[o.jsx("span",{className:"text-xs text-neutral-400",children:"Street View step (meters)"}),o.jsx("input",{type:"number",min:3,max:50,step:1,className:"mt-1 w-full rounded-lg border border-neutral-700 bg-neutral-950 px-3 py-2 text-sm",value:k,onChange:C=>p(Math.max(3,Math.min(50,Math.trunc(Number(C.target.value)||15))))}),o.jsx("span",{className:"mt-1 block text-[11px] text-neutral-500",children:"Camera advances every N meters you “ride”."})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[o.jsx("input",{type:"checkbox",checked:f,onChange:C=>y(C.target.checked),className:"h-4 w-4"}),o.jsx("span",{children:"Lock forward heading (prevent POV drift)"})]}),o.jsxs("label",{className:"mt-3 block text-sm text-neutral-300",children:[o.jsx("span",{className:"text-xs text-neutral-400",children:"Heading mode"}),o.jsxs("div",{className:"mt-1 flex gap-4 text-sm",children:[o.jsxs("label",{className:"inline-flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"sv-heading-mode",checked:d==="forward",onChange:()=>g("forward")}),o.jsx("span",{children:"Forward (follow route)"})]}),o.jsxs("label",{className:"inline-flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"sv-heading-mode",checked:d==="fixed",onChange:()=>g("fixed")}),o.jsx("span",{children:"Fixed (no turning)"})]})]}),o.jsx("span",{className:"mt-1 block text-[11px] text-neutral-500",children:"“Fixed” keeps the camera looking the same direction even on bends."})]}),o.jsxs("label",{className:"mt-2 inline-flex items-center gap-2 text-sm text-neutral-300",children:[o.jsx("input",{type:"checkbox",checked:v,onChange:C=>P(C.target.checked),className:"h-4 w-4"}),o.jsx("span",{children:"Reverse route direction"})]}),o.jsx("p",{className:"text-[11px] text-neutral-500",children:"Changes save automatically."})]})}const is={google:"googleMapsApiKey",mapbox:"mapboxApiKey"},no=()=>{if(typeof window>"u")return null;try{return window.localStorage}catch(e){return console.warn("[useApiKeys] Unable to access localStorage",e),null}},_u=(e,t)=>{if(!e)return"";try{return e.getItem(t)??""}catch(n){return console.warn(`[useApiKeys] Failed to read ${t} from localStorage`,n),""}},Tu=(e,t,n)=>{if(e)try{n?e.setItem(t,n):e.removeItem(t)}catch(r){console.warn(`[useApiKeys] Failed to persist ${t} to localStorage`,r)}},s0=()=>{const e=no(),[t,n]=h.useState(()=>_u(e,is.google)),[r,s]=h.useState(()=>_u(e,is.mapbox));h.useEffect(()=>{Tu(no(),is.google,t)},[t]),h.useEffect(()=>{Tu(no(),is.mapbox,r)},[r]);const l=h.useCallback(()=>{n("")},[]),i=h.useCallback(()=>{s("")},[]);return{googleMapsApiKey:t,mapboxApiKey:r,setGoogleMapsApiKey:n,setMapboxApiKey:s,clearGoogleMapsApiKey:l,clearMapboxApiKey:i}},qo=[{id:"dashboard",label:"Dashboard",icon:"📊"},{id:"workouts",label:"Workouts",icon:"🎯"},{id:"analysis",label:"Analysis",icon:"📈"},{id:"routes",label:"Routes",icon:"🗺️"},{id:"settings",label:"Settings",icon:"⚙️"}],l0={virtual:"Virtual Map",street:"Street View",mapbox:"Mapbox 3D",osm:"OpenStreetMap"},o0=["virtual","street","mapbox","osm"],Lu={ftms:"FTMS Trainer",cps:"Power & Cadence",hr:"Heart Rate"},i0=(e,t)=>t[e]?o0.find(r=>!t[r])??"virtual":e,Ru=e=>qo.some(t=>t.id===e);function a0(){const[e,t]=h.useState(!1),[n,r]=h.useState(!1),[s,l]=h.useState(!1),[i,a]=h.useState(""),[u,c]=h.useState(()=>{if(typeof window>"u")return"dashboard";const I=window.location.hash.replace("#","");return Ru(I)?I:"dashboard"}),[m,x]=h.useState("virtual"),{googleMapsApiKey:f,mapboxApiKey:y,setGoogleMapsApiKey:w,setMapboxApiKey:S}=s0(),[k,p]=h.useState({showBuildings:!0,showTraffic:!1,show3D:!0,animationSpeed:1,autoFollow:!0,centerCoords:[-122.4194,37.7749],radiusKm:1}),d=h.useRef([]),{hudPosition:g,usePowerToDriveSpeed:v}=Xi(),P=g==="top-left"?"left-4 top-4":g==="top-right"?"right-4 top-4":g==="bottom-left"?"left-4 bottom-4":"right-4 bottom-4",_=h.useCallback(I=>{c(I)},[]),N=h.useCallback((I,H)=>{if(I.key!=="ArrowRight"&&I.key!=="ArrowLeft")return;I.preventDefault();const ne=I.key==="ArrowRight"?1:-1,ie=qo.length,ye=(H+ne+ie)%ie,ut=d.current[ye];ut==null||ut.focus()},[]);h.useEffect(()=>{if(typeof window>"u")return;const I=()=>{const H=window.location.hash.replace("#","");Ru(H)&&c(H)};return window.addEventListener("hashchange",I),()=>{window.removeEventListener("hashchange",I)}},[]),h.useEffect(()=>{typeof window>"u"||window.location.hash.replace("#","")!==u&&(window.location.hash=u)},[u]);const j=!f,b=!y,C=h.useMemo(()=>{const I={};return j&&(I.street=!0),b&&(I.mapbox=!0),I},[j,b]),E=h.useMemo(()=>i0(m,C),[m,C]);h.useEffect(()=>{E!==m&&x(E)},[E,m]);const{environment:T,connectedDevices:z,statuses:O,errors:V,refreshEnvironment:M,connectFTMS:$,connectCPS:L,connectHR:A,disconnect:F,connectionState:D}=nh(),B=h.useMemo(()=>({ftms:O.ftms==="connecting"||O.ftms==="requesting",cps:O.cps==="connecting"||O.cps==="requesting",hr:O.hr==="connecting"||O.hr==="requesting"}),[O.cps,O.ftms,O.hr]),W=h.useMemo(()=>{const I=Object.keys(O).filter(ie=>O[ie]==="connecting"||O[ie]==="requesting");if(I.length>0)return`Connecting to ${I.map(ye=>Lu[ye]).join(", ")}...`;const H=Object.keys(V).find(ie=>{const ye=V[ie];return typeof ye=="string"&&ye.length>0});if(H)return`${Lu[H]} error: ${V[H]}`;const ne=Object.keys(z).filter(ie=>{var ye;return(ye=z[ie])==null?void 0:ye.connected}).length;if(ne>0)return`${ne} device${ne===1?"":"s"} connected`},[z,V,O]),X=h.useCallback(()=>{["ftms","cps","hr"].forEach(I=>{F(I)})},[F]),Z=h.useMemo(()=>Object.values(z).filter(I=>!!I),[z]),Q=h.useMemo(()=>Object.values(O).some(I=>I==="connecting"||I==="requesting"),[O]),Ce=h.useMemo(()=>{const I=D.connectionHistory;if(!I.length)return null;const H=I[I.length-1];return new Date(H.timestamp)},[D.connectionHistory]),sn=h.useMemo(()=>Object.values(V).find(I=>typeof I=="string"&&I.length>0)??null,[V]),{metrics:xe,samples:ln,elapsed:Dr,startRide:Ar,stopRide:qd,resetRide:Jd}=ih(e,n,{usePowerToDriveSpeed:v}),{route:ve,isLoading:ef,error:tf,lastLoadedFile:$n,loadGPX:nf,resetToDefault:rf}=xh(),wt=h.useMemo(()=>{const I=Number.isFinite(ve.total)?ve.total/1e3:0,H=ve.pts.some(ne=>typeof ne.elevation=="number");return{totalKm:I,hasElevation:H,points:ve.pts.length}},[ve]),on=wt.totalKm,sf=h.useMemo(()=>{if(!Number.isFinite(on)||on<=0)return 0;const I=xe.distance/on;return Number.isFinite(I)?Math.min(Math.max(I,0),1):0},[xe.distance,on]),gl=h.useRef(null),[Un,lf]=h.useState(!1),xl=h.useCallback(async()=>{var I,H;if(gl.current)try{await((H=(I=gl.current).requestFullscreen)==null?void 0:H.call(I))}catch{}},[]),vl=h.useCallback(async()=>{var I;try{document.fullscreenElement&&await((I=document.exitFullscreen)==null?void 0:I.call(document))}catch{}},[]);h.useEffect(()=>{const I=()=>lf(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",I),()=>document.removeEventListener("fullscreenchange",I)},[]),h.useEffect(()=>{const I=H=>{H.key.toLowerCase()==="f"&&(Un?vl():xl())};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[xl,vl,Un]);const yl=h.useMemo(()=>kh.map(H=>({...H,intervals:H.intervals.map(ne=>({...ne,targetPower:Math.round(ne.targetPower*200)}))})),[]),[of,Ki]=h.useState(null),{isActive:af,elapsed:uf,intervalElapsed:cf,currentIntervalIndex:df,currentInterval:Qi,targetPower:wl,targetCadence:Sl,start:Yi,reset:Zi,setPlan:qi}=Sh(),ff=h.useCallback(I=>{const H=yl.find(ie=>ie.id===I);if(!H)return;Yi(H)?Ki(I):(Zi(),qi(null),Ki(null))},[Zi,qi,Yi,yl]),pf=h.useMemo(()=>{if(Qi)return[{label:"Target Power",value:Math.round(wl),unit:"W"},{label:"Target Cadence",value:Sl,unit:"rpm"}]},[Qi,Sl,wl]);h.useEffect(()=>{T.canUse===!1&&!e&&t(!0)},[T.canUse,e]);const Ji=()=>{Ar()&&r(!0)},ea=()=>{qd()&&r(!1)},ta=()=>{Jd()&&r(!1)},mf=async I=>{try{await navigator.clipboard.writeText(I),a("Copied!"),setTimeout(()=>a(""),1500)}catch{a("Couldn't copy—select manually"),setTimeout(()=>a(""),2500)}},hf=()=>o.jsxs("div",{"data-testid":"screen-dashboard",className:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-[360px_minmax(0,1fr)]",children:[o.jsxs("section",{className:"order-1 space-y-4 lg:order-2",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx(t0,{value:E,onChange:x,disabledOptions:Object.keys(C).length?C:void 0}),(j||b)&&o.jsx("div",{className:"text-center text-xs text-neutral-400",children:o.jsxs("div",{className:"space-y-1",children:[j&&o.jsx("p",{children:"Add a Google Maps API key in Settings to enable Street View."}),b&&o.jsx("p",{children:"Add a Mapbox token in Settings to enable Mapbox 3D."})]})})]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-2xl border border-neutral-800 bg-neutral-900/50 px-3 py-2",children:[o.jsx("div",{className:"truncate text-sm text-neutral-400",children:ve.name??"Active route"}),o.jsxs("div",{className:"flex items-center gap-2",children:[n?o.jsx("button",{onClick:ea,className:"rounded-lg bg-amber-600 px-3 py-1.5 hover:bg-amber-500",children:"Pause"}):o.jsx("button",{onClick:Ji,className:"rounded-lg bg-emerald-600 px-3 py-1.5 hover:bg-emerald-500",children:"Start"}),o.jsx("button",{onClick:ta,className:"rounded-lg bg-neutral-800 px-3 py-1.5 hover:bg-neutral-700",children:"Reset"}),o.jsx("button",{onClick:()=>fu(`ride-${new Date().toISOString()}.csv`,ln),className:"rounded-lg bg-neutral-800 px-3 py-1.5 hover:bg-neutral-700",children:"Export"}),o.jsx("button",{type:"button",onClick:Un?vl:xl,className:"rounded-lg border border-neutral-700 px-3 py-1.5 text-sm hover:bg-neutral-800",children:Un?"Exit Fullscreen":"Fullscreen"})]})]}),o.jsxs("div",{ref:gl,className:"relative",children:[o.jsx("h3",{className:"sr-only",children:l0[E]}),E==="virtual"&&o.jsx(Ph,{route:ve,metrics:xe,showRouteInfo:!0}),E==="street"&&o.jsxs(o.Fragment,{children:[o.jsx(Uh,{route:ve,distance:xe.distance,routeTotal:ve.total,isRiding:n,apiKey:f,onError:I=>console.error(I)}),wt.hasElevation&&on>0&&o.jsx(Wh,{route:ve,currentProgress:sf,totalDistance:on})]}),E==="mapbox"&&y&&o.jsx("div",{className:"relative h-[60vh] min-h-[360px] overflow-hidden rounded-2xl border border-neutral-800",children:o.jsx(Lh,{accessToken:y,route:ve,options:{showBuildings:k.showBuildings,showTraffic:k.showTraffic,show3D:k.show3D}})}),E==="mapbox"&&!y&&o.jsx("div",{className:"rounded-2xl border border-dashed border-neutral-800 bg-neutral-900/30 p-6 text-center text-neutral-500",children:"Add a Mapbox token in Settings to enable Mapbox 3D."}),E==="osm"&&o.jsx("div",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4 text-center text-neutral-400",children:"OpenStreetMap view would be implemented here."}),Un&&o.jsxs("div",{className:`pointer-events-none absolute ${P} z-50 grid grid-cols-3 gap-2 rounded-xl bg-neutral-900/70 p-3 backdrop-blur`,role:"status","aria-live":"polite",children:[o.jsx(dn,{label:"Power",value:xe.power,unit:"W"}),o.jsx(dn,{label:"Cadence",value:xe.cadence,unit:"rpm"}),o.jsx(dn,{label:"Speed",value:xe.speed,unit:"kph"}),o.jsx(dn,{label:"Distance",value:xe.distance,unit:"km"}),o.jsx(dn,{label:"Heart",value:xe.hr,unit:"bpm"}),o.jsx(dn,{label:"Elapsed",value:Dr})]})]}),o.jsxs("div",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h3",{className:"mb-3 text-sm font-medium text-neutral-200",children:"Route summary"}),o.jsxs("dl",{className:"space-y-1 text-sm text-neutral-400",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-300",children:"Name"}),o.jsx("dd",{children:ve.name??"Active route"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-300",children:"Distance"}),o.jsxs("dd",{children:[wt.totalKm.toFixed(2)," km"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-300",children:"Points"}),o.jsx("dd",{children:wt.points})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-300",children:"Elevation data"}),o.jsx("dd",{children:wt.hasElevation?"Available":"Not available"})]}),$n?o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-300",children:"Source"}),o.jsx("dd",{className:"truncate text-right",title:$n,children:$n})]}):null]})]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Recent Samples"}),o.jsx("div",{className:"overflow-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"text-neutral-400",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2 text-left",children:"Time"}),o.jsx("th",{className:"p-2 text-right",children:"Power"}),o.jsx("th",{className:"p-2 text-right",children:"Cadence"}),o.jsx("th",{className:"p-2 text-right",children:"Speed"}),o.jsx("th",{className:"p-2 text-right",children:"Distance"}),o.jsx("th",{className:"p-2 text-right",children:"HR"})]})}),o.jsx("tbody",{children:ln.slice(-30).map((I,H)=>{var ne,ie,ye,ut,Ut,Vn,Or,na;return o.jsxs("tr",{className:"border-t border-neutral-800",children:[o.jsx("td",{className:"p-2",children:new Date(I.ts).toLocaleTimeString()}),o.jsx("td",{className:"p-2 text-right",children:(ie=(ne=I.power)==null?void 0:ne.toFixed)==null?void 0:ie.call(ne,0)}),o.jsx("td",{className:"p-2 text-right",children:(ut=(ye=I.cadence)==null?void 0:ye.toFixed)==null?void 0:ut.call(ye,0)}),o.jsx("td",{className:"p-2 text-right",children:(Vn=(Ut=I.speed)==null?void 0:Ut.toFixed)==null?void 0:Vn.call(Ut,1)}),o.jsx("td",{className:"p-2 text-right",children:(na=(Or=I.distance)==null?void 0:Or.toFixed)==null?void 0:na.call(Or,3)}),o.jsx("td",{className:"p-2 text-right",children:I.hr??""})]},H)})})]})})]})]}),o.jsxs("aside",{className:"order-2 space-y-6 self-start lg:order-1 lg:sticky lg:top-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 auto-rows-[minmax(0,1fr)] text-center",children:[o.jsx(Wt,{label:"Power",value:xe.power,unit:"W",target:wl,priority:"high"}),o.jsx(Wt,{label:"Cadence",value:xe.cadence,unit:"rpm",target:Sl,priority:"high"}),o.jsx(Wt,{label:"Heart Rate",value:xe.hr,unit:"bpm",priority:"high"}),o.jsx(Wt,{label:"Speed",value:xe.speed,unit:"kph",priority:"medium"}),o.jsx(Wt,{label:"Distance",value:xe.distance,unit:"km",priority:"medium"}),o.jsx(Wt,{label:"Elapsed",value:Dr,unit:"",priority:"low"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[n?o.jsx("button",{onClick:ea,className:"rounded-xl bg-amber-600 px-4 py-2 hover:bg-amber-500",children:"Pause"}):o.jsx("button",{onClick:Ji,className:"rounded-xl bg-emerald-600 px-4 py-2 hover:bg-emerald-500",children:"Start"}),o.jsx("button",{onClick:ta,className:"rounded-xl bg-neutral-800 px-4 py-2 hover:bg-neutral-700",children:"Reset"}),o.jsx("button",{onClick:()=>fu(`ride-${new Date().toISOString()}.csv`,ln),className:"rounded-xl bg-neutral-800 px-4 py-2 hover:bg-neutral-700",children:"Export"})]}),o.jsx("a",{href:"#settings",className:"block text-xs text-neutral-400 underline underline-offset-2 hover:text-neutral-200",children:"Manage Bluetooth in Settings →"})]})]}),gf=af?of:null,xf=()=>o.jsx("div",{"data-testid":"screen-workouts",className:"mt-6",children:o.jsx(Gh,{workouts:yl,activeWorkoutId:gf,currentIntervalIndex:df,overallElapsedSeconds:uf,intervalElapsedSeconds:cf,targetMetrics:pf,onStartWorkout:ff})}),vf=()=>o.jsxs("div",{"data-testid":"screen-analysis",className:"mt-6 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Power Analysis"}),o.jsx("div",{className:"h-64",children:"Analysis chart would be implemented here"})]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Heart Rate Analysis"}),o.jsx("div",{className:"h-64",children:"Analysis chart would be implemented here"})]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Cadence Analysis"}),o.jsx("div",{className:"h-64",children:"Analysis chart would be implemented here"})]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Speed Analysis"}),o.jsx("div",{className:"h-64",children:"Analysis chart would be implemented here"})]})]}),yf=()=>o.jsxs("div",{"data-testid":"screen-routes",className:"mt-6 space-y-6",children:[o.jsx(qh,{route:ve,isLoading:ef,error:tf,onLoadGPX:nf,onResetToDefault:rf}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h3",{className:"mb-3 text-lg font-medium",children:"Current Route Summary"}),o.jsxs("dl",{className:"grid grid-cols-1 gap-y-2 text-sm text-neutral-300 sm:grid-cols-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-200",children:"Name"}),o.jsx("dd",{children:ve.name??"Active route"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-200",children:"Distance"}),o.jsxs("dd",{children:[wt.totalKm.toFixed(2)," km"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-200",children:"Points"}),o.jsx("dd",{children:wt.points})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("dt",{className:"font-medium text-neutral-200",children:"Elevation data"}),o.jsx("dd",{children:wt.hasElevation?"Available":"Not available"})]})]}),$n?o.jsxs("p",{className:"mt-3 text-xs text-neutral-500",children:["Last loaded file: ",$n]}):null]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h3",{className:"mb-3 text-lg font-medium",children:"Route Debug Preview"}),o.jsxs("ol",{className:"space-y-2 text-xs text-neutral-400",children:[ve.pts.slice(0,5).map((I,H)=>{var ne,ie,ye,ut,Ut,Vn;return o.jsxs("li",{children:[o.jsxs("span",{className:"font-medium text-neutral-200",children:["Point ",H+1,":"]})," ","x=",((ie=(ne=I.x).toFixed)==null?void 0:ie.call(ne,2))??I.x,", y=",((ut=(ye=I.y).toFixed)==null?void 0:ut.call(ye,2))??I.y,typeof I.elevation=="number"?`, elevation=${((Vn=(Ut=I.elevation).toFixed)==null?void 0:Vn.call(Ut,1))??I.elevation}`:""]},`${I.x}-${I.y}-${H}`)}),ve.pts.length>5?o.jsxs("li",{className:"text-neutral-500",children:["…and ",ve.pts.length-5," more points"]}):null]})]})]}),wf=()=>o.jsxs("div",{"data-testid":"screen-settings",className:"mt-6 space-y-6",children:[o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-4 text-lg font-medium",children:"API Keys"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(bu,{label:"Google Maps API key",description:"Paste your key to enable Street View",value:f,onChange:w,placeholder:"Paste your key to enable Street View",saved:!!f,"data-testid":"google-api-field"}),o.jsx(bu,{label:"Mapbox access token",description:"Add a token to enable Mapbox 3D",value:y,onChange:S,placeholder:"Add a token to enable Mapbox 3D",saved:!!y,"data-testid":"mapbox-api-field"}),o.jsx(r0,{})]})]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Mapbox Options"}),o.jsxs("div",{className:"space-y-3 text-sm text-neutral-300",children:[o.jsxs("label",{className:"flex items-center justify-between gap-4",children:[o.jsx("span",{children:"Show buildings"}),o.jsx("input",{type:"checkbox",checked:k.showBuildings,onChange:I=>p(H=>({...H,showBuildings:I.target.checked}))})]}),o.jsxs("label",{className:"flex items-center justify-between gap-4",children:[o.jsx("span",{children:"Show traffic"}),o.jsx("input",{type:"checkbox",checked:k.showTraffic,onChange:I=>p(H=>({...H,showTraffic:I.target.checked}))})]}),o.jsxs("label",{className:"flex items-center justify-between gap-4",children:[o.jsx("span",{children:"Enable 3D mode"}),o.jsx("input",{type:"checkbox",checked:k.show3D,onChange:I=>p(H=>({...H,show3D:I.target.checked}))})]})]})]}),o.jsxs("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:[o.jsx("h2",{className:"mb-3 text-lg font-medium",children:"Device Connections"}),o.jsx(Yh,{env:T,devices:z,status:W,onConnectFTMS:$,onConnectCPS:L,onConnectHR:A,onRefreshEnv:M,onShowFix:()=>l(!0),onDisconnectDevice:F,onDisconnectAll:X,isConnecting:B})]}),o.jsx("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4",children:o.jsx(Kh,{environment:T,connectedDevices:Z,isScanning:Q,lastScanAt:Ce,errorMessage:sn})}),o.jsx("section",{className:"rounded-2xl border border-neutral-800 bg-neutral-900/50 p-4 text-sm text-neutral-400",children:o.jsx("p",{children:"More settings coming soon."})})]}),Sf=()=>{switch(u){case"workouts":return xf();case"analysis":return vf();case"routes":return yf();case"settings":return wf();case"dashboard":default:return hf()}};return o.jsx("div",{className:"min-h-screen bg-neutral-950 text-neutral-100",children:o.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[o.jsxs("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold",children:"Bike Trainer Dashboard"}),o.jsx("p",{className:"text-neutral-400 text-sm",children:"Connect BLE FTMS/Cycling Power & Heart Rate. If Bluetooth is blocked, the Simulator runs automatically."})]}),o.jsx("div",{className:"flex gap-2 flex-wrap items-center",children:o.jsxs("label",{className:"px-3 py-2 rounded-2xl text-sm border border-neutral-700 flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:e,onChange:I=>t(I.target.checked)}),"Simulator"]})})]}),o.jsx("div",{className:"mt-4 flex gap-2 border-b border-neutral-800",role:"tablist","aria-label":"Main sections",children:qo.map((I,H)=>{const ne=u===I.id;return o.jsxs("button",{type:"button",role:"tab","aria-selected":ne,tabIndex:ne?0:-1,className:`border-b-2 px-4 py-2 text-sm font-medium transition-colors ${ne?"border-emerald-400 text-emerald-400":"border-transparent text-neutral-400 hover:text-neutral-200"}`,onClick:()=>_(I.id),onKeyDown:ie=>N(ie,H),ref:ie=>{d.current[H]=ie},"data-testid":`tab-${I.id}`,children:[o.jsx("span",{className:"mr-2",children:I.icon}),I.label]},I.id)})}),Sf(),o.jsxs("footer",{className:"mt-6 text-xs text-neutral-500 space-y-1",children:[o.jsx("p",{children:"Browser support: Chrome/Edge desktop. Requires HTTPS or localhost for Web Bluetooth. If Tacx Bushido lacks BLE FTMS/CPS, use Simulator or pair a BLE sensor."}),o.jsxs("p",{children:["If you are embedding this page, ensure Permissions-Policy allows bluetooth (e.g., header ",o.jsx("code",{children:"Permissions-Policy: bluetooth=(self)"})," or iframe attribute ",o.jsx("code",{children:'allow="bluetooth"'}),"), and avoid sandbox flags that block it."]})]}),s&&o.jsx(Jh,{env:T,onClose:()=>l(!1),onCopy:mf,copied:i,onRefresh:M})]})})}function dn({label:e,value:t,unit:n=""}){var l;const s=t==null||typeof t=="number"&&Number.isNaN(t)?"—":typeof t=="number"?((l=t.toFixed)==null?void 0:l.call(t,0))??String(t):String(t);return o.jsxs("div",{className:"pointer-events-none min-w-[90px] rounded-lg border border-neutral-800 bg-neutral-950/60 px-2 py-1.5 text-xs text-neutral-200",children:[o.jsx("div",{className:"text-[10px] uppercase tracking-wide text-neutral-400",children:e}),o.jsxs("div",{className:"font-semibold",children:[s," ",n]})]})}class u0 extends h.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-neutral-950 text-neutral-100 flex items-center justify-center p-6",children:o.jsxs("div",{className:"max-w-md border border-neutral-800 rounded-2xl p-6 bg-neutral-900/50",children:[o.jsx("h2",{className:"text-xl font-semibold text-rose-400 mb-2",children:"Something went wrong"}),o.jsx("p",{className:"text-neutral-400 mb-4",children:"The bike trainer dashboard encountered an error. Please refresh the page to try again."}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500",children:"Refresh Page"}),!1]})}):this.props.children}}const c0=ro.createRoot(document.getElementById("root"));c0.render(o.jsx(sr.StrictMode,{children:o.jsx(u0,{children:o.jsx(a0,{})})}));
